# CIRX OTC Backend Environment Configuration
# Copy this file to .env and configure with your actual values

# Application Configuration
APP_ENV=production
APP_DEBUG=false
APP_URL=https://api.cirx.io
APP_TIMEZONE=UTC

# Database Configuration
DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=cirx_otc
DB_USERNAME=cirx_user
DB_PASSWORD=your_secure_password_here

# Alternative: SQLite for development
# DB_CONNECTION=sqlite
# DB_DATABASE=/path/to/database.sqlite

# Redis Configuration (for queue processing)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# Ethereum Blockchain Configuration (READ-ONLY for payment verification)
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
ETHEREUM_RPC_URL_BACKUP=https://eth-mainnet.alchemyapi.io/v2/YOUR_ALCHEMY_KEY
ETHEREUM_CHAIN_ID=1
# ETHEREUM_PRIVATE_KEY=your_ethereum_wallet_private_key_here  # UNUSED: Mock implementation only
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_API_KEY

# Polygon (Matic) Configuration (READ-ONLY for payment verification)
POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
POLYGON_RPC_URL_BACKUP=https://polygon-rpc.com
POLYGON_CHAIN_ID=137
# POLYGON_PRIVATE_KEY=your_polygon_wallet_private_key_here  # UNUSED: Mock implementation only

# Binance Smart Chain Configuration (READ-ONLY for payment verification)
BSC_RPC_URL=https://bsc-dataseed1.binance.org
BSC_RPC_URL_BACKUP=https://bsc-dataseed2.binance.org
BSC_CHAIN_ID=56
# BSC_PRIVATE_KEY=your_bsc_wallet_private_key_here  # UNUSED: Mock implementation only

# Ethereum Testnets (READ-ONLY for payment verification)
GOERLI_RPC_URL=https://goerli.infura.io/v3/YOUR_INFURA_PROJECT_ID
GOERLI_RPC_URL_BACKUP=https://eth-goerli.alchemyapi.io/v2/YOUR_ALCHEMY_KEY
GOERLI_CHAIN_ID=5
# GOERLI_PRIVATE_KEY=your_goerli_testnet_private_key_here  # UNUSED: Mock implementation only

SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID
SEPOLIA_RPC_URL_BACKUP=https://eth-sepolia.alchemyapi.io/v2/YOUR_ALCHEMY_KEY
SEPOLIA_CHAIN_ID=11155111
# SEPOLIA_PRIVATE_KEY=your_sepolia_testnet_private_key_here  # UNUSED: Mock implementation only

# Solana Configuration (READ-ONLY for payment verification) 
# SOLANA_RPC_URL=https://api.mainnet-beta.solana.com  # UNUSED: Not implemented
# SOLANA_RPC_URL_BACKUP=https://solana-api.projectserum.com  # UNUSED: Not implemented

# CIRX Blockchain Configuration (ACTIVE - Backend sends CIRX transactions)
CIRX_NAG_URL=https://nag.circularlabs.io/NAG.php?cep=
CIRX_NAG_URL_BACKUP=https://nag.circularlabs.io/NAG_Mainnet.php?cep=
CIRX_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
CIRX_WALLET_PRIVATE_KEY=your_cirx_wallet_private_key_here  # REQUIRED: Only private key actually used
CIRX_WALLET_ADDRESS=0x1234567890123456789012345678901234567890
CIRX_CHAIN_ID=9999

# Platform Configuration
PLATFORM_FEE_PERCENTAGE=0.5
PLATFORM_FEE_WALLET=0x1234567890123456789012345678901234567890

# Supported Payment Tokens (Ethereum)
USDC_CONTRACT_ADDRESS=0xA0b86a33E6441e8532B8aE1F8A0b86a33E644122
USDT_CONTRACT_ADDRESS=0xdAC17F958D2ee523a2206206994597C13D831ec7
ETH_ADDRESS=0x0000000000000000000000000000000000000000

# Token Decimals
USDC_DECIMALS=6
USDT_DECIMALS=6
ETH_DECIMALS=18
CIRX_DECIMALS=18

# API Security
API_KEY_REQUIRED=true
API_KEYS=your_primary_api_key_here,your_secondary_api_key_here
JWT_SECRET=your_jwt_secret_key_here

# Rate Limiting
RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=60

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,https://app.cirx.io
CORS_ALLOW_CREDENTIALS=false
CORS_MAX_AGE=86400

# Worker Configuration
PAYMENT_VERIFICATION_MAX_RETRIES=3
PAYMENT_VERIFICATION_RETRY_DELAY=30
CIRX_TRANSFER_MAX_RETRIES=3
CIRX_TRANSFER_RETRY_DELAY=60
WORKER_BATCH_SIZE=50
WORKER_PROCESS_INTERVAL=30

# Logging Configuration
LOG_LEVEL=info
LOG_CHANNEL=stack
LOG_FILE_PATH=/var/log/cirx-otc/application.log
LOG_MAX_FILES=14
API_LOGGING_ENABLED=true
LOG_REQUEST_BODY=false
LOG_RESPONSE_BODY=false

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Email Notifications
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailgun.org
MAIL_PORT=587
MAIL_USERNAME=your-mailgun-username
MAIL_PASSWORD=your-mailgun-password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@cirx.io
MAIL_FROM_NAME="CIRX OTC"

# Notification Configuration
SLACK_WEBHOOK_URL=
TEAM_EMAIL=team@circular.com

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Development/Testing Configuration
TESTNET_MODE=false
ETHEREUM_TESTNET_RPC=https://goerli.infura.io/v3/YOUR_INFURA_PROJECT_ID
SOLANA_TESTNET_RPC=https://api.testnet.solana.com

# Gas Configuration (Ethereum) - UNUSED: Mock implementation only
# GAS_PRICE_GWEI=20  # UNUSED: No Ethereum transaction signing
# GAS_LIMIT=200000  # UNUSED: No Ethereum transaction signing
# MAX_FEE_PER_GAS=30  # UNUSED: No Ethereum transaction signing
# MAX_PRIORITY_FEE_PER_GAS=2  # UNUSED: No Ethereum transaction signing

# Transaction Timeouts
PAYMENT_VERIFICATION_TIMEOUT=300
CIRX_TRANSFER_TIMEOUT=600
BLOCKCHAIN_CONFIRMATION_BLOCKS=3

# Cache Configuration
CACHE_DRIVER=redis
CACHE_PREFIX=cirx_otc
CACHE_TTL=3600

# Queue Configuration
QUEUE_CONNECTION=redis
QUEUE_DEFAULT=default
QUEUE_RETRY_AFTER=90
QUEUE_MAX_ATTEMPTS=3

# Feature Flags
FEATURE_BATCH_TRANSFERS=true
FEATURE_AUTOMATIC_RETRIES=true
FEATURE_SLACK_NOTIFICATIONS=false
FEATURE_ADVANCED_MONITORING=true

# External Service API Keys
COINGECKO_API_KEY=your_coingecko_api_key
COINMARKETCAP_API_KEY=your_coinmarketcap_api_key

# Security Configuration
ENCRYPTION_KEY=your_32_character_encryption_key
HASH_ROUNDS=12

# Production Monitoring Configuration
ALERT_STUCK_PAYMENT_MINUTES=30
ALERT_FAILED_TRANSFER_PERCENT=25.0
ALERT_WALLET_CONFIG_FAILURES=3
MONITORING_LOG_FILE=/var/log/cirx-otc/monitoring.log

# Health Check Endpoints
HEALTH_CHECK_SECRET=your_health_check_secret_for_monitoring_endpoints