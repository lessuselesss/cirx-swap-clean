This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
apis/
  offchain-worker/
    src/
      context/
        authContext.ts
      lib/
        auth.ts
        prisma.ts
      middleware/
        cors.ts
      routes/
        auth/
          index.ts
      env.ts
      index.ts
    .gitignore
    package.json
    README.md
    tsconfig.json
    worker-configuration.d.ts
    wrangler.jsonc
apps/
  web/
    app/
      assets/
        css/
          animations.css
          main.css
      components/
        pool/
          PoolCard.vue
          Table.vue
        swap/
          ConfirmButton.vue
          NumericalInput.vue
          SelectPanel.vue
          TokenSelector.vue
        ConnectButton.vue
        Footer.vue
        SiteHeader.vue
        TextField.vue
        ThemeToggle.vue
        Web2SigninButton.vue
      layouts/
        default.vue
      lib/
        auth.ts
      pages/
        auth/
          confirm.vue
          login.vue
        pool/
          fiat/
            [id]/
              index.vue
          stables/
            [id]/
              index.vue
          index.vue
        honosjs.vue
        index.vue
        swap.vue
      utils/
        addressUtils.ts
        formate.ts
        pool.ts
        reown-config.ts
        tokens.ts
      app.config.ts
      app.vue
      error.vue
    public/
      chains/
        base.svg
        celo.svg
        lisk.svg
        solana.svg
      tokens/
        kenya.svg
        nigerian.svg
      cap_grad_svg.svg
      cup_win_svg.svg
    server/
      tsconfig.json
    .env.example
    .gitignore
    .npmrc
    content.config.ts
    eslint.config.mjs
    folder.md
    nuxt.config.ts
    package.json
    README.md
    tsconfig.json
contracts/
  marketplace-contract/
    .github/
      workflows/
        test.yml
    src/
      adapters/
        ERC1155Adapter.sol
        ERC721Adapter.sol
      interfaces/
        INFTAdapter.sol
        IWETH.sol
      mocks/
        BoredApe.sol
        CallOfDutySMGs.sol
      utils/
        NFTMarketBaseUtils.sol
      NFTMarketPlace.sol
    test/
      NFTMarketPlaceTest.t.sol
    .gitignore
    foundry.toml
    README.md
    remappings.txt
  test-staking/
    src/
      RewardsDistributionRecipient.sol
      Staking.sol
    test/
      StakingRewards.t.sol
    .gitignore
    foundry.toml
    README.md
    remappings.txt
packages/
  database/
    prisma/
      schema.prisma
    src/
      client.ts
      index.ts
    .gitignore
    package.json
  eslint-config-custom/
    library.js
    nuxt.js
    package.json
    README.md
    vue.js
  tsconfig/
    base.json
    nuxt.json
    package.json
    vue.json
  ui/
    src/
      assets/
        circles.svg
        next.svg
        turborepo.svg
        vercel.svg
      card.vue
      gradient.vue
      page.vue
    .eslintrc.js
    index.ts
    package.json
    tsconfig.json
.gitignore
.gitmodules
.npmrc
landing-page-insp.md
package.json
pnpm-workspace.yaml
README.md
renovate.json
turbo.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="apis/offchain-worker/src/context/authContext.ts">
import { Context, Next } from "hono";
import { auth } from "../lib/auth";

const authContext = async (ctx: Context, next: Next) => {
  const session = await auth.api.getSession({ headers: ctx.req.raw.headers });

  if (!session) {
    ctx.set("user", null);
    ctx.set("session", null);
    return next();
  }

  ctx.set("user", session.user);
  ctx.set("session", session.session);
  return next();
};

export default authContext;
</file>

<file path="apis/offchain-worker/src/lib/prisma.ts">
import {  PrismaClient } from "@distant/db";
import { withAccelerate } from "@prisma/extension-accelerate";

export const prisma = new PrismaClient({
   datasourceUrl: process.env.BETTER_AUTH_SECRET,
 }).$extends(withAccelerate());
</file>

<file path="apis/offchain-worker/src/middleware/cors.ts">
import { cors as corsMiddleware } from "hono/cors";

const allowedOrigins = ["http://localhost:3000", "https://example.org"];

const cors = corsMiddleware({
  origin: allowedOrigins,
  allowHeaders: ["Content-Type", "Authorization"],
  allowMethods: ["POST", "GET", "OPTIONS"],
  exposeHeaders: ["Content-Length"],
  maxAge: 600,
  credentials: true,
});

export default cors;
</file>

<file path="apis/offchain-worker/src/routes/auth/index.ts">
import { Hono } from "hono";
import { auth } from "../../lib/auth";

const authRoute = new Hono();

authRoute.on(["POST", "GET"], "/api/auth/*", (c) => {
  return auth.handler(c.req.raw);
});

export default authRoute;
</file>

<file path="apis/offchain-worker/src/env.ts">
import { z } from "zod";

const EnvSchema = z.object({
  NODE_ENV: z.string().default("development"),
  DATABASE_URL: z.string().url(),
  GOOGLE_CLIENT_ID: z.string(),
  GOOGLE_CLIENT_SECRET: z.string(),
  BETTER_AUTH_SECRET: z.string(),
  BETTER_AUTH_URL: z.string().url(),
});

export type Environment = z.infer<typeof EnvSchema>;

export function parseEnv(data: any) {
  const { data: env, error } = EnvSchema.safeParse(data);

  if (error) {
    const errorMessage = `error: invalid env:\n${Object.entries(
      error.flatten().fieldErrors
    )
      .map(([key, errors]) => `${key}: ${errors.join(", ")}`)
      .join("\n")}`;
    throw new Error(errorMessage);
  }

  return env;
}
</file>

<file path="apis/offchain-worker/README.md">
```txt
npm install
npm run dev
```

```txt
npm run deploy
```

[For generating/synchronizing types based on your Worker configuration run](https://developers.cloudflare.com/workers/wrangler/commands/#types):

```txt
npm run cf-typegen
```

Pass the `CloudflareBindings` as generics when instantiation `Hono`:

```ts
// src/index.ts
const app = new Hono<{ Bindings: CloudflareBindings }>()
```
</file>

<file path="apis/offchain-worker/worker-configuration.d.ts">
/* eslint-disable */
// Generated by Wrangler by running `wrangler types --env-interface CloudflareBindings` (hash: 227086d1bfdee1011ef9eeb1aa9d0518)
// Runtime types generated with workerd@1.20250617.0 2025-06-06 nodejs_compat
declare namespace Cloudflare {
	interface Env {
		DATABASE_URL_OFFCHAIN_WORKER: string;
		BETTER_AUTH_SECRET: string;
		GOOGLE_CLIENT_ID: string;
		GOOGLE_CLIENT_SECRET: string;
	}
}
interface CloudflareBindings extends Cloudflare.Env {}
type StringifyValues<EnvType extends Record<string, unknown>> = {
	[Binding in keyof EnvType]: EnvType[Binding] extends string ? EnvType[Binding] : string;
};
declare namespace NodeJS {
	interface ProcessEnv extends StringifyValues<Pick<Cloudflare.Env, "DATABASE_URL_OFFCHAIN_WORKER" | "BETTER_AUTH_SECRET" | "GOOGLE_CLIENT_ID" | "GOOGLE_CLIENT_SECRET">> {}
}

// Begin runtime types
/*! *****************************************************************************
Copyright (c) Cloudflare. All rights reserved.
Copyright (c) Microsoft Corporation. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* eslint-disable */
// noinspection JSUnusedGlobalSymbols
declare var onmessage: never;
/**
 * An abnormal event (called an exception) which occurs as a result of calling a method or accessing a property of a web API.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/DOMException)
 */
declare class DOMException extends Error {
    constructor(message?: string, name?: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/DOMException/message) */
    readonly message: string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/DOMException/name) */
    readonly name: string;
    /**
     * @deprecated
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/DOMException/code)
     */
    readonly code: number;
    static readonly INDEX_SIZE_ERR: number;
    static readonly DOMSTRING_SIZE_ERR: number;
    static readonly HIERARCHY_REQUEST_ERR: number;
    static readonly WRONG_DOCUMENT_ERR: number;
    static readonly INVALID_CHARACTER_ERR: number;
    static readonly NO_DATA_ALLOWED_ERR: number;
    static readonly NO_MODIFICATION_ALLOWED_ERR: number;
    static readonly NOT_FOUND_ERR: number;
    static readonly NOT_SUPPORTED_ERR: number;
    static readonly INUSE_ATTRIBUTE_ERR: number;
    static readonly INVALID_STATE_ERR: number;
    static readonly SYNTAX_ERR: number;
    static readonly INVALID_MODIFICATION_ERR: number;
    static readonly NAMESPACE_ERR: number;
    static readonly INVALID_ACCESS_ERR: number;
    static readonly VALIDATION_ERR: number;
    static readonly TYPE_MISMATCH_ERR: number;
    static readonly SECURITY_ERR: number;
    static readonly NETWORK_ERR: number;
    static readonly ABORT_ERR: number;
    static readonly URL_MISMATCH_ERR: number;
    static readonly QUOTA_EXCEEDED_ERR: number;
    static readonly TIMEOUT_ERR: number;
    static readonly INVALID_NODE_TYPE_ERR: number;
    static readonly DATA_CLONE_ERR: number;
    get stack(): any;
    set stack(value: any);
}
type WorkerGlobalScopeEventMap = {
    fetch: FetchEvent;
    scheduled: ScheduledEvent;
    queue: QueueEvent;
    unhandledrejection: PromiseRejectionEvent;
    rejectionhandled: PromiseRejectionEvent;
};
declare abstract class WorkerGlobalScope extends EventTarget<WorkerGlobalScopeEventMap> {
    EventTarget: typeof EventTarget;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console) */
interface Console {
    "assert"(condition?: boolean, ...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/clear_static) */
    clear(): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/count_static) */
    count(label?: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/countReset_static) */
    countReset(label?: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/debug_static) */
    debug(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/dir_static) */
    dir(item?: any, options?: any): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/dirxml_static) */
    dirxml(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/error_static) */
    error(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/group_static) */
    group(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/groupCollapsed_static) */
    groupCollapsed(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/groupEnd_static) */
    groupEnd(): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/info_static) */
    info(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/log_static) */
    log(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/table_static) */
    table(tabularData?: any, properties?: string[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/time_static) */
    time(label?: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/timeEnd_static) */
    timeEnd(label?: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/timeLog_static) */
    timeLog(label?: string, ...data: any[]): void;
    timeStamp(label?: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/trace_static) */
    trace(...data: any[]): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/console/warn_static) */
    warn(...data: any[]): void;
}
declare const console: Console;
type BufferSource = ArrayBufferView | ArrayBuffer;
type TypedArray = Int8Array | Uint8Array | Uint8ClampedArray | Int16Array | Uint16Array | Int32Array | Uint32Array | Float32Array | Float64Array | BigInt64Array | BigUint64Array;
declare namespace WebAssembly {
    class CompileError extends Error {
        constructor(message?: string);
    }
    class RuntimeError extends Error {
        constructor(message?: string);
    }
    type ValueType = "anyfunc" | "externref" | "f32" | "f64" | "i32" | "i64" | "v128";
    interface GlobalDescriptor {
        value: ValueType;
        mutable?: boolean;
    }
    class Global {
        constructor(descriptor: GlobalDescriptor, value?: any);
        value: any;
        valueOf(): any;
    }
    type ImportValue = ExportValue | number;
    type ModuleImports = Record<string, ImportValue>;
    type Imports = Record<string, ModuleImports>;
    type ExportValue = Function | Global | Memory | Table;
    type Exports = Record<string, ExportValue>;
    class Instance {
        constructor(module: Module, imports?: Imports);
        readonly exports: Exports;
    }
    interface MemoryDescriptor {
        initial: number;
        maximum?: number;
        shared?: boolean;
    }
    class Memory {
        constructor(descriptor: MemoryDescriptor);
        readonly buffer: ArrayBuffer;
        grow(delta: number): number;
    }
    type ImportExportKind = "function" | "global" | "memory" | "table";
    interface ModuleExportDescriptor {
        kind: ImportExportKind;
        name: string;
    }
    interface ModuleImportDescriptor {
        kind: ImportExportKind;
        module: string;
        name: string;
    }
    abstract class Module {
        static customSections(module: Module, sectionName: string): ArrayBuffer[];
        static exports(module: Module): ModuleExportDescriptor[];
        static imports(module: Module): ModuleImportDescriptor[];
    }
    type TableKind = "anyfunc" | "externref";
    interface TableDescriptor {
        element: TableKind;
        initial: number;
        maximum?: number;
    }
    class Table {
        constructor(descriptor: TableDescriptor, value?: any);
        readonly length: number;
        get(index: number): any;
        grow(delta: number, value?: any): number;
        set(index: number, value?: any): void;
    }
    function instantiate(module: Module, imports?: Imports): Promise<Instance>;
    function validate(bytes: BufferSource): boolean;
}
/**
 * This ServiceWorker API interface represents the global execution context of a service worker.
 * Available only in secure contexts.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/ServiceWorkerGlobalScope)
 */
interface ServiceWorkerGlobalScope extends WorkerGlobalScope {
    DOMException: typeof DOMException;
    WorkerGlobalScope: typeof WorkerGlobalScope;
    btoa(data: string): string;
    atob(data: string): string;
    setTimeout(callback: (...args: any[]) => void, msDelay?: number): number;
    setTimeout<Args extends any[]>(callback: (...args: Args) => void, msDelay?: number, ...args: Args): number;
    clearTimeout(timeoutId: number | null): void;
    setInterval(callback: (...args: any[]) => void, msDelay?: number): number;
    setInterval<Args extends any[]>(callback: (...args: Args) => void, msDelay?: number, ...args: Args): number;
    clearInterval(timeoutId: number | null): void;
    queueMicrotask(task: Function): void;
    structuredClone<T>(value: T, options?: StructuredSerializeOptions): T;
    reportError(error: any): void;
    fetch(input: RequestInfo | URL, init?: RequestInit<RequestInitCfProperties>): Promise<Response>;
    self: ServiceWorkerGlobalScope;
    crypto: Crypto;
    caches: CacheStorage;
    scheduler: Scheduler;
    performance: Performance;
    Cloudflare: Cloudflare;
    readonly origin: string;
    Event: typeof Event;
    ExtendableEvent: typeof ExtendableEvent;
    CustomEvent: typeof CustomEvent;
    PromiseRejectionEvent: typeof PromiseRejectionEvent;
    FetchEvent: typeof FetchEvent;
    TailEvent: typeof TailEvent;
    TraceEvent: typeof TailEvent;
    ScheduledEvent: typeof ScheduledEvent;
    MessageEvent: typeof MessageEvent;
    CloseEvent: typeof CloseEvent;
    ReadableStreamDefaultReader: typeof ReadableStreamDefaultReader;
    ReadableStreamBYOBReader: typeof ReadableStreamBYOBReader;
    ReadableStream: typeof ReadableStream;
    WritableStream: typeof WritableStream;
    WritableStreamDefaultWriter: typeof WritableStreamDefaultWriter;
    TransformStream: typeof TransformStream;
    ByteLengthQueuingStrategy: typeof ByteLengthQueuingStrategy;
    CountQueuingStrategy: typeof CountQueuingStrategy;
    ErrorEvent: typeof ErrorEvent;
    EventSource: typeof EventSource;
    ReadableStreamBYOBRequest: typeof ReadableStreamBYOBRequest;
    ReadableStreamDefaultController: typeof ReadableStreamDefaultController;
    ReadableByteStreamController: typeof ReadableByteStreamController;
    WritableStreamDefaultController: typeof WritableStreamDefaultController;
    TransformStreamDefaultController: typeof TransformStreamDefaultController;
    CompressionStream: typeof CompressionStream;
    DecompressionStream: typeof DecompressionStream;
    TextEncoderStream: typeof TextEncoderStream;
    TextDecoderStream: typeof TextDecoderStream;
    Headers: typeof Headers;
    Body: typeof Body;
    Request: typeof Request;
    Response: typeof Response;
    WebSocket: typeof WebSocket;
    WebSocketPair: typeof WebSocketPair;
    WebSocketRequestResponsePair: typeof WebSocketRequestResponsePair;
    AbortController: typeof AbortController;
    AbortSignal: typeof AbortSignal;
    TextDecoder: typeof TextDecoder;
    TextEncoder: typeof TextEncoder;
    navigator: Navigator;
    Navigator: typeof Navigator;
    URL: typeof URL;
    URLSearchParams: typeof URLSearchParams;
    URLPattern: typeof URLPattern;
    Blob: typeof Blob;
    File: typeof File;
    FormData: typeof FormData;
    Crypto: typeof Crypto;
    SubtleCrypto: typeof SubtleCrypto;
    CryptoKey: typeof CryptoKey;
    CacheStorage: typeof CacheStorage;
    Cache: typeof Cache;
    FixedLengthStream: typeof FixedLengthStream;
    IdentityTransformStream: typeof IdentityTransformStream;
    HTMLRewriter: typeof HTMLRewriter;
}
declare function addEventListener<Type extends keyof WorkerGlobalScopeEventMap>(type: Type, handler: EventListenerOrEventListenerObject<WorkerGlobalScopeEventMap[Type]>, options?: EventTargetAddEventListenerOptions | boolean): void;
declare function removeEventListener<Type extends keyof WorkerGlobalScopeEventMap>(type: Type, handler: EventListenerOrEventListenerObject<WorkerGlobalScopeEventMap[Type]>, options?: EventTargetEventListenerOptions | boolean): void;
/**
 * Dispatches a synthetic event event to target and returns true if either event's cancelable attribute value is false or its preventDefault() method was not invoked, and false otherwise.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/dispatchEvent)
 */
declare function dispatchEvent(event: WorkerGlobalScopeEventMap[keyof WorkerGlobalScopeEventMap]): boolean;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/btoa) */
declare function btoa(data: string): string;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/atob) */
declare function atob(data: string): string;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/setTimeout) */
declare function setTimeout(callback: (...args: any[]) => void, msDelay?: number): number;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/setTimeout) */
declare function setTimeout<Args extends any[]>(callback: (...args: Args) => void, msDelay?: number, ...args: Args): number;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/clearTimeout) */
declare function clearTimeout(timeoutId: number | null): void;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/setInterval) */
declare function setInterval(callback: (...args: any[]) => void, msDelay?: number): number;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/setInterval) */
declare function setInterval<Args extends any[]>(callback: (...args: Args) => void, msDelay?: number, ...args: Args): number;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/clearInterval) */
declare function clearInterval(timeoutId: number | null): void;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/queueMicrotask) */
declare function queueMicrotask(task: Function): void;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/structuredClone) */
declare function structuredClone<T>(value: T, options?: StructuredSerializeOptions): T;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/reportError) */
declare function reportError(error: any): void;
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/fetch) */
declare function fetch(input: RequestInfo | URL, init?: RequestInit<RequestInitCfProperties>): Promise<Response>;
declare const self: ServiceWorkerGlobalScope;
/**
* The Web Crypto API provides a set of low-level functions for common cryptographic tasks.
* The Workers runtime implements the full surface of this API, but with some differences in
* the [supported algorithms](https://developers.cloudflare.com/workers/runtime-apis/web-crypto/#supported-algorithms)
* compared to those implemented in most browsers.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/web-crypto/)
*/
declare const crypto: Crypto;
/**
* The Cache API allows fine grained control of reading and writing from the Cloudflare global network cache.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/cache/)
*/
declare const caches: CacheStorage;
declare const scheduler: Scheduler;
/**
* The Workers runtime supports a subset of the Performance API, used to measure timing and performance,
* as well as timing of subrequests and other operations.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/performance/)
*/
declare const performance: Performance;
declare const Cloudflare: Cloudflare;
declare const origin: string;
declare const navigator: Navigator;
interface TestController {
}
interface ExecutionContext {
    waitUntil(promise: Promise<any>): void;
    passThroughOnException(): void;
    props: any;
}
type ExportedHandlerFetchHandler<Env = unknown, CfHostMetadata = unknown> = (request: Request<CfHostMetadata, IncomingRequestCfProperties<CfHostMetadata>>, env: Env, ctx: ExecutionContext) => Response | Promise<Response>;
type ExportedHandlerTailHandler<Env = unknown> = (events: TraceItem[], env: Env, ctx: ExecutionContext) => void | Promise<void>;
type ExportedHandlerTraceHandler<Env = unknown> = (traces: TraceItem[], env: Env, ctx: ExecutionContext) => void | Promise<void>;
type ExportedHandlerTailStreamHandler<Env = unknown> = (event: TailStream.TailEvent, env: Env, ctx: ExecutionContext) => TailStream.TailEventHandlerType | Promise<TailStream.TailEventHandlerType>;
type ExportedHandlerScheduledHandler<Env = unknown> = (controller: ScheduledController, env: Env, ctx: ExecutionContext) => void | Promise<void>;
type ExportedHandlerQueueHandler<Env = unknown, Message = unknown> = (batch: MessageBatch<Message>, env: Env, ctx: ExecutionContext) => void | Promise<void>;
type ExportedHandlerTestHandler<Env = unknown> = (controller: TestController, env: Env, ctx: ExecutionContext) => void | Promise<void>;
interface ExportedHandler<Env = unknown, QueueHandlerMessage = unknown, CfHostMetadata = unknown> {
    fetch?: ExportedHandlerFetchHandler<Env, CfHostMetadata>;
    tail?: ExportedHandlerTailHandler<Env>;
    trace?: ExportedHandlerTraceHandler<Env>;
    tailStream?: ExportedHandlerTailStreamHandler<Env>;
    scheduled?: ExportedHandlerScheduledHandler<Env>;
    test?: ExportedHandlerTestHandler<Env>;
    email?: EmailExportedHandler<Env>;
    queue?: ExportedHandlerQueueHandler<Env, QueueHandlerMessage>;
}
interface StructuredSerializeOptions {
    transfer?: any[];
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/PromiseRejectionEvent) */
declare abstract class PromiseRejectionEvent extends Event {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/PromiseRejectionEvent/promise) */
    readonly promise: Promise<any>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/PromiseRejectionEvent/reason) */
    readonly reason: any;
}
declare abstract class Navigator {
    sendBeacon(url: string, body?: (ReadableStream | string | (ArrayBuffer | ArrayBufferView) | Blob | FormData | URLSearchParams | URLSearchParams)): boolean;
    readonly userAgent: string;
    readonly hardwareConcurrency: number;
    readonly language: string;
    readonly languages: string[];
}
/**
* The Workers runtime supports a subset of the Performance API, used to measure timing and performance,
* as well as timing of subrequests and other operations.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/performance/)
*/
interface Performance {
    /* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/performance/#performancetimeorigin) */
    readonly timeOrigin: number;
    /* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/performance/#performancenow) */
    now(): number;
}
interface AlarmInvocationInfo {
    readonly isRetry: boolean;
    readonly retryCount: number;
}
interface Cloudflare {
    readonly compatibilityFlags: Record<string, boolean>;
}
interface DurableObject {
    fetch(request: Request): Response | Promise<Response>;
    alarm?(alarmInfo?: AlarmInvocationInfo): void | Promise<void>;
    webSocketMessage?(ws: WebSocket, message: string | ArrayBuffer): void | Promise<void>;
    webSocketClose?(ws: WebSocket, code: number, reason: string, wasClean: boolean): void | Promise<void>;
    webSocketError?(ws: WebSocket, error: unknown): void | Promise<void>;
}
type DurableObjectStub<T extends Rpc.DurableObjectBranded | undefined = undefined> = Fetcher<T, "alarm" | "webSocketMessage" | "webSocketClose" | "webSocketError"> & {
    readonly id: DurableObjectId;
    readonly name?: string;
};
interface DurableObjectId {
    toString(): string;
    equals(other: DurableObjectId): boolean;
    readonly name?: string;
}
interface DurableObjectNamespace<T extends Rpc.DurableObjectBranded | undefined = undefined> {
    newUniqueId(options?: DurableObjectNamespaceNewUniqueIdOptions): DurableObjectId;
    idFromName(name: string): DurableObjectId;
    idFromString(id: string): DurableObjectId;
    get(id: DurableObjectId, options?: DurableObjectNamespaceGetDurableObjectOptions): DurableObjectStub<T>;
    jurisdiction(jurisdiction: DurableObjectJurisdiction): DurableObjectNamespace<T>;
}
type DurableObjectJurisdiction = "eu" | "fedramp" | "fedramp-high";
interface DurableObjectNamespaceNewUniqueIdOptions {
    jurisdiction?: DurableObjectJurisdiction;
}
type DurableObjectLocationHint = "wnam" | "enam" | "sam" | "weur" | "eeur" | "apac" | "oc" | "afr" | "me";
interface DurableObjectNamespaceGetDurableObjectOptions {
    locationHint?: DurableObjectLocationHint;
}
interface DurableObjectState {
    waitUntil(promise: Promise<any>): void;
    readonly id: DurableObjectId;
    readonly storage: DurableObjectStorage;
    container?: Container;
    blockConcurrencyWhile<T>(callback: () => Promise<T>): Promise<T>;
    acceptWebSocket(ws: WebSocket, tags?: string[]): void;
    getWebSockets(tag?: string): WebSocket[];
    setWebSocketAutoResponse(maybeReqResp?: WebSocketRequestResponsePair): void;
    getWebSocketAutoResponse(): WebSocketRequestResponsePair | null;
    getWebSocketAutoResponseTimestamp(ws: WebSocket): Date | null;
    setHibernatableWebSocketEventTimeout(timeoutMs?: number): void;
    getHibernatableWebSocketEventTimeout(): number | null;
    getTags(ws: WebSocket): string[];
    abort(reason?: string): void;
}
interface DurableObjectTransaction {
    get<T = unknown>(key: string, options?: DurableObjectGetOptions): Promise<T | undefined>;
    get<T = unknown>(keys: string[], options?: DurableObjectGetOptions): Promise<Map<string, T>>;
    list<T = unknown>(options?: DurableObjectListOptions): Promise<Map<string, T>>;
    put<T>(key: string, value: T, options?: DurableObjectPutOptions): Promise<void>;
    put<T>(entries: Record<string, T>, options?: DurableObjectPutOptions): Promise<void>;
    delete(key: string, options?: DurableObjectPutOptions): Promise<boolean>;
    delete(keys: string[], options?: DurableObjectPutOptions): Promise<number>;
    rollback(): void;
    getAlarm(options?: DurableObjectGetAlarmOptions): Promise<number | null>;
    setAlarm(scheduledTime: number | Date, options?: DurableObjectSetAlarmOptions): Promise<void>;
    deleteAlarm(options?: DurableObjectSetAlarmOptions): Promise<void>;
}
interface DurableObjectStorage {
    get<T = unknown>(key: string, options?: DurableObjectGetOptions): Promise<T | undefined>;
    get<T = unknown>(keys: string[], options?: DurableObjectGetOptions): Promise<Map<string, T>>;
    list<T = unknown>(options?: DurableObjectListOptions): Promise<Map<string, T>>;
    put<T>(key: string, value: T, options?: DurableObjectPutOptions): Promise<void>;
    put<T>(entries: Record<string, T>, options?: DurableObjectPutOptions): Promise<void>;
    delete(key: string, options?: DurableObjectPutOptions): Promise<boolean>;
    delete(keys: string[], options?: DurableObjectPutOptions): Promise<number>;
    deleteAll(options?: DurableObjectPutOptions): Promise<void>;
    transaction<T>(closure: (txn: DurableObjectTransaction) => Promise<T>): Promise<T>;
    getAlarm(options?: DurableObjectGetAlarmOptions): Promise<number | null>;
    setAlarm(scheduledTime: number | Date, options?: DurableObjectSetAlarmOptions): Promise<void>;
    deleteAlarm(options?: DurableObjectSetAlarmOptions): Promise<void>;
    sync(): Promise<void>;
    sql: SqlStorage;
    transactionSync<T>(closure: () => T): T;
    getCurrentBookmark(): Promise<string>;
    getBookmarkForTime(timestamp: number | Date): Promise<string>;
    onNextSessionRestoreBookmark(bookmark: string): Promise<string>;
}
interface DurableObjectListOptions {
    start?: string;
    startAfter?: string;
    end?: string;
    prefix?: string;
    reverse?: boolean;
    limit?: number;
    allowConcurrency?: boolean;
    noCache?: boolean;
}
interface DurableObjectGetOptions {
    allowConcurrency?: boolean;
    noCache?: boolean;
}
interface DurableObjectGetAlarmOptions {
    allowConcurrency?: boolean;
}
interface DurableObjectPutOptions {
    allowConcurrency?: boolean;
    allowUnconfirmed?: boolean;
    noCache?: boolean;
}
interface DurableObjectSetAlarmOptions {
    allowConcurrency?: boolean;
    allowUnconfirmed?: boolean;
}
declare class WebSocketRequestResponsePair {
    constructor(request: string, response: string);
    get request(): string;
    get response(): string;
}
interface AnalyticsEngineDataset {
    writeDataPoint(event?: AnalyticsEngineDataPoint): void;
}
interface AnalyticsEngineDataPoint {
    indexes?: ((ArrayBuffer | string) | null)[];
    doubles?: number[];
    blobs?: ((ArrayBuffer | string) | null)[];
}
/**
 * An event which takes place in the DOM.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event)
 */
declare class Event {
    constructor(type: string, init?: EventInit);
    /**
     * Returns the type of event, e.g. "click", "hashchange", or "submit".
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/type)
     */
    get type(): string;
    /**
     * Returns the event's phase, which is one of NONE, CAPTURING_PHASE, AT_TARGET, and BUBBLING_PHASE.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/eventPhase)
     */
    get eventPhase(): number;
    /**
     * Returns true or false depending on how event was initialized. True if event invokes listeners past a ShadowRoot node that is the root of its target, and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/composed)
     */
    get composed(): boolean;
    /**
     * Returns true or false depending on how event was initialized. True if event goes through its target's ancestors in reverse tree order, and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/bubbles)
     */
    get bubbles(): boolean;
    /**
     * Returns true or false depending on how event was initialized. Its return value does not always carry meaning, but true can indicate that part of the operation during which event was dispatched, can be canceled by invoking the preventDefault() method.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/cancelable)
     */
    get cancelable(): boolean;
    /**
     * Returns true if preventDefault() was invoked successfully to indicate cancelation, and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/defaultPrevented)
     */
    get defaultPrevented(): boolean;
    /**
     * @deprecated
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/returnValue)
     */
    get returnValue(): boolean;
    /**
     * Returns the object whose event listener's callback is currently being invoked.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/currentTarget)
     */
    get currentTarget(): EventTarget | undefined;
    /**
     * Returns the object to which event is dispatched (its target).
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/target)
     */
    get target(): EventTarget | undefined;
    /**
     * @deprecated
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/srcElement)
     */
    get srcElement(): EventTarget | undefined;
    /**
     * Returns the event's timestamp as the number of milliseconds measured relative to the time origin.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/timeStamp)
     */
    get timeStamp(): number;
    /**
     * Returns true if event was dispatched by the user agent, and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/isTrusted)
     */
    get isTrusted(): boolean;
    /**
     * @deprecated
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/cancelBubble)
     */
    get cancelBubble(): boolean;
    /**
     * @deprecated
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/cancelBubble)
     */
    set cancelBubble(value: boolean);
    /**
     * Invoking this method prevents event from reaching any registered event listeners after the current one finishes running and, when dispatched in a tree, also prevents event from reaching any other objects.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/stopImmediatePropagation)
     */
    stopImmediatePropagation(): void;
    /**
     * If invoked when the cancelable attribute value is true, and while executing a listener for the event with passive set to false, signals to the operation that caused event to be dispatched that it needs to be canceled.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/preventDefault)
     */
    preventDefault(): void;
    /**
     * When dispatched in a tree, invoking this method prevents event from reaching any objects other than the current object.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/stopPropagation)
     */
    stopPropagation(): void;
    /**
     * Returns the invocation target objects of event's path (objects on which listeners will be invoked), except for any nodes in shadow trees of which the shadow root's mode is "closed" that are not reachable from event's currentTarget.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Event/composedPath)
     */
    composedPath(): EventTarget[];
    static readonly NONE: number;
    static readonly CAPTURING_PHASE: number;
    static readonly AT_TARGET: number;
    static readonly BUBBLING_PHASE: number;
}
interface EventInit {
    bubbles?: boolean;
    cancelable?: boolean;
    composed?: boolean;
}
type EventListener<EventType extends Event = Event> = (event: EventType) => void;
interface EventListenerObject<EventType extends Event = Event> {
    handleEvent(event: EventType): void;
}
type EventListenerOrEventListenerObject<EventType extends Event = Event> = EventListener<EventType> | EventListenerObject<EventType>;
/**
 * EventTarget is a DOM interface implemented by objects that can receive events and may have listeners for them.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget)
 */
declare class EventTarget<EventMap extends Record<string, Event> = Record<string, Event>> {
    constructor();
    /**
     * Appends an event listener for events whose type attribute value is type. The callback argument sets the callback that will be invoked when the event is dispatched.
     *
     * The options argument sets listener-specific options. For compatibility this can be a boolean, in which case the method behaves exactly as if the value was specified as options's capture.
     *
     * When set to true, options's capture prevents callback from being invoked when the event's eventPhase attribute value is BUBBLING_PHASE. When false (or not present), callback will not be invoked when event's eventPhase attribute value is CAPTURING_PHASE. Either way, callback will be invoked if event's eventPhase attribute value is AT_TARGET.
     *
     * When set to true, options's passive indicates that the callback will not cancel the event by invoking preventDefault(). This is used to enable performance optimizations described in ยง 2.8 Observing event listeners.
     *
     * When set to true, options's once indicates that the callback will only be invoked once after which the event listener will be removed.
     *
     * If an AbortSignal is passed for options's signal, then the event listener will be removed when signal is aborted.
     *
     * The event listener is appended to target's event listener list and is not appended if it has the same type, callback, and capture.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/addEventListener)
     */
    addEventListener<Type extends keyof EventMap>(type: Type, handler: EventListenerOrEventListenerObject<EventMap[Type]>, options?: EventTargetAddEventListenerOptions | boolean): void;
    /**
     * Removes the event listener in target's event listener list with the same type, callback, and options.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/removeEventListener)
     */
    removeEventListener<Type extends keyof EventMap>(type: Type, handler: EventListenerOrEventListenerObject<EventMap[Type]>, options?: EventTargetEventListenerOptions | boolean): void;
    /**
     * Dispatches a synthetic event event to target and returns true if either event's cancelable attribute value is false or its preventDefault() method was not invoked, and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/dispatchEvent)
     */
    dispatchEvent(event: EventMap[keyof EventMap]): boolean;
}
interface EventTargetEventListenerOptions {
    capture?: boolean;
}
interface EventTargetAddEventListenerOptions {
    capture?: boolean;
    passive?: boolean;
    once?: boolean;
    signal?: AbortSignal;
}
interface EventTargetHandlerObject {
    handleEvent: (event: Event) => any | undefined;
}
/**
 * A controller object that allows you to abort one or more DOM requests as and when desired.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortController)
 */
declare class AbortController {
    constructor();
    /**
     * Returns the AbortSignal object associated with this object.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortController/signal)
     */
    get signal(): AbortSignal;
    /**
     * Invoking this method will set this object's AbortSignal's aborted flag and signal to any observers that the associated activity is to be aborted.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortController/abort)
     */
    abort(reason?: any): void;
}
/**
 * A signal object that allows you to communicate with a DOM request (such as a Fetch) and abort it if required via an AbortController object.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal)
 */
declare abstract class AbortSignal extends EventTarget {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/abort_static) */
    static abort(reason?: any): AbortSignal;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/timeout_static) */
    static timeout(delay: number): AbortSignal;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/any_static) */
    static any(signals: AbortSignal[]): AbortSignal;
    /**
     * Returns true if this AbortSignal's AbortController has signaled to abort, and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/aborted)
     */
    get aborted(): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/reason) */
    get reason(): any;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/abort_event) */
    get onabort(): any | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/abort_event) */
    set onabort(value: any | null);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/AbortSignal/throwIfAborted) */
    throwIfAborted(): void;
}
interface Scheduler {
    wait(delay: number, maybeOptions?: SchedulerWaitOptions): Promise<void>;
}
interface SchedulerWaitOptions {
    signal?: AbortSignal;
}
/**
 * Extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/ExtendableEvent)
 */
declare abstract class ExtendableEvent extends Event {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ExtendableEvent/waitUntil) */
    waitUntil(promise: Promise<any>): void;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CustomEvent) */
declare class CustomEvent<T = any> extends Event {
    constructor(type: string, init?: CustomEventCustomEventInit);
    /**
     * Returns any custom data event was created with. Typically used for synthetic events.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CustomEvent/detail)
     */
    get detail(): T;
}
interface CustomEventCustomEventInit {
    bubbles?: boolean;
    cancelable?: boolean;
    composed?: boolean;
    detail?: any;
}
/**
 * A file-like object of immutable, raw data. Blobs represent data that isn't necessarily in a JavaScript-native format. The File interface is based on Blob, inheriting blob functionality and expanding it to support files on the user's system.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob)
 */
declare class Blob {
    constructor(type?: ((ArrayBuffer | ArrayBufferView) | string | Blob)[], options?: BlobOptions);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/size) */
    get size(): number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/type) */
    get type(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/slice) */
    slice(start?: number, end?: number, type?: string): Blob;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/arrayBuffer) */
    arrayBuffer(): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/bytes) */
    bytes(): Promise<Uint8Array>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/text) */
    text(): Promise<string>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/stream) */
    stream(): ReadableStream;
}
interface BlobOptions {
    type?: string;
}
/**
 * Provides information about files and allows JavaScript in a web page to access their content.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/File)
 */
declare class File extends Blob {
    constructor(bits: ((ArrayBuffer | ArrayBufferView) | string | Blob)[] | undefined, name: string, options?: FileOptions);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/File/name) */
    get name(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/File/lastModified) */
    get lastModified(): number;
}
interface FileOptions {
    type?: string;
    lastModified?: number;
}
/**
* The Cache API allows fine grained control of reading and writing from the Cloudflare global network cache.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/cache/)
*/
declare abstract class CacheStorage {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CacheStorage/open) */
    open(cacheName: string): Promise<Cache>;
    readonly default: Cache;
}
/**
* The Cache API allows fine grained control of reading and writing from the Cloudflare global network cache.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/cache/)
*/
declare abstract class Cache {
    /* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/cache/#delete) */
    delete(request: RequestInfo | URL, options?: CacheQueryOptions): Promise<boolean>;
    /* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/cache/#match) */
    match(request: RequestInfo | URL, options?: CacheQueryOptions): Promise<Response | undefined>;
    /* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/cache/#put) */
    put(request: RequestInfo | URL, response: Response): Promise<void>;
}
interface CacheQueryOptions {
    ignoreMethod?: boolean;
}
/**
* The Web Crypto API provides a set of low-level functions for common cryptographic tasks.
* The Workers runtime implements the full surface of this API, but with some differences in
* the [supported algorithms](https://developers.cloudflare.com/workers/runtime-apis/web-crypto/#supported-algorithms)
* compared to those implemented in most browsers.
*
* [Cloudflare Docs Reference](https://developers.cloudflare.com/workers/runtime-apis/web-crypto/)
*/
declare abstract class Crypto {
    /**
     * Available only in secure contexts.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Crypto/subtle)
     */
    get subtle(): SubtleCrypto;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Crypto/getRandomValues) */
    getRandomValues<T extends Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array | BigInt64Array | BigUint64Array>(buffer: T): T;
    /**
     * Available only in secure contexts.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Crypto/randomUUID)
     */
    randomUUID(): string;
    DigestStream: typeof DigestStream;
}
/**
 * This Web Crypto API interface provides a number of low-level cryptographic functions. It is accessed via the Crypto.subtle properties available in a window context (via Window.crypto).
 * Available only in secure contexts.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto)
 */
declare abstract class SubtleCrypto {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/encrypt) */
    encrypt(algorithm: string | SubtleCryptoEncryptAlgorithm, key: CryptoKey, plainText: ArrayBuffer | ArrayBufferView): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/decrypt) */
    decrypt(algorithm: string | SubtleCryptoEncryptAlgorithm, key: CryptoKey, cipherText: ArrayBuffer | ArrayBufferView): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/sign) */
    sign(algorithm: string | SubtleCryptoSignAlgorithm, key: CryptoKey, data: ArrayBuffer | ArrayBufferView): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/verify) */
    verify(algorithm: string | SubtleCryptoSignAlgorithm, key: CryptoKey, signature: ArrayBuffer | ArrayBufferView, data: ArrayBuffer | ArrayBufferView): Promise<boolean>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/digest) */
    digest(algorithm: string | SubtleCryptoHashAlgorithm, data: ArrayBuffer | ArrayBufferView): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/generateKey) */
    generateKey(algorithm: string | SubtleCryptoGenerateKeyAlgorithm, extractable: boolean, keyUsages: string[]): Promise<CryptoKey | CryptoKeyPair>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/deriveKey) */
    deriveKey(algorithm: string | SubtleCryptoDeriveKeyAlgorithm, baseKey: CryptoKey, derivedKeyAlgorithm: string | SubtleCryptoImportKeyAlgorithm, extractable: boolean, keyUsages: string[]): Promise<CryptoKey>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/deriveBits) */
    deriveBits(algorithm: string | SubtleCryptoDeriveKeyAlgorithm, baseKey: CryptoKey, length?: number | null): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/importKey) */
    importKey(format: string, keyData: (ArrayBuffer | ArrayBufferView) | JsonWebKey, algorithm: string | SubtleCryptoImportKeyAlgorithm, extractable: boolean, keyUsages: string[]): Promise<CryptoKey>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/exportKey) */
    exportKey(format: string, key: CryptoKey): Promise<ArrayBuffer | JsonWebKey>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/wrapKey) */
    wrapKey(format: string, key: CryptoKey, wrappingKey: CryptoKey, wrapAlgorithm: string | SubtleCryptoEncryptAlgorithm): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/SubtleCrypto/unwrapKey) */
    unwrapKey(format: string, wrappedKey: ArrayBuffer | ArrayBufferView, unwrappingKey: CryptoKey, unwrapAlgorithm: string | SubtleCryptoEncryptAlgorithm, unwrappedKeyAlgorithm: string | SubtleCryptoImportKeyAlgorithm, extractable: boolean, keyUsages: string[]): Promise<CryptoKey>;
    timingSafeEqual(a: ArrayBuffer | ArrayBufferView, b: ArrayBuffer | ArrayBufferView): boolean;
}
/**
 * The CryptoKey dictionary of the Web Crypto API represents a cryptographic key.
 * Available only in secure contexts.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CryptoKey)
 */
declare abstract class CryptoKey {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CryptoKey/type) */
    readonly type: string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CryptoKey/extractable) */
    readonly extractable: boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CryptoKey/algorithm) */
    readonly algorithm: CryptoKeyKeyAlgorithm | CryptoKeyAesKeyAlgorithm | CryptoKeyHmacKeyAlgorithm | CryptoKeyRsaKeyAlgorithm | CryptoKeyEllipticKeyAlgorithm | CryptoKeyArbitraryKeyAlgorithm;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CryptoKey/usages) */
    readonly usages: string[];
}
interface CryptoKeyPair {
    publicKey: CryptoKey;
    privateKey: CryptoKey;
}
interface JsonWebKey {
    kty: string;
    use?: string;
    key_ops?: string[];
    alg?: string;
    ext?: boolean;
    crv?: string;
    x?: string;
    y?: string;
    d?: string;
    n?: string;
    e?: string;
    p?: string;
    q?: string;
    dp?: string;
    dq?: string;
    qi?: string;
    oth?: RsaOtherPrimesInfo[];
    k?: string;
}
interface RsaOtherPrimesInfo {
    r?: string;
    d?: string;
    t?: string;
}
interface SubtleCryptoDeriveKeyAlgorithm {
    name: string;
    salt?: (ArrayBuffer | ArrayBufferView);
    iterations?: number;
    hash?: (string | SubtleCryptoHashAlgorithm);
    $public?: CryptoKey;
    info?: (ArrayBuffer | ArrayBufferView);
}
interface SubtleCryptoEncryptAlgorithm {
    name: string;
    iv?: (ArrayBuffer | ArrayBufferView);
    additionalData?: (ArrayBuffer | ArrayBufferView);
    tagLength?: number;
    counter?: (ArrayBuffer | ArrayBufferView);
    length?: number;
    label?: (ArrayBuffer | ArrayBufferView);
}
interface SubtleCryptoGenerateKeyAlgorithm {
    name: string;
    hash?: (string | SubtleCryptoHashAlgorithm);
    modulusLength?: number;
    publicExponent?: (ArrayBuffer | ArrayBufferView);
    length?: number;
    namedCurve?: string;
}
interface SubtleCryptoHashAlgorithm {
    name: string;
}
interface SubtleCryptoImportKeyAlgorithm {
    name: string;
    hash?: (string | SubtleCryptoHashAlgorithm);
    length?: number;
    namedCurve?: string;
    compressed?: boolean;
}
interface SubtleCryptoSignAlgorithm {
    name: string;
    hash?: (string | SubtleCryptoHashAlgorithm);
    dataLength?: number;
    saltLength?: number;
}
interface CryptoKeyKeyAlgorithm {
    name: string;
}
interface CryptoKeyAesKeyAlgorithm {
    name: string;
    length: number;
}
interface CryptoKeyHmacKeyAlgorithm {
    name: string;
    hash: CryptoKeyKeyAlgorithm;
    length: number;
}
interface CryptoKeyRsaKeyAlgorithm {
    name: string;
    modulusLength: number;
    publicExponent: ArrayBuffer | ArrayBufferView;
    hash?: CryptoKeyKeyAlgorithm;
}
interface CryptoKeyEllipticKeyAlgorithm {
    name: string;
    namedCurve: string;
}
interface CryptoKeyArbitraryKeyAlgorithm {
    name: string;
    hash?: CryptoKeyKeyAlgorithm;
    namedCurve?: string;
    length?: number;
}
declare class DigestStream extends WritableStream<ArrayBuffer | ArrayBufferView> {
    constructor(algorithm: string | SubtleCryptoHashAlgorithm);
    readonly digest: Promise<ArrayBuffer>;
    get bytesWritten(): number | bigint;
}
/**
 * A decoder for a specific method, that is a specific character encoding, like utf-8, iso-8859-2, koi8, cp1261, gbk, etc.ยA decoder takes a stream of bytes as input and emits a stream of code points. For a more scalable, non-native library, see StringView โ a C-like representation of strings based on typed arrays.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextDecoder)
 */
declare class TextDecoder {
    constructor(label?: string, options?: TextDecoderConstructorOptions);
    /**
     * Returns the result of running encoding's decoder. The method can be invoked zero or more times with options's stream set to true, and then once without options's stream (or set to false), to process a fragmented input. If the invocation without options's stream (or set to false) has no input, it's clearest to omit both arguments.
     *
     * ```
     * var string = "", decoder = new TextDecoder(encoding), buffer;
     * while(buffer = next_chunk()) {
     *   string += decoder.decode(buffer, {stream:true});
     * }
     * string += decoder.decode(); // end-of-queue
     * ```
     *
     * If the error mode is "fatal" and encoding's decoder returns error, throws a TypeError.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextDecoder/decode)
     */
    decode(input?: (ArrayBuffer | ArrayBufferView), options?: TextDecoderDecodeOptions): string;
    get encoding(): string;
    get fatal(): boolean;
    get ignoreBOM(): boolean;
}
/**
 * TextEncoder takes a stream of code points as input and emits a stream of bytes. For a more scalable, non-native library, see StringView โ a C-like representation of strings based on typed arrays.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextEncoder)
 */
declare class TextEncoder {
    constructor();
    /**
     * Returns the result of running UTF-8's encoder.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextEncoder/encode)
     */
    encode(input?: string): Uint8Array;
    /**
     * Runs the UTF-8 encoder on source, stores the result of that operation into destination, and returns the progress made as an object wherein read is the number of converted code units of source and written is the number of bytes modified in destination.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextEncoder/encodeInto)
     */
    encodeInto(input: string, buffer: ArrayBuffer | ArrayBufferView): TextEncoderEncodeIntoResult;
    get encoding(): string;
}
interface TextDecoderConstructorOptions {
    fatal: boolean;
    ignoreBOM: boolean;
}
interface TextDecoderDecodeOptions {
    stream: boolean;
}
interface TextEncoderEncodeIntoResult {
    read: number;
    written: number;
}
/**
 * Events providing information related to errors in scripts or in files.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/ErrorEvent)
 */
declare class ErrorEvent extends Event {
    constructor(type: string, init?: ErrorEventErrorEventInit);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ErrorEvent/filename) */
    get filename(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ErrorEvent/message) */
    get message(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ErrorEvent/lineno) */
    get lineno(): number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ErrorEvent/colno) */
    get colno(): number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ErrorEvent/error) */
    get error(): any;
}
interface ErrorEventErrorEventInit {
    message?: string;
    filename?: string;
    lineno?: number;
    colno?: number;
    error?: any;
}
/**
 * Provides a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest.send() method. It uses the same format a form would use if the encoding type were set to "multipart/form-data".
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData)
 */
declare class FormData {
    constructor();
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/append) */
    append(name: string, value: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/append) */
    append(name: string, value: Blob, filename?: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/delete) */
    delete(name: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/get) */
    get(name: string): (File | string) | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/getAll) */
    getAll(name: string): (File | string)[];
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/has) */
    has(name: string): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/set) */
    set(name: string, value: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FormData/set) */
    set(name: string, value: Blob, filename?: string): void;
    /* Returns an array of key, value pairs for every entry in the list. */
    entries(): IterableIterator<[
        key: string,
        value: File | string
    ]>;
    /* Returns a list of keys in the list. */
    keys(): IterableIterator<string>;
    /* Returns a list of values in the list. */
    values(): IterableIterator<(File | string)>;
    forEach<This = unknown>(callback: (this: This, value: File | string, key: string, parent: FormData) => void, thisArg?: This): void;
    [Symbol.iterator](): IterableIterator<[
        key: string,
        value: File | string
    ]>;
}
interface ContentOptions {
    html?: boolean;
}
declare class HTMLRewriter {
    constructor();
    on(selector: string, handlers: HTMLRewriterElementContentHandlers): HTMLRewriter;
    onDocument(handlers: HTMLRewriterDocumentContentHandlers): HTMLRewriter;
    transform(response: Response): Response;
}
interface HTMLRewriterElementContentHandlers {
    element?(element: Element): void | Promise<void>;
    comments?(comment: Comment): void | Promise<void>;
    text?(element: Text): void | Promise<void>;
}
interface HTMLRewriterDocumentContentHandlers {
    doctype?(doctype: Doctype): void | Promise<void>;
    comments?(comment: Comment): void | Promise<void>;
    text?(text: Text): void | Promise<void>;
    end?(end: DocumentEnd): void | Promise<void>;
}
interface Doctype {
    readonly name: string | null;
    readonly publicId: string | null;
    readonly systemId: string | null;
}
interface Element {
    tagName: string;
    readonly attributes: IterableIterator<string[]>;
    readonly removed: boolean;
    readonly namespaceURI: string;
    getAttribute(name: string): string | null;
    hasAttribute(name: string): boolean;
    setAttribute(name: string, value: string): Element;
    removeAttribute(name: string): Element;
    before(content: string | ReadableStream | Response, options?: ContentOptions): Element;
    after(content: string | ReadableStream | Response, options?: ContentOptions): Element;
    prepend(content: string | ReadableStream | Response, options?: ContentOptions): Element;
    append(content: string | ReadableStream | Response, options?: ContentOptions): Element;
    replace(content: string | ReadableStream | Response, options?: ContentOptions): Element;
    remove(): Element;
    removeAndKeepContent(): Element;
    setInnerContent(content: string | ReadableStream | Response, options?: ContentOptions): Element;
    onEndTag(handler: (tag: EndTag) => void | Promise<void>): void;
}
interface EndTag {
    name: string;
    before(content: string | ReadableStream | Response, options?: ContentOptions): EndTag;
    after(content: string | ReadableStream | Response, options?: ContentOptions): EndTag;
    remove(): EndTag;
}
interface Comment {
    text: string;
    readonly removed: boolean;
    before(content: string, options?: ContentOptions): Comment;
    after(content: string, options?: ContentOptions): Comment;
    replace(content: string, options?: ContentOptions): Comment;
    remove(): Comment;
}
interface Text {
    readonly text: string;
    readonly lastInTextNode: boolean;
    readonly removed: boolean;
    before(content: string | ReadableStream | Response, options?: ContentOptions): Text;
    after(content: string | ReadableStream | Response, options?: ContentOptions): Text;
    replace(content: string | ReadableStream | Response, options?: ContentOptions): Text;
    remove(): Text;
}
interface DocumentEnd {
    append(content: string, options?: ContentOptions): DocumentEnd;
}
/**
 * This is the event type for fetchยevents dispatched on theยservice worker global scope. It contains information about the fetch, including theยrequest and how the receiver will treat the response. It provides the event.respondWith() method, which allows us to provide a response to this fetch.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/FetchEvent)
 */
declare abstract class FetchEvent extends ExtendableEvent {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FetchEvent/request) */
    readonly request: Request;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/FetchEvent/respondWith) */
    respondWith(promise: Response | Promise<Response>): void;
    passThroughOnException(): void;
}
type HeadersInit = Headers | Iterable<Iterable<string>> | Record<string, string>;
/**
 * This Fetch API interface allows you to perform various actions on HTTP request and response headers. These actions include retrieving, setting, adding to, and removing. A Headers object has an associated header list, which is initially empty and consistsยof zero or more name and value pairs. ยYou can add to this using methods like append() (see Examples.)ยIn all methods of this interface, header names are matched by case-insensitive byte sequence.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers)
 */
declare class Headers {
    constructor(init?: HeadersInit);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/get) */
    get(name: string): string | null;
    getAll(name: string): string[];
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/getSetCookie) */
    getSetCookie(): string[];
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/has) */
    has(name: string): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/set) */
    set(name: string, value: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/append) */
    append(name: string, value: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/delete) */
    delete(name: string): void;
    forEach<This = unknown>(callback: (this: This, value: string, key: string, parent: Headers) => void, thisArg?: This): void;
    /* Returns an iterator allowing to go through all key/value pairs contained in this object. */
    entries(): IterableIterator<[
        key: string,
        value: string
    ]>;
    /* Returns an iterator allowing to go through all keys of the key/value pairs contained in this object. */
    keys(): IterableIterator<string>;
    /* Returns an iterator allowing to go through all values of the key/value pairs contained in this object. */
    values(): IterableIterator<string>;
    [Symbol.iterator](): IterableIterator<[
        key: string,
        value: string
    ]>;
}
type BodyInit = ReadableStream<Uint8Array> | string | ArrayBuffer | ArrayBufferView | Blob | URLSearchParams | FormData;
declare abstract class Body {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/body) */
    get body(): ReadableStream | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/bodyUsed) */
    get bodyUsed(): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/arrayBuffer) */
    arrayBuffer(): Promise<ArrayBuffer>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/bytes) */
    bytes(): Promise<Uint8Array>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/text) */
    text(): Promise<string>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/json) */
    json<T>(): Promise<T>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/formData) */
    formData(): Promise<FormData>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/blob) */
    blob(): Promise<Blob>;
}
/**
 * This Fetch API interface represents the response to a request.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response)
 */
declare var Response: {
    prototype: Response;
    new (body?: BodyInit | null, init?: ResponseInit): Response;
    error(): Response;
    redirect(url: string, status?: number): Response;
    json(any: any, maybeInit?: (ResponseInit | Response)): Response;
};
/**
 * This Fetch API interface represents the response to a request.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response)
 */
interface Response extends Body {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/clone) */
    clone(): Response;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/status) */
    status: number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/statusText) */
    statusText: string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/headers) */
    headers: Headers;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/ok) */
    ok: boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/redirected) */
    redirected: boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/url) */
    url: string;
    webSocket: WebSocket | null;
    cf: any | undefined;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Response/type) */
    type: "default" | "error";
}
interface ResponseInit {
    status?: number;
    statusText?: string;
    headers?: HeadersInit;
    cf?: any;
    webSocket?: (WebSocket | null);
    encodeBody?: "automatic" | "manual";
}
type RequestInfo<CfHostMetadata = unknown, Cf = CfProperties<CfHostMetadata>> = Request<CfHostMetadata, Cf> | string;
/**
 * This Fetch API interface represents a resource request.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request)
 */
declare var Request: {
    prototype: Request;
    new <CfHostMetadata = unknown, Cf = CfProperties<CfHostMetadata>>(input: RequestInfo<CfProperties> | URL, init?: RequestInit<Cf>): Request<CfHostMetadata, Cf>;
};
/**
 * This Fetch API interface represents a resource request.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request)
 */
interface Request<CfHostMetadata = unknown, Cf = CfProperties<CfHostMetadata>> extends Body {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/clone) */
    clone(): Request<CfHostMetadata, Cf>;
    /**
     * Returns request's HTTP method, which is "GET" by default.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/method)
     */
    method: string;
    /**
     * Returns the URL of request as a string.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/url)
     */
    url: string;
    /**
     * Returns a Headers object consisting of the headers associated with request. Note that headers added in the network layer by the user agent will not be accounted for in this object, e.g., the "Host" header.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/headers)
     */
    headers: Headers;
    /**
     * Returns the redirect mode associated with request, which is a string indicating how redirects for the request will be handled during fetching. A request will follow redirects by default.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/redirect)
     */
    redirect: string;
    fetcher: Fetcher | null;
    /**
     * Returns the signal associated with request, which is an AbortSignal object indicating whether or not request has been aborted, and its abort event handler.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/signal)
     */
    signal: AbortSignal;
    cf: Cf | undefined;
    /**
     * Returns request's subresource integrity metadata, which is a cryptographic hash of the resource being fetched. Its value consists of multiple hashes separated by whitespace. [SRI]
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/integrity)
     */
    integrity: string;
    /**
     * Returns a boolean indicating whether or not request can outlive the global in which it was created.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/keepalive)
     */
    keepalive: boolean;
    /**
     * Returns the cache mode associated with request, which is a string indicating how the request will interact with the browser's cache when fetching.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/cache)
     */
    cache?: "no-store";
}
interface RequestInit<Cf = CfProperties> {
    /* A string to set request's method. */
    method?: string;
    /* A Headers object, an object literal, or an array of two-item arrays to set request's headers. */
    headers?: HeadersInit;
    /* A BodyInit object or null to set request's body. */
    body?: BodyInit | null;
    /* A string indicating whether request follows redirects, results in an error upon encountering a redirect, or returns the redirect (in an opaque fashion). Sets request's redirect. */
    redirect?: string;
    fetcher?: (Fetcher | null);
    cf?: Cf;
    /* A string indicating how the request will interact with the browser's cache to set request's cache. */
    cache?: "no-store";
    /* A cryptographic hash of the resource to be fetched by request. Sets request's integrity. */
    integrity?: string;
    /* An AbortSignal to set request's signal. */
    signal?: (AbortSignal | null);
    encodeResponseBody?: "automatic" | "manual";
}
type Service<T extends Rpc.WorkerEntrypointBranded | undefined = undefined> = Fetcher<T>;
type Fetcher<T extends Rpc.EntrypointBranded | undefined = undefined, Reserved extends string = never> = (T extends Rpc.EntrypointBranded ? Rpc.Provider<T, Reserved | "fetch" | "connect"> : unknown) & {
    fetch(input: RequestInfo | URL, init?: RequestInit): Promise<Response>;
    connect(address: SocketAddress | string, options?: SocketOptions): Socket;
};
interface KVNamespaceListKey<Metadata, Key extends string = string> {
    name: Key;
    expiration?: number;
    metadata?: Metadata;
}
type KVNamespaceListResult<Metadata, Key extends string = string> = {
    list_complete: false;
    keys: KVNamespaceListKey<Metadata, Key>[];
    cursor: string;
    cacheStatus: string | null;
} | {
    list_complete: true;
    keys: KVNamespaceListKey<Metadata, Key>[];
    cacheStatus: string | null;
};
interface KVNamespace<Key extends string = string> {
    get(key: Key, options?: Partial<KVNamespaceGetOptions<undefined>>): Promise<string | null>;
    get(key: Key, type: "text"): Promise<string | null>;
    get<ExpectedValue = unknown>(key: Key, type: "json"): Promise<ExpectedValue | null>;
    get(key: Key, type: "arrayBuffer"): Promise<ArrayBuffer | null>;
    get(key: Key, type: "stream"): Promise<ReadableStream | null>;
    get(key: Key, options?: KVNamespaceGetOptions<"text">): Promise<string | null>;
    get<ExpectedValue = unknown>(key: Key, options?: KVNamespaceGetOptions<"json">): Promise<ExpectedValue | null>;
    get(key: Key, options?: KVNamespaceGetOptions<"arrayBuffer">): Promise<ArrayBuffer | null>;
    get(key: Key, options?: KVNamespaceGetOptions<"stream">): Promise<ReadableStream | null>;
    get(key: Array<Key>, type: "text"): Promise<Map<string, string | null>>;
    get<ExpectedValue = unknown>(key: Array<Key>, type: "json"): Promise<Map<string, ExpectedValue | null>>;
    get(key: Array<Key>, options?: Partial<KVNamespaceGetOptions<undefined>>): Promise<Map<string, string | null>>;
    get(key: Array<Key>, options?: KVNamespaceGetOptions<"text">): Promise<Map<string, string | null>>;
    get<ExpectedValue = unknown>(key: Array<Key>, options?: KVNamespaceGetOptions<"json">): Promise<Map<string, ExpectedValue | null>>;
    list<Metadata = unknown>(options?: KVNamespaceListOptions): Promise<KVNamespaceListResult<Metadata, Key>>;
    put(key: Key, value: string | ArrayBuffer | ArrayBufferView | ReadableStream, options?: KVNamespacePutOptions): Promise<void>;
    getWithMetadata<Metadata = unknown>(key: Key, options?: Partial<KVNamespaceGetOptions<undefined>>): Promise<KVNamespaceGetWithMetadataResult<string, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Key, type: "text"): Promise<KVNamespaceGetWithMetadataResult<string, Metadata>>;
    getWithMetadata<ExpectedValue = unknown, Metadata = unknown>(key: Key, type: "json"): Promise<KVNamespaceGetWithMetadataResult<ExpectedValue, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Key, type: "arrayBuffer"): Promise<KVNamespaceGetWithMetadataResult<ArrayBuffer, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Key, type: "stream"): Promise<KVNamespaceGetWithMetadataResult<ReadableStream, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Key, options: KVNamespaceGetOptions<"text">): Promise<KVNamespaceGetWithMetadataResult<string, Metadata>>;
    getWithMetadata<ExpectedValue = unknown, Metadata = unknown>(key: Key, options: KVNamespaceGetOptions<"json">): Promise<KVNamespaceGetWithMetadataResult<ExpectedValue, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Key, options: KVNamespaceGetOptions<"arrayBuffer">): Promise<KVNamespaceGetWithMetadataResult<ArrayBuffer, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Key, options: KVNamespaceGetOptions<"stream">): Promise<KVNamespaceGetWithMetadataResult<ReadableStream, Metadata>>;
    getWithMetadata<Metadata = unknown>(key: Array<Key>, type: "text"): Promise<Map<string, KVNamespaceGetWithMetadataResult<string, Metadata>>>;
    getWithMetadata<ExpectedValue = unknown, Metadata = unknown>(key: Array<Key>, type: "json"): Promise<Map<string, KVNamespaceGetWithMetadataResult<ExpectedValue, Metadata>>>;
    getWithMetadata<Metadata = unknown>(key: Array<Key>, options?: Partial<KVNamespaceGetOptions<undefined>>): Promise<Map<string, KVNamespaceGetWithMetadataResult<string, Metadata>>>;
    getWithMetadata<Metadata = unknown>(key: Array<Key>, options?: KVNamespaceGetOptions<"text">): Promise<Map<string, KVNamespaceGetWithMetadataResult<string, Metadata>>>;
    getWithMetadata<ExpectedValue = unknown, Metadata = unknown>(key: Array<Key>, options?: KVNamespaceGetOptions<"json">): Promise<Map<string, KVNamespaceGetWithMetadataResult<ExpectedValue, Metadata>>>;
    delete(key: Key): Promise<void>;
}
interface KVNamespaceListOptions {
    limit?: number;
    prefix?: (string | null);
    cursor?: (string | null);
}
interface KVNamespaceGetOptions<Type> {
    type: Type;
    cacheTtl?: number;
}
interface KVNamespacePutOptions {
    expiration?: number;
    expirationTtl?: number;
    metadata?: (any | null);
}
interface KVNamespaceGetWithMetadataResult<Value, Metadata> {
    value: Value | null;
    metadata: Metadata | null;
    cacheStatus: string | null;
}
type QueueContentType = "text" | "bytes" | "json" | "v8";
interface Queue<Body = unknown> {
    send(message: Body, options?: QueueSendOptions): Promise<void>;
    sendBatch(messages: Iterable<MessageSendRequest<Body>>, options?: QueueSendBatchOptions): Promise<void>;
}
interface QueueSendOptions {
    contentType?: QueueContentType;
    delaySeconds?: number;
}
interface QueueSendBatchOptions {
    delaySeconds?: number;
}
interface MessageSendRequest<Body = unknown> {
    body: Body;
    contentType?: QueueContentType;
    delaySeconds?: number;
}
interface QueueRetryOptions {
    delaySeconds?: number;
}
interface Message<Body = unknown> {
    readonly id: string;
    readonly timestamp: Date;
    readonly body: Body;
    readonly attempts: number;
    retry(options?: QueueRetryOptions): void;
    ack(): void;
}
interface QueueEvent<Body = unknown> extends ExtendableEvent {
    readonly messages: readonly Message<Body>[];
    readonly queue: string;
    retryAll(options?: QueueRetryOptions): void;
    ackAll(): void;
}
interface MessageBatch<Body = unknown> {
    readonly messages: readonly Message<Body>[];
    readonly queue: string;
    retryAll(options?: QueueRetryOptions): void;
    ackAll(): void;
}
interface R2Error extends Error {
    readonly name: string;
    readonly code: number;
    readonly message: string;
    readonly action: string;
    readonly stack: any;
}
interface R2ListOptions {
    limit?: number;
    prefix?: string;
    cursor?: string;
    delimiter?: string;
    startAfter?: string;
    include?: ("httpMetadata" | "customMetadata")[];
}
declare abstract class R2Bucket {
    head(key: string): Promise<R2Object | null>;
    get(key: string, options: R2GetOptions & {
        onlyIf: R2Conditional | Headers;
    }): Promise<R2ObjectBody | R2Object | null>;
    get(key: string, options?: R2GetOptions): Promise<R2ObjectBody | null>;
    put(key: string, value: ReadableStream | ArrayBuffer | ArrayBufferView | string | null | Blob, options?: R2PutOptions & {
        onlyIf: R2Conditional | Headers;
    }): Promise<R2Object | null>;
    put(key: string, value: ReadableStream | ArrayBuffer | ArrayBufferView | string | null | Blob, options?: R2PutOptions): Promise<R2Object>;
    createMultipartUpload(key: string, options?: R2MultipartOptions): Promise<R2MultipartUpload>;
    resumeMultipartUpload(key: string, uploadId: string): R2MultipartUpload;
    delete(keys: string | string[]): Promise<void>;
    list(options?: R2ListOptions): Promise<R2Objects>;
}
interface R2MultipartUpload {
    readonly key: string;
    readonly uploadId: string;
    uploadPart(partNumber: number, value: ReadableStream | (ArrayBuffer | ArrayBufferView) | string | Blob, options?: R2UploadPartOptions): Promise<R2UploadedPart>;
    abort(): Promise<void>;
    complete(uploadedParts: R2UploadedPart[]): Promise<R2Object>;
}
interface R2UploadedPart {
    partNumber: number;
    etag: string;
}
declare abstract class R2Object {
    readonly key: string;
    readonly version: string;
    readonly size: number;
    readonly etag: string;
    readonly httpEtag: string;
    readonly checksums: R2Checksums;
    readonly uploaded: Date;
    readonly httpMetadata?: R2HTTPMetadata;
    readonly customMetadata?: Record<string, string>;
    readonly range?: R2Range;
    readonly storageClass: string;
    readonly ssecKeyMd5?: string;
    writeHttpMetadata(headers: Headers): void;
}
interface R2ObjectBody extends R2Object {
    get body(): ReadableStream;
    get bodyUsed(): boolean;
    arrayBuffer(): Promise<ArrayBuffer>;
    bytes(): Promise<Uint8Array>;
    text(): Promise<string>;
    json<T>(): Promise<T>;
    blob(): Promise<Blob>;
}
type R2Range = {
    offset: number;
    length?: number;
} | {
    offset?: number;
    length: number;
} | {
    suffix: number;
};
interface R2Conditional {
    etagMatches?: string;
    etagDoesNotMatch?: string;
    uploadedBefore?: Date;
    uploadedAfter?: Date;
    secondsGranularity?: boolean;
}
interface R2GetOptions {
    onlyIf?: (R2Conditional | Headers);
    range?: (R2Range | Headers);
    ssecKey?: (ArrayBuffer | string);
}
interface R2PutOptions {
    onlyIf?: (R2Conditional | Headers);
    httpMetadata?: (R2HTTPMetadata | Headers);
    customMetadata?: Record<string, string>;
    md5?: ((ArrayBuffer | ArrayBufferView) | string);
    sha1?: ((ArrayBuffer | ArrayBufferView) | string);
    sha256?: ((ArrayBuffer | ArrayBufferView) | string);
    sha384?: ((ArrayBuffer | ArrayBufferView) | string);
    sha512?: ((ArrayBuffer | ArrayBufferView) | string);
    storageClass?: string;
    ssecKey?: (ArrayBuffer | string);
}
interface R2MultipartOptions {
    httpMetadata?: (R2HTTPMetadata | Headers);
    customMetadata?: Record<string, string>;
    storageClass?: string;
    ssecKey?: (ArrayBuffer | string);
}
interface R2Checksums {
    readonly md5?: ArrayBuffer;
    readonly sha1?: ArrayBuffer;
    readonly sha256?: ArrayBuffer;
    readonly sha384?: ArrayBuffer;
    readonly sha512?: ArrayBuffer;
    toJSON(): R2StringChecksums;
}
interface R2StringChecksums {
    md5?: string;
    sha1?: string;
    sha256?: string;
    sha384?: string;
    sha512?: string;
}
interface R2HTTPMetadata {
    contentType?: string;
    contentLanguage?: string;
    contentDisposition?: string;
    contentEncoding?: string;
    cacheControl?: string;
    cacheExpiry?: Date;
}
type R2Objects = {
    objects: R2Object[];
    delimitedPrefixes: string[];
} & ({
    truncated: true;
    cursor: string;
} | {
    truncated: false;
});
interface R2UploadPartOptions {
    ssecKey?: (ArrayBuffer | string);
}
declare abstract class ScheduledEvent extends ExtendableEvent {
    readonly scheduledTime: number;
    readonly cron: string;
    noRetry(): void;
}
interface ScheduledController {
    readonly scheduledTime: number;
    readonly cron: string;
    noRetry(): void;
}
interface QueuingStrategy<T = any> {
    highWaterMark?: (number | bigint);
    size?: (chunk: T) => number | bigint;
}
interface UnderlyingSink<W = any> {
    type?: string;
    start?: (controller: WritableStreamDefaultController) => void | Promise<void>;
    write?: (chunk: W, controller: WritableStreamDefaultController) => void | Promise<void>;
    abort?: (reason: any) => void | Promise<void>;
    close?: () => void | Promise<void>;
}
interface UnderlyingByteSource {
    type: "bytes";
    autoAllocateChunkSize?: number;
    start?: (controller: ReadableByteStreamController) => void | Promise<void>;
    pull?: (controller: ReadableByteStreamController) => void | Promise<void>;
    cancel?: (reason: any) => void | Promise<void>;
}
interface UnderlyingSource<R = any> {
    type?: "" | undefined;
    start?: (controller: ReadableStreamDefaultController<R>) => void | Promise<void>;
    pull?: (controller: ReadableStreamDefaultController<R>) => void | Promise<void>;
    cancel?: (reason: any) => void | Promise<void>;
    expectedLength?: (number | bigint);
}
interface Transformer<I = any, O = any> {
    readableType?: string;
    writableType?: string;
    start?: (controller: TransformStreamDefaultController<O>) => void | Promise<void>;
    transform?: (chunk: I, controller: TransformStreamDefaultController<O>) => void | Promise<void>;
    flush?: (controller: TransformStreamDefaultController<O>) => void | Promise<void>;
    cancel?: (reason: any) => void | Promise<void>;
    expectedLength?: number;
}
interface StreamPipeOptions {
    /**
     * Pipes this readable stream to a given writable stream destination. The way in which the piping process behaves under various error conditions can be customized with a number of passed options. It returns a promise that fulfills when the piping process completes successfully, or rejects if any errors were encountered.
     *
     * Piping a stream will lock it for the duration of the pipe, preventing any other consumer from acquiring a reader.
     *
     * Errors and closures of the source and destination streams propagate as follows:
     *
     * An error in this source readable stream will abort destination, unless preventAbort is truthy. The returned promise will be rejected with the source's error, or with any error that occurs during aborting the destination.
     *
     * An error in destination will cancel this source readable stream, unless preventCancel is truthy. The returned promise will be rejected with the destination's error, or with any error that occurs during canceling the source.
     *
     * When this source readable stream closes, destination will be closed, unless preventClose is truthy. The returned promise will be fulfilled once this process completes, unless an error is encountered while closing the destination, in which case it will be rejected with that error.
     *
     * If destination starts out closed or closing, this source readable stream will be canceled, unless preventCancel is true. The returned promise will be rejected with an error indicating piping to a closed stream failed, or with any error that occurs during canceling the source.
     *
     * The signal option can be set to an AbortSignal to allow aborting an ongoing pipe operation via the corresponding AbortController. In this case, this source readable stream will be canceled, and destination aborted, unless the respective options preventCancel or preventAbort are set.
     */
    preventClose?: boolean;
    preventAbort?: boolean;
    preventCancel?: boolean;
    signal?: AbortSignal;
}
type ReadableStreamReadResult<R = any> = {
    done: false;
    value: R;
} | {
    done: true;
    value?: undefined;
};
/**
 * This Streams API interface represents a readable stream of byte data. The Fetch API offers a concrete instance of a ReadableStream through the body property of a Response object.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream)
 */
interface ReadableStream<R = any> {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/locked) */
    get locked(): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/cancel) */
    cancel(reason?: any): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/getReader) */
    getReader(): ReadableStreamDefaultReader<R>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/getReader) */
    getReader(options: ReadableStreamGetReaderOptions): ReadableStreamBYOBReader;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/pipeThrough) */
    pipeThrough<T>(transform: ReadableWritablePair<T, R>, options?: StreamPipeOptions): ReadableStream<T>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/pipeTo) */
    pipeTo(destination: WritableStream<R>, options?: StreamPipeOptions): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/tee) */
    tee(): [
        ReadableStream<R>,
        ReadableStream<R>
    ];
    values(options?: ReadableStreamValuesOptions): AsyncIterableIterator<R>;
    [Symbol.asyncIterator](options?: ReadableStreamValuesOptions): AsyncIterableIterator<R>;
}
/**
 * This Streams API interface represents a readable stream of byte data. The Fetch API offers a concrete instance of a ReadableStream through the body property of a Response object.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream)
 */
declare const ReadableStream: {
    prototype: ReadableStream;
    new (underlyingSource: UnderlyingByteSource, strategy?: QueuingStrategy<Uint8Array>): ReadableStream<Uint8Array>;
    new <R = any>(underlyingSource?: UnderlyingSource<R>, strategy?: QueuingStrategy<R>): ReadableStream<R>;
};
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultReader) */
declare class ReadableStreamDefaultReader<R = any> {
    constructor(stream: ReadableStream);
    get closed(): Promise<void>;
    cancel(reason?: any): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultReader/read) */
    read(): Promise<ReadableStreamReadResult<R>>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultReader/releaseLock) */
    releaseLock(): void;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBReader) */
declare class ReadableStreamBYOBReader {
    constructor(stream: ReadableStream);
    get closed(): Promise<void>;
    cancel(reason?: any): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBReader/read) */
    read<T extends ArrayBufferView>(view: T): Promise<ReadableStreamReadResult<T>>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBReader/releaseLock) */
    releaseLock(): void;
    readAtLeast<T extends ArrayBufferView>(minElements: number, view: T): Promise<ReadableStreamReadResult<T>>;
}
interface ReadableStreamBYOBReaderReadableStreamBYOBReaderReadOptions {
    min?: number;
}
interface ReadableStreamGetReaderOptions {
    /**
     * Creates a ReadableStreamBYOBReader and locks the stream to the new reader.
     *
     * This call behaves the same way as the no-argument variant, except that it only works on readable byte streams, i.e. streams which were constructed specifically with the ability to handle "bring your own buffer" reading. The returned BYOB reader provides the ability to directly read individual chunks from the stream via its read() method, into developer-supplied buffers, allowing more precise control over allocation.
     */
    mode: "byob";
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBRequest) */
declare abstract class ReadableStreamBYOBRequest {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBRequest/view) */
    get view(): Uint8Array | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBRequest/respond) */
    respond(bytesWritten: number): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBRequest/respondWithNewView) */
    respondWithNewView(view: ArrayBuffer | ArrayBufferView): void;
    get atLeast(): number | null;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultController) */
declare abstract class ReadableStreamDefaultController<R = any> {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultController/desiredSize) */
    get desiredSize(): number | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultController/close) */
    close(): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultController/enqueue) */
    enqueue(chunk?: R): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultController/error) */
    error(reason: any): void;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableByteStreamController) */
declare abstract class ReadableByteStreamController {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableByteStreamController/byobRequest) */
    get byobRequest(): ReadableStreamBYOBRequest | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableByteStreamController/desiredSize) */
    get desiredSize(): number | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableByteStreamController/close) */
    close(): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableByteStreamController/enqueue) */
    enqueue(chunk: ArrayBuffer | ArrayBufferView): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableByteStreamController/error) */
    error(reason: any): void;
}
/**
 * This Streams API interface represents a controller allowing control of aยWritableStream's state. When constructing a WritableStream, the underlying sink is given a corresponding WritableStreamDefaultController instance to manipulate.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultController)
 */
declare abstract class WritableStreamDefaultController {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultController/signal) */
    get signal(): AbortSignal;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultController/error) */
    error(reason?: any): void;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController) */
declare abstract class TransformStreamDefaultController<O = any> {
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController/desiredSize) */
    get desiredSize(): number | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController/enqueue) */
    enqueue(chunk?: O): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController/error) */
    error(reason: any): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController/terminate) */
    terminate(): void;
}
interface ReadableWritablePair<R = any, W = any> {
    /**
     * Provides a convenient, chainable way of piping this readable stream through a transform stream (or any other { writable, readable } pair). It simply pipes the stream into the writable side of the supplied pair, and returns the readable side for further use.
     *
     * Piping a stream will lock it for the duration of the pipe, preventing any other consumer from acquiring a reader.
     */
    writable: WritableStream<W>;
    readable: ReadableStream<R>;
}
/**
 * This Streams API interface providesยa standard abstraction for writing streaming data to a destination, known as a sink. This object comes with built-in backpressure and queuing.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStream)
 */
declare class WritableStream<W = any> {
    constructor(underlyingSink?: UnderlyingSink, queuingStrategy?: QueuingStrategy);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStream/locked) */
    get locked(): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStream/abort) */
    abort(reason?: any): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStream/close) */
    close(): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStream/getWriter) */
    getWriter(): WritableStreamDefaultWriter<W>;
}
/**
 * This Streams API interface is the object returned by WritableStream.getWriter() and once created locks the < writer to the WritableStream ensuring that no other streams can write to the underlying sink.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter)
 */
declare class WritableStreamDefaultWriter<W = any> {
    constructor(stream: WritableStream);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/closed) */
    get closed(): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/ready) */
    get ready(): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/desiredSize) */
    get desiredSize(): number | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/abort) */
    abort(reason?: any): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/close) */
    close(): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/write) */
    write(chunk?: W): Promise<void>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter/releaseLock) */
    releaseLock(): void;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStream) */
declare class TransformStream<I = any, O = any> {
    constructor(transformer?: Transformer<I, O>, writableStrategy?: QueuingStrategy<I>, readableStrategy?: QueuingStrategy<O>);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStream/readable) */
    get readable(): ReadableStream<O>;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStream/writable) */
    get writable(): WritableStream<I>;
}
declare class FixedLengthStream extends IdentityTransformStream {
    constructor(expectedLength: number | bigint, queuingStrategy?: IdentityTransformStreamQueuingStrategy);
}
declare class IdentityTransformStream extends TransformStream<ArrayBuffer | ArrayBufferView, Uint8Array> {
    constructor(queuingStrategy?: IdentityTransformStreamQueuingStrategy);
}
interface IdentityTransformStreamQueuingStrategy {
    highWaterMark?: (number | bigint);
}
interface ReadableStreamValuesOptions {
    preventCancel?: boolean;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CompressionStream) */
declare class CompressionStream extends TransformStream<ArrayBuffer | ArrayBufferView, Uint8Array> {
    constructor(format: "gzip" | "deflate" | "deflate-raw");
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/DecompressionStream) */
declare class DecompressionStream extends TransformStream<ArrayBuffer | ArrayBufferView, Uint8Array> {
    constructor(format: "gzip" | "deflate" | "deflate-raw");
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextEncoderStream) */
declare class TextEncoderStream extends TransformStream<string, Uint8Array> {
    constructor();
    get encoding(): string;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/TextDecoderStream) */
declare class TextDecoderStream extends TransformStream<ArrayBuffer | ArrayBufferView, string> {
    constructor(label?: string, options?: TextDecoderStreamTextDecoderStreamInit);
    get encoding(): string;
    get fatal(): boolean;
    get ignoreBOM(): boolean;
}
interface TextDecoderStreamTextDecoderStreamInit {
    fatal?: boolean;
    ignoreBOM?: boolean;
}
/**
 * This Streams API interface providesยa built-in byte length queuing strategy that can be used when constructing streams.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/ByteLengthQueuingStrategy)
 */
declare class ByteLengthQueuingStrategy implements QueuingStrategy<ArrayBufferView> {
    constructor(init: QueuingStrategyInit);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ByteLengthQueuingStrategy/highWaterMark) */
    get highWaterMark(): number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/ByteLengthQueuingStrategy/size) */
    get size(): (chunk?: any) => number;
}
/**
 * This Streams API interface providesยa built-in byte length queuing strategy that can be used when constructing streams.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CountQueuingStrategy)
 */
declare class CountQueuingStrategy implements QueuingStrategy {
    constructor(init: QueuingStrategyInit);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CountQueuingStrategy/highWaterMark) */
    get highWaterMark(): number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/CountQueuingStrategy/size) */
    get size(): (chunk?: any) => number;
}
interface QueuingStrategyInit {
    /**
     * Creates a new ByteLengthQueuingStrategy with the provided high water mark.
     *
     * Note that the provided high water mark will not be validated ahead of time. Instead, if it is negative, NaN, or not a number, the resulting ByteLengthQueuingStrategy will cause the corresponding stream constructor to throw.
     */
    highWaterMark: number;
}
interface ScriptVersion {
    id?: string;
    tag?: string;
    message?: string;
}
declare abstract class TailEvent extends ExtendableEvent {
    readonly events: TraceItem[];
    readonly traces: TraceItem[];
}
interface TraceItem {
    readonly event: (TraceItemFetchEventInfo | TraceItemJsRpcEventInfo | TraceItemScheduledEventInfo | TraceItemAlarmEventInfo | TraceItemQueueEventInfo | TraceItemEmailEventInfo | TraceItemTailEventInfo | TraceItemCustomEventInfo | TraceItemHibernatableWebSocketEventInfo) | null;
    readonly eventTimestamp: number | null;
    readonly logs: TraceLog[];
    readonly exceptions: TraceException[];
    readonly diagnosticsChannelEvents: TraceDiagnosticChannelEvent[];
    readonly scriptName: string | null;
    readonly entrypoint?: string;
    readonly scriptVersion?: ScriptVersion;
    readonly dispatchNamespace?: string;
    readonly scriptTags?: string[];
    readonly outcome: string;
    readonly executionModel: string;
    readonly truncated: boolean;
    readonly cpuTime: number;
    readonly wallTime: number;
}
interface TraceItemAlarmEventInfo {
    readonly scheduledTime: Date;
}
interface TraceItemCustomEventInfo {
}
interface TraceItemScheduledEventInfo {
    readonly scheduledTime: number;
    readonly cron: string;
}
interface TraceItemQueueEventInfo {
    readonly queue: string;
    readonly batchSize: number;
}
interface TraceItemEmailEventInfo {
    readonly mailFrom: string;
    readonly rcptTo: string;
    readonly rawSize: number;
}
interface TraceItemTailEventInfo {
    readonly consumedEvents: TraceItemTailEventInfoTailItem[];
}
interface TraceItemTailEventInfoTailItem {
    readonly scriptName: string | null;
}
interface TraceItemFetchEventInfo {
    readonly response?: TraceItemFetchEventInfoResponse;
    readonly request: TraceItemFetchEventInfoRequest;
}
interface TraceItemFetchEventInfoRequest {
    readonly cf?: any;
    readonly headers: Record<string, string>;
    readonly method: string;
    readonly url: string;
    getUnredacted(): TraceItemFetchEventInfoRequest;
}
interface TraceItemFetchEventInfoResponse {
    readonly status: number;
}
interface TraceItemJsRpcEventInfo {
    readonly rpcMethod: string;
}
interface TraceItemHibernatableWebSocketEventInfo {
    readonly getWebSocketEvent: TraceItemHibernatableWebSocketEventInfoMessage | TraceItemHibernatableWebSocketEventInfoClose | TraceItemHibernatableWebSocketEventInfoError;
}
interface TraceItemHibernatableWebSocketEventInfoMessage {
    readonly webSocketEventType: string;
}
interface TraceItemHibernatableWebSocketEventInfoClose {
    readonly webSocketEventType: string;
    readonly code: number;
    readonly wasClean: boolean;
}
interface TraceItemHibernatableWebSocketEventInfoError {
    readonly webSocketEventType: string;
}
interface TraceLog {
    readonly timestamp: number;
    readonly level: string;
    readonly message: any;
}
interface TraceException {
    readonly timestamp: number;
    readonly message: string;
    readonly name: string;
    readonly stack?: string;
}
interface TraceDiagnosticChannelEvent {
    readonly timestamp: number;
    readonly channel: string;
    readonly message: any;
}
interface TraceMetrics {
    readonly cpuTime: number;
    readonly wallTime: number;
}
interface UnsafeTraceMetrics {
    fromTrace(item: TraceItem): TraceMetrics;
}
/**
 * The URLยinterface represents an object providing static methods used for creating object URLs.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL)
 */
declare class URL {
    constructor(url: string | URL, base?: string | URL);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/origin) */
    get origin(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/href) */
    get href(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/href) */
    set href(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/protocol) */
    get protocol(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/protocol) */
    set protocol(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/username) */
    get username(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/username) */
    set username(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/password) */
    get password(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/password) */
    set password(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/host) */
    get host(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/host) */
    set host(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/hostname) */
    get hostname(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/hostname) */
    set hostname(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/port) */
    get port(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/port) */
    set port(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/pathname) */
    get pathname(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/pathname) */
    set pathname(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/search) */
    get search(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/search) */
    set search(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/hash) */
    get hash(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/hash) */
    set hash(value: string);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/searchParams) */
    get searchParams(): URLSearchParams;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/toJSON) */
    toJSON(): string;
    /*function toString() { [native code] }*/
    toString(): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/canParse_static) */
    static canParse(url: string, base?: string): boolean;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/parse_static) */
    static parse(url: string, base?: string): URL | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/createObjectURL_static) */
    static createObjectURL(object: File | Blob): string;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URL/revokeObjectURL_static) */
    static revokeObjectURL(object_url: string): void;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams) */
declare class URLSearchParams {
    constructor(init?: (Iterable<Iterable<string>> | Record<string, string> | string));
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/size) */
    get size(): number;
    /**
     * Appends a specified key/value pair as a new search parameter.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/append)
     */
    append(name: string, value: string): void;
    /**
     * Deletes the given search parameter, and its associated value, from the list of all search parameters.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/delete)
     */
    delete(name: string, value?: string): void;
    /**
     * Returns the first value associated to the given search parameter.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/get)
     */
    get(name: string): string | null;
    /**
     * Returns all the values association with a given search parameter.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/getAll)
     */
    getAll(name: string): string[];
    /**
     * Returns a Boolean indicating if such a search parameter exists.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/has)
     */
    has(name: string, value?: string): boolean;
    /**
     * Sets the value associated to a given search parameter to the given value. If there were several values, delete the others.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/set)
     */
    set(name: string, value: string): void;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/URLSearchParams/sort) */
    sort(): void;
    /* Returns an array of key, value pairs for every entry in the search params. */
    entries(): IterableIterator<[
        key: string,
        value: string
    ]>;
    /* Returns a list of keys in the search params. */
    keys(): IterableIterator<string>;
    /* Returns a list of values in the search params. */
    values(): IterableIterator<string>;
    forEach<This = unknown>(callback: (this: This, value: string, key: string, parent: URLSearchParams) => void, thisArg?: This): void;
    /*function toString() { [native code] } Returns a string containing a query string suitable for use in a URL. Does not include the question mark. */
    toString(): string;
    [Symbol.iterator](): IterableIterator<[
        key: string,
        value: string
    ]>;
}
declare class URLPattern {
    constructor(input?: (string | URLPatternInit), baseURL?: (string | URLPatternOptions), patternOptions?: URLPatternOptions);
    get protocol(): string;
    get username(): string;
    get password(): string;
    get hostname(): string;
    get port(): string;
    get pathname(): string;
    get search(): string;
    get hash(): string;
    get hasRegExpGroups(): boolean;
    test(input?: (string | URLPatternInit), baseURL?: string): boolean;
    exec(input?: (string | URLPatternInit), baseURL?: string): URLPatternResult | null;
}
interface URLPatternInit {
    protocol?: string;
    username?: string;
    password?: string;
    hostname?: string;
    port?: string;
    pathname?: string;
    search?: string;
    hash?: string;
    baseURL?: string;
}
interface URLPatternComponentResult {
    input: string;
    groups: Record<string, string>;
}
interface URLPatternResult {
    inputs: (string | URLPatternInit)[];
    protocol: URLPatternComponentResult;
    username: URLPatternComponentResult;
    password: URLPatternComponentResult;
    hostname: URLPatternComponentResult;
    port: URLPatternComponentResult;
    pathname: URLPatternComponentResult;
    search: URLPatternComponentResult;
    hash: URLPatternComponentResult;
}
interface URLPatternOptions {
    ignoreCase?: boolean;
}
/**
 * A CloseEvent is sent to clients using WebSockets when the connection is closed. This is delivered to the listener indicated by the WebSocket object's onclose attribute.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CloseEvent)
 */
declare class CloseEvent extends Event {
    constructor(type: string, initializer?: CloseEventInit);
    /**
     * Returns the WebSocket connection close code provided by the server.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CloseEvent/code)
     */
    readonly code: number;
    /**
     * Returns the WebSocket connection close reason provided by the server.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CloseEvent/reason)
     */
    readonly reason: string;
    /**
     * Returns true if the connection closed cleanly; false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CloseEvent/wasClean)
     */
    readonly wasClean: boolean;
}
interface CloseEventInit {
    code?: number;
    reason?: string;
    wasClean?: boolean;
}
/**
 * A message received by a target object.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/MessageEvent)
 */
declare class MessageEvent extends Event {
    constructor(type: string, initializer: MessageEventInit);
    /**
     * Returns the data of the message.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/MessageEvent/data)
     */
    readonly data: ArrayBuffer | string;
}
interface MessageEventInit {
    data: ArrayBuffer | string;
}
type WebSocketEventMap = {
    close: CloseEvent;
    message: MessageEvent;
    open: Event;
    error: ErrorEvent;
};
/**
 * Provides the API for creating and managing a WebSocket connection to a server, as well as for sending and receiving data on the connection.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket)
 */
declare var WebSocket: {
    prototype: WebSocket;
    new (url: string, protocols?: (string[] | string)): WebSocket;
    readonly READY_STATE_CONNECTING: number;
    readonly CONNECTING: number;
    readonly READY_STATE_OPEN: number;
    readonly OPEN: number;
    readonly READY_STATE_CLOSING: number;
    readonly CLOSING: number;
    readonly READY_STATE_CLOSED: number;
    readonly CLOSED: number;
};
/**
 * Provides the API for creating and managing a WebSocket connection to a server, as well as for sending and receiving data on the connection.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket)
 */
interface WebSocket extends EventTarget<WebSocketEventMap> {
    accept(): void;
    /**
     * Transmits data using the WebSocket connection. data can be a string, a Blob, an ArrayBuffer, or an ArrayBufferView.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/send)
     */
    send(message: (ArrayBuffer | ArrayBufferView) | string): void;
    /**
     * Closes the WebSocket connection, optionally using code as the the WebSocket connection close code and reason as the the WebSocket connection close reason.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/close)
     */
    close(code?: number, reason?: string): void;
    serializeAttachment(attachment: any): void;
    deserializeAttachment(): any | null;
    /**
     * Returns the state of the WebSocket object's connection. It can have the values described below.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/readyState)
     */
    readyState: number;
    /**
     * Returns the URL that was used to establish the WebSocket connection.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/url)
     */
    url: string | null;
    /**
     * Returns the subprotocol selected by the server, if any. It can be used in conjunction with the array form of the constructor's second argument to perform subprotocol negotiation.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/protocol)
     */
    protocol: string | null;
    /**
     * Returns the extensions selected by the server, if any.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/extensions)
     */
    extensions: string | null;
}
declare const WebSocketPair: {
    new (): {
        0: WebSocket;
        1: WebSocket;
    };
};
interface SqlStorage {
    exec<T extends Record<string, SqlStorageValue>>(query: string, ...bindings: any[]): SqlStorageCursor<T>;
    get databaseSize(): number;
    Cursor: typeof SqlStorageCursor;
    Statement: typeof SqlStorageStatement;
}
declare abstract class SqlStorageStatement {
}
type SqlStorageValue = ArrayBuffer | string | number | null;
declare abstract class SqlStorageCursor<T extends Record<string, SqlStorageValue>> {
    next(): {
        done?: false;
        value: T;
    } | {
        done: true;
        value?: never;
    };
    toArray(): T[];
    one(): T;
    raw<U extends SqlStorageValue[]>(): IterableIterator<U>;
    columnNames: string[];
    get rowsRead(): number;
    get rowsWritten(): number;
    [Symbol.iterator](): IterableIterator<T>;
}
interface Socket {
    get readable(): ReadableStream;
    get writable(): WritableStream;
    get closed(): Promise<void>;
    get opened(): Promise<SocketInfo>;
    get upgraded(): boolean;
    get secureTransport(): "on" | "off" | "starttls";
    close(): Promise<void>;
    startTls(options?: TlsOptions): Socket;
}
interface SocketOptions {
    secureTransport?: string;
    allowHalfOpen: boolean;
    highWaterMark?: (number | bigint);
}
interface SocketAddress {
    hostname: string;
    port: number;
}
interface TlsOptions {
    expectedServerHostname?: string;
}
interface SocketInfo {
    remoteAddress?: string;
    localAddress?: string;
}
/* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource) */
declare class EventSource extends EventTarget {
    constructor(url: string, init?: EventSourceEventSourceInit);
    /**
     * Aborts any instances of the fetch algorithm started for this EventSource object, and sets the readyState attribute to CLOSED.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/close)
     */
    close(): void;
    /**
     * Returns the URL providing the event stream.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/url)
     */
    get url(): string;
    /**
     * Returns true if the credentials mode for connection requests to the URL providing the event stream is set to "include", and false otherwise.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/withCredentials)
     */
    get withCredentials(): boolean;
    /**
     * Returns the state of this EventSource object's connection. It can have the values described below.
     *
     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/readyState)
     */
    get readyState(): number;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/open_event) */
    get onopen(): any | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/open_event) */
    set onopen(value: any | null);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/message_event) */
    get onmessage(): any | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/message_event) */
    set onmessage(value: any | null);
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/error_event) */
    get onerror(): any | null;
    /* [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/error_event) */
    set onerror(value: any | null);
    static readonly CONNECTING: number;
    static readonly OPEN: number;
    static readonly CLOSED: number;
    static from(stream: ReadableStream): EventSource;
}
interface EventSourceEventSourceInit {
    withCredentials?: boolean;
    fetcher?: Fetcher;
}
interface Container {
    get running(): boolean;
    start(options?: ContainerStartupOptions): void;
    monitor(): Promise<void>;
    destroy(error?: any): Promise<void>;
    signal(signo: number): void;
    getTcpPort(port: number): Fetcher;
}
interface ContainerStartupOptions {
    entrypoint?: string[];
    enableInternet: boolean;
    env?: Record<string, string>;
}
type AiImageClassificationInput = {
    image: number[];
};
type AiImageClassificationOutput = {
    score?: number;
    label?: string;
}[];
declare abstract class BaseAiImageClassification {
    inputs: AiImageClassificationInput;
    postProcessedOutputs: AiImageClassificationOutput;
}
type AiImageToTextInput = {
    image: number[];
    prompt?: string;
    max_tokens?: number;
    temperature?: number;
    top_p?: number;
    top_k?: number;
    seed?: number;
    repetition_penalty?: number;
    frequency_penalty?: number;
    presence_penalty?: number;
    raw?: boolean;
    messages?: RoleScopedChatInput[];
};
type AiImageToTextOutput = {
    description: string;
};
declare abstract class BaseAiImageToText {
    inputs: AiImageToTextInput;
    postProcessedOutputs: AiImageToTextOutput;
}
type AiImageTextToTextInput = {
    image: string;
    prompt?: string;
    max_tokens?: number;
    temperature?: number;
    ignore_eos?: boolean;
    top_p?: number;
    top_k?: number;
    seed?: number;
    repetition_penalty?: number;
    frequency_penalty?: number;
    presence_penalty?: number;
    raw?: boolean;
    messages?: RoleScopedChatInput[];
};
type AiImageTextToTextOutput = {
    description: string;
};
declare abstract class BaseAiImageTextToText {
    inputs: AiImageTextToTextInput;
    postProcessedOutputs: AiImageTextToTextOutput;
}
type AiObjectDetectionInput = {
    image: number[];
};
type AiObjectDetectionOutput = {
    score?: number;
    label?: string;
}[];
declare abstract class BaseAiObjectDetection {
    inputs: AiObjectDetectionInput;
    postProcessedOutputs: AiObjectDetectionOutput;
}
type AiSentenceSimilarityInput = {
    source: string;
    sentences: string[];
};
type AiSentenceSimilarityOutput = number[];
declare abstract class BaseAiSentenceSimilarity {
    inputs: AiSentenceSimilarityInput;
    postProcessedOutputs: AiSentenceSimilarityOutput;
}
type AiAutomaticSpeechRecognitionInput = {
    audio: number[];
};
type AiAutomaticSpeechRecognitionOutput = {
    text?: string;
    words?: {
        word: string;
        start: number;
        end: number;
    }[];
    vtt?: string;
};
declare abstract class BaseAiAutomaticSpeechRecognition {
    inputs: AiAutomaticSpeechRecognitionInput;
    postProcessedOutputs: AiAutomaticSpeechRecognitionOutput;
}
type AiSummarizationInput = {
    input_text: string;
    max_length?: number;
};
type AiSummarizationOutput = {
    summary: string;
};
declare abstract class BaseAiSummarization {
    inputs: AiSummarizationInput;
    postProcessedOutputs: AiSummarizationOutput;
}
type AiTextClassificationInput = {
    text: string;
};
type AiTextClassificationOutput = {
    score?: number;
    label?: string;
}[];
declare abstract class BaseAiTextClassification {
    inputs: AiTextClassificationInput;
    postProcessedOutputs: AiTextClassificationOutput;
}
type AiTextEmbeddingsInput = {
    text: string | string[];
};
type AiTextEmbeddingsOutput = {
    shape: number[];
    data: number[][];
};
declare abstract class BaseAiTextEmbeddings {
    inputs: AiTextEmbeddingsInput;
    postProcessedOutputs: AiTextEmbeddingsOutput;
}
type RoleScopedChatInput = {
    role: "user" | "assistant" | "system" | "tool" | (string & NonNullable<unknown>);
    content: string;
    name?: string;
};
type AiTextGenerationToolLegacyInput = {
    name: string;
    description: string;
    parameters?: {
        type: "object" | (string & NonNullable<unknown>);
        properties: {
            [key: string]: {
                type: string;
                description?: string;
            };
        };
        required: string[];
    };
};
type AiTextGenerationToolInput = {
    type: "function" | (string & NonNullable<unknown>);
    function: {
        name: string;
        description: string;
        parameters?: {
            type: "object" | (string & NonNullable<unknown>);
            properties: {
                [key: string]: {
                    type: string;
                    description?: string;
                };
            };
            required: string[];
        };
    };
};
type AiTextGenerationFunctionsInput = {
    name: string;
    code: string;
};
type AiTextGenerationResponseFormat = {
    type: string;
    json_schema?: any;
};
type AiTextGenerationInput = {
    prompt?: string;
    raw?: boolean;
    stream?: boolean;
    max_tokens?: number;
    temperature?: number;
    top_p?: number;
    top_k?: number;
    seed?: number;
    repetition_penalty?: number;
    frequency_penalty?: number;
    presence_penalty?: number;
    messages?: RoleScopedChatInput[];
    response_format?: AiTextGenerationResponseFormat;
    tools?: AiTextGenerationToolInput[] | AiTextGenerationToolLegacyInput[] | (object & NonNullable<unknown>);
    functions?: AiTextGenerationFunctionsInput[];
};
type AiTextGenerationOutput = {
    response?: string;
    tool_calls?: {
        name: string;
        arguments: unknown;
    }[];
};
declare abstract class BaseAiTextGeneration {
    inputs: AiTextGenerationInput;
    postProcessedOutputs: AiTextGenerationOutput;
}
type AiTextToSpeechInput = {
    prompt: string;
    lang?: string;
};
type AiTextToSpeechOutput = Uint8Array | {
    audio: string;
};
declare abstract class BaseAiTextToSpeech {
    inputs: AiTextToSpeechInput;
    postProcessedOutputs: AiTextToSpeechOutput;
}
type AiTextToImageInput = {
    prompt: string;
    negative_prompt?: string;
    height?: number;
    width?: number;
    image?: number[];
    image_b64?: string;
    mask?: number[];
    num_steps?: number;
    strength?: number;
    guidance?: number;
    seed?: number;
};
type AiTextToImageOutput = ReadableStream<Uint8Array>;
declare abstract class BaseAiTextToImage {
    inputs: AiTextToImageInput;
    postProcessedOutputs: AiTextToImageOutput;
}
type AiTranslationInput = {
    text: string;
    target_lang: string;
    source_lang?: string;
};
type AiTranslationOutput = {
    translated_text?: string;
};
declare abstract class BaseAiTranslation {
    inputs: AiTranslationInput;
    postProcessedOutputs: AiTranslationOutput;
}
type Ai_Cf_Baai_Bge_Base_En_V1_5_Input = {
    text: string | string[];
    /**
     * The pooling method used in the embedding process. `cls` pooling will generate more accurate embeddings on larger inputs - however, embeddings created with cls pooling are not compatible with embeddings generated with mean pooling. The default pooling method is `mean` in order for this to not be a breaking change, but we highly suggest using the new `cls` pooling for better accuracy.
     */
    pooling?: "mean" | "cls";
} | {
    /**
     * Batch of the embeddings requests to run using async-queue
     */
    requests: {
        text: string | string[];
        /**
         * The pooling method used in the embedding process. `cls` pooling will generate more accurate embeddings on larger inputs - however, embeddings created with cls pooling are not compatible with embeddings generated with mean pooling. The default pooling method is `mean` in order for this to not be a breaking change, but we highly suggest using the new `cls` pooling for better accuracy.
         */
        pooling?: "mean" | "cls";
    }[];
};
type Ai_Cf_Baai_Bge_Base_En_V1_5_Output = {
    shape?: number[];
    /**
     * Embeddings of the requested text values
     */
    data?: number[][];
    /**
     * The pooling method used in the embedding process.
     */
    pooling?: "mean" | "cls";
} | AsyncResponse;
interface AsyncResponse {
    /**
     * The async request id that can be used to obtain the results.
     */
    request_id?: string;
}
declare abstract class Base_Ai_Cf_Baai_Bge_Base_En_V1_5 {
    inputs: Ai_Cf_Baai_Bge_Base_En_V1_5_Input;
    postProcessedOutputs: Ai_Cf_Baai_Bge_Base_En_V1_5_Output;
}
type Ai_Cf_Openai_Whisper_Input = string | {
    /**
     * An array of integers that represent the audio data constrained to 8-bit unsigned integer values
     */
    audio: number[];
};
interface Ai_Cf_Openai_Whisper_Output {
    /**
     * The transcription
     */
    text: string;
    word_count?: number;
    words?: {
        word?: string;
        /**
         * The second this word begins in the recording
         */
        start?: number;
        /**
         * The ending second when the word completes
         */
        end?: number;
    }[];
    vtt?: string;
}
declare abstract class Base_Ai_Cf_Openai_Whisper {
    inputs: Ai_Cf_Openai_Whisper_Input;
    postProcessedOutputs: Ai_Cf_Openai_Whisper_Output;
}
type Ai_Cf_Meta_M2M100_1_2B_Input = {
    /**
     * The text to be translated
     */
    text: string;
    /**
     * The language code of the source text (e.g., 'en' for English). Defaults to 'en' if not specified
     */
    source_lang?: string;
    /**
     * The language code to translate the text into (e.g., 'es' for Spanish)
     */
    target_lang: string;
} | {
    /**
     * Batch of the embeddings requests to run using async-queue
     */
    requests: {
        /**
         * The text to be translated
         */
        text: string;
        /**
         * The language code of the source text (e.g., 'en' for English). Defaults to 'en' if not specified
         */
        source_lang?: string;
        /**
         * The language code to translate the text into (e.g., 'es' for Spanish)
         */
        target_lang: string;
    }[];
};
type Ai_Cf_Meta_M2M100_1_2B_Output = {
    /**
     * The translated text in the target language
     */
    translated_text?: string;
} | AsyncResponse;
declare abstract class Base_Ai_Cf_Meta_M2M100_1_2B {
    inputs: Ai_Cf_Meta_M2M100_1_2B_Input;
    postProcessedOutputs: Ai_Cf_Meta_M2M100_1_2B_Output;
}
type Ai_Cf_Baai_Bge_Small_En_V1_5_Input = {
    text: string | string[];
    /**
     * The pooling method used in the embedding process. `cls` pooling will generate more accurate embeddings on larger inputs - however, embeddings created with cls pooling are not compatible with embeddings generated with mean pooling. The default pooling method is `mean` in order for this to not be a breaking change, but we highly suggest using the new `cls` pooling for better accuracy.
     */
    pooling?: "mean" | "cls";
} | {
    /**
     * Batch of the embeddings requests to run using async-queue
     */
    requests: {
        text: string | string[];
        /**
         * The pooling method used in the embedding process. `cls` pooling will generate more accurate embeddings on larger inputs - however, embeddings created with cls pooling are not compatible with embeddings generated with mean pooling. The default pooling method is `mean` in order for this to not be a breaking change, but we highly suggest using the new `cls` pooling for better accuracy.
         */
        pooling?: "mean" | "cls";
    }[];
};
type Ai_Cf_Baai_Bge_Small_En_V1_5_Output = {
    shape?: number[];
    /**
     * Embeddings of the requested text values
     */
    data?: number[][];
    /**
     * The pooling method used in the embedding process.
     */
    pooling?: "mean" | "cls";
} | AsyncResponse;
declare abstract class Base_Ai_Cf_Baai_Bge_Small_En_V1_5 {
    inputs: Ai_Cf_Baai_Bge_Small_En_V1_5_Input;
    postProcessedOutputs: Ai_Cf_Baai_Bge_Small_En_V1_5_Output;
}
type Ai_Cf_Baai_Bge_Large_En_V1_5_Input = {
    text: string | string[];
    /**
     * The pooling method used in the embedding process. `cls` pooling will generate more accurate embeddings on larger inputs - however, embeddings created with cls pooling are not compatible with embeddings generated with mean pooling. The default pooling method is `mean` in order for this to not be a breaking change, but we highly suggest using the new `cls` pooling for better accuracy.
     */
    pooling?: "mean" | "cls";
} | {
    /**
     * Batch of the embeddings requests to run using async-queue
     */
    requests: {
        text: string | string[];
        /**
         * The pooling method used in the embedding process. `cls` pooling will generate more accurate embeddings on larger inputs - however, embeddings created with cls pooling are not compatible with embeddings generated with mean pooling. The default pooling method is `mean` in order for this to not be a breaking change, but we highly suggest using the new `cls` pooling for better accuracy.
         */
        pooling?: "mean" | "cls";
    }[];
};
type Ai_Cf_Baai_Bge_Large_En_V1_5_Output = {
    shape?: number[];
    /**
     * Embeddings of the requested text values
     */
    data?: number[][];
    /**
     * The pooling method used in the embedding process.
     */
    pooling?: "mean" | "cls";
} | AsyncResponse;
declare abstract class Base_Ai_Cf_Baai_Bge_Large_En_V1_5 {
    inputs: Ai_Cf_Baai_Bge_Large_En_V1_5_Input;
    postProcessedOutputs: Ai_Cf_Baai_Bge_Large_En_V1_5_Output;
}
type Ai_Cf_Unum_Uform_Gen2_Qwen_500M_Input = string | {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt?: string;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * Controls the creativity of the AI's responses by adjusting how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
    image: number[] | (string & NonNullable<unknown>);
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
};
interface Ai_Cf_Unum_Uform_Gen2_Qwen_500M_Output {
    description?: string;
}
declare abstract class Base_Ai_Cf_Unum_Uform_Gen2_Qwen_500M {
    inputs: Ai_Cf_Unum_Uform_Gen2_Qwen_500M_Input;
    postProcessedOutputs: Ai_Cf_Unum_Uform_Gen2_Qwen_500M_Output;
}
type Ai_Cf_Openai_Whisper_Tiny_En_Input = string | {
    /**
     * An array of integers that represent the audio data constrained to 8-bit unsigned integer values
     */
    audio: number[];
};
interface Ai_Cf_Openai_Whisper_Tiny_En_Output {
    /**
     * The transcription
     */
    text: string;
    word_count?: number;
    words?: {
        word?: string;
        /**
         * The second this word begins in the recording
         */
        start?: number;
        /**
         * The ending second when the word completes
         */
        end?: number;
    }[];
    vtt?: string;
}
declare abstract class Base_Ai_Cf_Openai_Whisper_Tiny_En {
    inputs: Ai_Cf_Openai_Whisper_Tiny_En_Input;
    postProcessedOutputs: Ai_Cf_Openai_Whisper_Tiny_En_Output;
}
interface Ai_Cf_Openai_Whisper_Large_V3_Turbo_Input {
    /**
     * Base64 encoded value of the audio data.
     */
    audio: string;
    /**
     * Supported tasks are 'translate' or 'transcribe'.
     */
    task?: string;
    /**
     * The language of the audio being transcribed or translated.
     */
    language?: string;
    /**
     * Preprocess the audio with a voice activity detection model.
     */
    vad_filter?: boolean;
    /**
     * A text prompt to help provide context to the model on the contents of the audio.
     */
    initial_prompt?: string;
    /**
     * The prefix it appended the the beginning of the output of the transcription and can guide the transcription result.
     */
    prefix?: string;
}
interface Ai_Cf_Openai_Whisper_Large_V3_Turbo_Output {
    transcription_info?: {
        /**
         * The language of the audio being transcribed or translated.
         */
        language?: string;
        /**
         * The confidence level or probability of the detected language being accurate, represented as a decimal between 0 and 1.
         */
        language_probability?: number;
        /**
         * The total duration of the original audio file, in seconds.
         */
        duration?: number;
        /**
         * The duration of the audio after applying Voice Activity Detection (VAD) to remove silent or irrelevant sections, in seconds.
         */
        duration_after_vad?: number;
    };
    /**
     * The complete transcription of the audio.
     */
    text: string;
    /**
     * The total number of words in the transcription.
     */
    word_count?: number;
    segments?: {
        /**
         * The starting time of the segment within the audio, in seconds.
         */
        start?: number;
        /**
         * The ending time of the segment within the audio, in seconds.
         */
        end?: number;
        /**
         * The transcription of the segment.
         */
        text?: string;
        /**
         * The temperature used in the decoding process, controlling randomness in predictions. Lower values result in more deterministic outputs.
         */
        temperature?: number;
        /**
         * The average log probability of the predictions for the words in this segment, indicating overall confidence.
         */
        avg_logprob?: number;
        /**
         * The compression ratio of the input to the output, measuring how much the text was compressed during the transcription process.
         */
        compression_ratio?: number;
        /**
         * The probability that the segment contains no speech, represented as a decimal between 0 and 1.
         */
        no_speech_prob?: number;
        words?: {
            /**
             * The individual word transcribed from the audio.
             */
            word?: string;
            /**
             * The starting time of the word within the audio, in seconds.
             */
            start?: number;
            /**
             * The ending time of the word within the audio, in seconds.
             */
            end?: number;
        }[];
    }[];
    /**
     * The transcription in WebVTT format, which includes timing and text information for use in subtitles.
     */
    vtt?: string;
}
declare abstract class Base_Ai_Cf_Openai_Whisper_Large_V3_Turbo {
    inputs: Ai_Cf_Openai_Whisper_Large_V3_Turbo_Input;
    postProcessedOutputs: Ai_Cf_Openai_Whisper_Large_V3_Turbo_Output;
}
type Ai_Cf_Baai_Bge_M3_Input = BGEM3InputQueryAndContexts | BGEM3InputEmbedding | {
    /**
     * Batch of the embeddings requests to run using async-queue
     */
    requests: (BGEM3InputQueryAndContexts1 | BGEM3InputEmbedding1)[];
};
interface BGEM3InputQueryAndContexts {
    /**
     * A query you wish to perform against the provided contexts. If no query is provided the model with respond with embeddings for contexts
     */
    query?: string;
    /**
     * List of provided contexts. Note that the index in this array is important, as the response will refer to it.
     */
    contexts: {
        /**
         * One of the provided context content
         */
        text?: string;
    }[];
    /**
     * When provided with too long context should the model error out or truncate the context to fit?
     */
    truncate_inputs?: boolean;
}
interface BGEM3InputEmbedding {
    text: string | string[];
    /**
     * When provided with too long context should the model error out or truncate the context to fit?
     */
    truncate_inputs?: boolean;
}
interface BGEM3InputQueryAndContexts1 {
    /**
     * A query you wish to perform against the provided contexts. If no query is provided the model with respond with embeddings for contexts
     */
    query?: string;
    /**
     * List of provided contexts. Note that the index in this array is important, as the response will refer to it.
     */
    contexts: {
        /**
         * One of the provided context content
         */
        text?: string;
    }[];
    /**
     * When provided with too long context should the model error out or truncate the context to fit?
     */
    truncate_inputs?: boolean;
}
interface BGEM3InputEmbedding1 {
    text: string | string[];
    /**
     * When provided with too long context should the model error out or truncate the context to fit?
     */
    truncate_inputs?: boolean;
}
type Ai_Cf_Baai_Bge_M3_Output = BGEM3OuputQuery | BGEM3OutputEmbeddingForContexts | BGEM3OuputEmbedding | AsyncResponse;
interface BGEM3OuputQuery {
    response?: {
        /**
         * Index of the context in the request
         */
        id?: number;
        /**
         * Score of the context under the index.
         */
        score?: number;
    }[];
}
interface BGEM3OutputEmbeddingForContexts {
    response?: number[][];
    shape?: number[];
    /**
     * The pooling method used in the embedding process.
     */
    pooling?: "mean" | "cls";
}
interface BGEM3OuputEmbedding {
    shape?: number[];
    /**
     * Embeddings of the requested text values
     */
    data?: number[][];
    /**
     * The pooling method used in the embedding process.
     */
    pooling?: "mean" | "cls";
}
declare abstract class Base_Ai_Cf_Baai_Bge_M3 {
    inputs: Ai_Cf_Baai_Bge_M3_Input;
    postProcessedOutputs: Ai_Cf_Baai_Bge_M3_Output;
}
interface Ai_Cf_Black_Forest_Labs_Flux_1_Schnell_Input {
    /**
     * A text description of the image you want to generate.
     */
    prompt: string;
    /**
     * The number of diffusion steps; higher values can improve quality but take longer.
     */
    steps?: number;
}
interface Ai_Cf_Black_Forest_Labs_Flux_1_Schnell_Output {
    /**
     * The generated image in Base64 format.
     */
    image?: string;
}
declare abstract class Base_Ai_Cf_Black_Forest_Labs_Flux_1_Schnell {
    inputs: Ai_Cf_Black_Forest_Labs_Flux_1_Schnell_Input;
    postProcessedOutputs: Ai_Cf_Black_Forest_Labs_Flux_1_Schnell_Output;
}
type Ai_Cf_Meta_Llama_3_2_11B_Vision_Instruct_Input = Prompt | Messages;
interface Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    image?: number[] | (string & NonNullable<unknown>);
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
    /**
     * Name of the LoRA (Low-Rank Adaptation) model to fine-tune the base model.
     */
    lora?: string;
}
interface Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role?: string;
        /**
         * The tool call id. Must be supplied for tool calls for Mistral-3. If you don't know what to put here you can fall back to 000000001
         */
        tool_call_id?: string;
        content?: string | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        }[] | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        };
    }[];
    image?: number[] | (string & NonNullable<unknown>);
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    /**
     * If true, the response will be streamed back incrementally.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Controls the creativity of the AI's responses by adjusting how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
type Ai_Cf_Meta_Llama_3_2_11B_Vision_Instruct_Output = {
    /**
     * The generated text response from the model
     */
    response?: string;
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The arguments passed to be passed to the tool call request
         */
        arguments?: object;
        /**
         * The name of the tool to be called
         */
        name?: string;
    }[];
};
declare abstract class Base_Ai_Cf_Meta_Llama_3_2_11B_Vision_Instruct {
    inputs: Ai_Cf_Meta_Llama_3_2_11B_Vision_Instruct_Input;
    postProcessedOutputs: Ai_Cf_Meta_Llama_3_2_11B_Vision_Instruct_Output;
}
type Ai_Cf_Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Input = Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Prompt | Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Messages | AsyncBatch;
interface Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    /**
     * Name of the LoRA (Low-Rank Adaptation) model to fine-tune the base model.
     */
    lora?: string;
    response_format?: JSONMode;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface JSONMode {
    type?: "json_object" | "json_schema";
    json_schema?: unknown;
}
interface Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role: string;
        /**
         * The content of the message as a string.
         */
        content: string;
    }[];
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    response_format?: JSONMode;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface AsyncBatch {
    requests?: {
        /**
         * User-supplied reference. This field will be present in the response as well it can be used to reference the request and response. It's NOT validated to be unique.
         */
        external_reference?: string;
        /**
         * Prompt for the text generation model
         */
        prompt?: string;
        /**
         * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
         */
        stream?: boolean;
        /**
         * The maximum number of tokens to generate in the response.
         */
        max_tokens?: number;
        /**
         * Controls the randomness of the output; higher values produce more random results.
         */
        temperature?: number;
        /**
         * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
         */
        top_p?: number;
        /**
         * Random seed for reproducibility of the generation.
         */
        seed?: number;
        /**
         * Penalty for repeated tokens; higher values discourage repetition.
         */
        repetition_penalty?: number;
        /**
         * Decreases the likelihood of the model repeating the same lines verbatim.
         */
        frequency_penalty?: number;
        /**
         * Increases the likelihood of the model introducing new topics.
         */
        presence_penalty?: number;
        response_format?: JSONMode;
    }[];
}
type Ai_Cf_Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Output = {
    /**
     * The generated text response from the model
     */
    response: string;
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The arguments passed to be passed to the tool call request
         */
        arguments?: object;
        /**
         * The name of the tool to be called
         */
        name?: string;
    }[];
} | AsyncResponse;
declare abstract class Base_Ai_Cf_Meta_Llama_3_3_70B_Instruct_Fp8_Fast {
    inputs: Ai_Cf_Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Input;
    postProcessedOutputs: Ai_Cf_Meta_Llama_3_3_70B_Instruct_Fp8_Fast_Output;
}
interface Ai_Cf_Meta_Llama_Guard_3_8B_Input {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender must alternate between 'user' and 'assistant'.
         */
        role: "user" | "assistant";
        /**
         * The content of the message as a string.
         */
        content: string;
    }[];
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Dictate the output format of the generated response.
     */
    response_format?: {
        /**
         * Set to json_object to process and output generated text as JSON.
         */
        type?: string;
    };
}
interface Ai_Cf_Meta_Llama_Guard_3_8B_Output {
    response?: string | {
        /**
         * Whether the conversation is safe or not.
         */
        safe?: boolean;
        /**
         * A list of what hazard categories predicted for the conversation, if the conversation is deemed unsafe.
         */
        categories?: string[];
    };
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
}
declare abstract class Base_Ai_Cf_Meta_Llama_Guard_3_8B {
    inputs: Ai_Cf_Meta_Llama_Guard_3_8B_Input;
    postProcessedOutputs: Ai_Cf_Meta_Llama_Guard_3_8B_Output;
}
interface Ai_Cf_Baai_Bge_Reranker_Base_Input {
    /**
     * A query you wish to perform against the provided contexts.
     */
    query: string;
    /**
     * Number of returned results starting with the best score.
     */
    top_k?: number;
    /**
     * List of provided contexts. Note that the index in this array is important, as the response will refer to it.
     */
    contexts: {
        /**
         * One of the provided context content
         */
        text?: string;
    }[];
}
interface Ai_Cf_Baai_Bge_Reranker_Base_Output {
    response?: {
        /**
         * Index of the context in the request
         */
        id?: number;
        /**
         * Score of the context under the index.
         */
        score?: number;
    }[];
}
declare abstract class Base_Ai_Cf_Baai_Bge_Reranker_Base {
    inputs: Ai_Cf_Baai_Bge_Reranker_Base_Input;
    postProcessedOutputs: Ai_Cf_Baai_Bge_Reranker_Base_Output;
}
type Ai_Cf_Qwen_Qwen2_5_Coder_32B_Instruct_Input = Qwen2_5_Coder_32B_Instruct_Prompt | Qwen2_5_Coder_32B_Instruct_Messages;
interface Qwen2_5_Coder_32B_Instruct_Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    /**
     * Name of the LoRA (Low-Rank Adaptation) model to fine-tune the base model.
     */
    lora?: string;
    response_format?: JSONMode;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface Qwen2_5_Coder_32B_Instruct_Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role: string;
        /**
         * The content of the message as a string.
         */
        content: string;
    }[];
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    response_format?: JSONMode;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
type Ai_Cf_Qwen_Qwen2_5_Coder_32B_Instruct_Output = {
    /**
     * The generated text response from the model
     */
    response: string;
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The arguments passed to be passed to the tool call request
         */
        arguments?: object;
        /**
         * The name of the tool to be called
         */
        name?: string;
    }[];
};
declare abstract class Base_Ai_Cf_Qwen_Qwen2_5_Coder_32B_Instruct {
    inputs: Ai_Cf_Qwen_Qwen2_5_Coder_32B_Instruct_Input;
    postProcessedOutputs: Ai_Cf_Qwen_Qwen2_5_Coder_32B_Instruct_Output;
}
type Ai_Cf_Qwen_Qwq_32B_Input = Qwen_Qwq_32B_Prompt | Qwen_Qwq_32B_Messages;
interface Qwen_Qwq_32B_Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    /**
     * JSON schema that should be fulfilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface Qwen_Qwq_32B_Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role?: string;
        /**
         * The tool call id. Must be supplied for tool calls for Mistral-3. If you don't know what to put here you can fall back to 000000001
         */
        tool_call_id?: string;
        content?: string | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        }[] | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        };
    }[];
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    /**
     * JSON schema that should be fufilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
type Ai_Cf_Qwen_Qwq_32B_Output = {
    /**
     * The generated text response from the model
     */
    response: string;
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The arguments passed to be passed to the tool call request
         */
        arguments?: object;
        /**
         * The name of the tool to be called
         */
        name?: string;
    }[];
};
declare abstract class Base_Ai_Cf_Qwen_Qwq_32B {
    inputs: Ai_Cf_Qwen_Qwq_32B_Input;
    postProcessedOutputs: Ai_Cf_Qwen_Qwq_32B_Output;
}
type Ai_Cf_Mistralai_Mistral_Small_3_1_24B_Instruct_Input = Mistral_Small_3_1_24B_Instruct_Prompt | Mistral_Small_3_1_24B_Instruct_Messages;
interface Mistral_Small_3_1_24B_Instruct_Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    /**
     * JSON schema that should be fulfilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface Mistral_Small_3_1_24B_Instruct_Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role?: string;
        /**
         * The tool call id. Must be supplied for tool calls for Mistral-3. If you don't know what to put here you can fall back to 000000001
         */
        tool_call_id?: string;
        content?: string | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        }[] | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        };
    }[];
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    /**
     * JSON schema that should be fufilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
type Ai_Cf_Mistralai_Mistral_Small_3_1_24B_Instruct_Output = {
    /**
     * The generated text response from the model
     */
    response: string;
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The arguments passed to be passed to the tool call request
         */
        arguments?: object;
        /**
         * The name of the tool to be called
         */
        name?: string;
    }[];
};
declare abstract class Base_Ai_Cf_Mistralai_Mistral_Small_3_1_24B_Instruct {
    inputs: Ai_Cf_Mistralai_Mistral_Small_3_1_24B_Instruct_Input;
    postProcessedOutputs: Ai_Cf_Mistralai_Mistral_Small_3_1_24B_Instruct_Output;
}
type Ai_Cf_Google_Gemma_3_12B_It_Input = Google_Gemma_3_12B_It_Prompt | Google_Gemma_3_12B_It_Messages;
interface Google_Gemma_3_12B_It_Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    /**
     * JSON schema that should be fufilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface Google_Gemma_3_12B_It_Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role?: string;
        content?: string | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        }[] | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        };
    }[];
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    /**
     * JSON schema that should be fufilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
type Ai_Cf_Google_Gemma_3_12B_It_Output = {
    /**
     * The generated text response from the model
     */
    response: string;
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The arguments passed to be passed to the tool call request
         */
        arguments?: object;
        /**
         * The name of the tool to be called
         */
        name?: string;
    }[];
};
declare abstract class Base_Ai_Cf_Google_Gemma_3_12B_It {
    inputs: Ai_Cf_Google_Gemma_3_12B_It_Input;
    postProcessedOutputs: Ai_Cf_Google_Gemma_3_12B_It_Output;
}
type Ai_Cf_Meta_Llama_4_Scout_17B_16E_Instruct_Input = Ai_Cf_Meta_Llama_4_Prompt | Ai_Cf_Meta_Llama_4_Messages;
interface Ai_Cf_Meta_Llama_4_Prompt {
    /**
     * The input text prompt for the model to generate a response.
     */
    prompt: string;
    /**
     * JSON schema that should be fulfilled for the response.
     */
    guided_json?: object;
    response_format?: JSONMode;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
interface Ai_Cf_Meta_Llama_4_Messages {
    /**
     * An array of message objects representing the conversation history.
     */
    messages: {
        /**
         * The role of the message sender (e.g., 'user', 'assistant', 'system', 'tool').
         */
        role?: string;
        /**
         * The tool call id. If you don't know what to put here you can fall back to 000000001
         */
        tool_call_id?: string;
        content?: string | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        }[] | {
            /**
             * Type of the content provided
             */
            type?: string;
            text?: string;
            image_url?: {
                /**
                 * image uri with data (e.g. data:image/jpeg;base64,/9j/...). HTTP URL will not be accepted
                 */
                url?: string;
            };
        };
    }[];
    functions?: {
        name: string;
        code: string;
    }[];
    /**
     * A list of tools available for the assistant to use.
     */
    tools?: ({
        /**
         * The name of the tool. More descriptive the better.
         */
        name: string;
        /**
         * A brief description of what the tool does.
         */
        description: string;
        /**
         * Schema defining the parameters accepted by the tool.
         */
        parameters: {
            /**
             * The type of the parameters object (usually 'object').
             */
            type: string;
            /**
             * List of required parameter names.
             */
            required?: string[];
            /**
             * Definitions of each parameter.
             */
            properties: {
                [k: string]: {
                    /**
                     * The data type of the parameter.
                     */
                    type: string;
                    /**
                     * A description of the expected parameter.
                     */
                    description: string;
                };
            };
        };
    } | {
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type: string;
        /**
         * Details of the function tool.
         */
        function: {
            /**
             * The name of the function.
             */
            name: string;
            /**
             * A brief description of what the function does.
             */
            description: string;
            /**
             * Schema defining the parameters accepted by the function.
             */
            parameters: {
                /**
                 * The type of the parameters object (usually 'object').
                 */
                type: string;
                /**
                 * List of required parameter names.
                 */
                required?: string[];
                /**
                 * Definitions of each parameter.
                 */
                properties: {
                    [k: string]: {
                        /**
                         * The data type of the parameter.
                         */
                        type: string;
                        /**
                         * A description of the expected parameter.
                         */
                        description: string;
                    };
                };
            };
        };
    })[];
    response_format?: JSONMode;
    /**
     * JSON schema that should be fufilled for the response.
     */
    guided_json?: object;
    /**
     * If true, a chat template is not applied and you must adhere to the specific model's expected formatting.
     */
    raw?: boolean;
    /**
     * If true, the response will be streamed back incrementally using SSE, Server Sent Events.
     */
    stream?: boolean;
    /**
     * The maximum number of tokens to generate in the response.
     */
    max_tokens?: number;
    /**
     * Controls the randomness of the output; higher values produce more random results.
     */
    temperature?: number;
    /**
     * Adjusts the creativity of the AI's responses by controlling how many possible words it considers. Lower values make outputs more predictable; higher values allow for more varied and creative responses.
     */
    top_p?: number;
    /**
     * Limits the AI to choose from the top 'k' most probable words. Lower values make responses more focused; higher values introduce more variety and potential surprises.
     */
    top_k?: number;
    /**
     * Random seed for reproducibility of the generation.
     */
    seed?: number;
    /**
     * Penalty for repeated tokens; higher values discourage repetition.
     */
    repetition_penalty?: number;
    /**
     * Decreases the likelihood of the model repeating the same lines verbatim.
     */
    frequency_penalty?: number;
    /**
     * Increases the likelihood of the model introducing new topics.
     */
    presence_penalty?: number;
}
type Ai_Cf_Meta_Llama_4_Scout_17B_16E_Instruct_Output = {
    /**
     * The generated text response from the model
     */
    response: string;
    /**
     * Usage statistics for the inference request
     */
    usage?: {
        /**
         * Total number of tokens in input
         */
        prompt_tokens?: number;
        /**
         * Total number of tokens in output
         */
        completion_tokens?: number;
        /**
         * Total number of input and output tokens
         */
        total_tokens?: number;
    };
    /**
     * An array of tool calls requests made during the response generation
     */
    tool_calls?: {
        /**
         * The tool call id.
         */
        id?: string;
        /**
         * Specifies the type of tool (e.g., 'function').
         */
        type?: string;
        /**
         * Details of the function tool.
         */
        function?: {
            /**
             * The name of the tool to be called
             */
            name?: string;
            /**
             * The arguments passed to be passed to the tool call request
             */
            arguments?: object;
        };
    }[];
};
declare abstract class Base_Ai_Cf_Meta_Llama_4_Scout_17B_16E_Instruct {
    inputs: Ai_Cf_Meta_Llama_4_Scout_17B_16E_Instruct_Input;
    postProcessedOutputs: Ai_Cf_Meta_Llama_4_Scout_17B_16E_Instruct_Output;
}
interface AiModels {
    "@cf/huggingface/distilbert-sst-2-int8": BaseAiTextClassification;
    "@cf/stabilityai/stable-diffusion-xl-base-1.0": BaseAiTextToImage;
    "@cf/runwayml/stable-diffusion-v1-5-inpainting": BaseAiTextToImage;
    "@cf/runwayml/stable-diffusion-v1-5-img2img": BaseAiTextToImage;
    "@cf/lykon/dreamshaper-8-lcm": BaseAiTextToImage;
    "@cf/bytedance/stable-diffusion-xl-lightning": BaseAiTextToImage;
    "@cf/myshell-ai/melotts": BaseAiTextToSpeech;
    "@cf/microsoft/resnet-50": BaseAiImageClassification;
    "@cf/facebook/detr-resnet-50": BaseAiObjectDetection;
    "@cf/meta/llama-2-7b-chat-int8": BaseAiTextGeneration;
    "@cf/mistral/mistral-7b-instruct-v0.1": BaseAiTextGeneration;
    "@cf/meta/llama-2-7b-chat-fp16": BaseAiTextGeneration;
    "@hf/thebloke/llama-2-13b-chat-awq": BaseAiTextGeneration;
    "@hf/thebloke/mistral-7b-instruct-v0.1-awq": BaseAiTextGeneration;
    "@hf/thebloke/zephyr-7b-beta-awq": BaseAiTextGeneration;
    "@hf/thebloke/openhermes-2.5-mistral-7b-awq": BaseAiTextGeneration;
    "@hf/thebloke/neural-chat-7b-v3-1-awq": BaseAiTextGeneration;
    "@hf/thebloke/llamaguard-7b-awq": BaseAiTextGeneration;
    "@hf/thebloke/deepseek-coder-6.7b-base-awq": BaseAiTextGeneration;
    "@hf/thebloke/deepseek-coder-6.7b-instruct-awq": BaseAiTextGeneration;
    "@cf/deepseek-ai/deepseek-math-7b-instruct": BaseAiTextGeneration;
    "@cf/defog/sqlcoder-7b-2": BaseAiTextGeneration;
    "@cf/openchat/openchat-3.5-0106": BaseAiTextGeneration;
    "@cf/tiiuae/falcon-7b-instruct": BaseAiTextGeneration;
    "@cf/thebloke/discolm-german-7b-v1-awq": BaseAiTextGeneration;
    "@cf/qwen/qwen1.5-0.5b-chat": BaseAiTextGeneration;
    "@cf/qwen/qwen1.5-7b-chat-awq": BaseAiTextGeneration;
    "@cf/qwen/qwen1.5-14b-chat-awq": BaseAiTextGeneration;
    "@cf/tinyllama/tinyllama-1.1b-chat-v1.0": BaseAiTextGeneration;
    "@cf/microsoft/phi-2": BaseAiTextGeneration;
    "@cf/qwen/qwen1.5-1.8b-chat": BaseAiTextGeneration;
    "@cf/mistral/mistral-7b-instruct-v0.2-lora": BaseAiTextGeneration;
    "@hf/nousresearch/hermes-2-pro-mistral-7b": BaseAiTextGeneration;
    "@hf/nexusflow/starling-lm-7b-beta": BaseAiTextGeneration;
    "@hf/google/gemma-7b-it": BaseAiTextGeneration;
    "@cf/meta-llama/llama-2-7b-chat-hf-lora": BaseAiTextGeneration;
    "@cf/google/gemma-2b-it-lora": BaseAiTextGeneration;
    "@cf/google/gemma-7b-it-lora": BaseAiTextGeneration;
    "@hf/mistral/mistral-7b-instruct-v0.2": BaseAiTextGeneration;
    "@cf/meta/llama-3-8b-instruct": BaseAiTextGeneration;
    "@cf/fblgit/una-cybertron-7b-v2-bf16": BaseAiTextGeneration;
    "@cf/meta/llama-3-8b-instruct-awq": BaseAiTextGeneration;
    "@hf/meta-llama/meta-llama-3-8b-instruct": BaseAiTextGeneration;
    "@cf/meta/llama-3.1-8b-instruct": BaseAiTextGeneration;
    "@cf/meta/llama-3.1-8b-instruct-fp8": BaseAiTextGeneration;
    "@cf/meta/llama-3.1-8b-instruct-awq": BaseAiTextGeneration;
    "@cf/meta/llama-3.2-3b-instruct": BaseAiTextGeneration;
    "@cf/meta/llama-3.2-1b-instruct": BaseAiTextGeneration;
    "@cf/deepseek-ai/deepseek-r1-distill-qwen-32b": BaseAiTextGeneration;
    "@cf/facebook/bart-large-cnn": BaseAiSummarization;
    "@cf/llava-hf/llava-1.5-7b-hf": BaseAiImageToText;
    "@cf/baai/bge-base-en-v1.5": Base_Ai_Cf_Baai_Bge_Base_En_V1_5;
    "@cf/openai/whisper": Base_Ai_Cf_Openai_Whisper;
    "@cf/meta/m2m100-1.2b": Base_Ai_Cf_Meta_M2M100_1_2B;
    "@cf/baai/bge-small-en-v1.5": Base_Ai_Cf_Baai_Bge_Small_En_V1_5;
    "@cf/baai/bge-large-en-v1.5": Base_Ai_Cf_Baai_Bge_Large_En_V1_5;
    "@cf/unum/uform-gen2-qwen-500m": Base_Ai_Cf_Unum_Uform_Gen2_Qwen_500M;
    "@cf/openai/whisper-tiny-en": Base_Ai_Cf_Openai_Whisper_Tiny_En;
    "@cf/openai/whisper-large-v3-turbo": Base_Ai_Cf_Openai_Whisper_Large_V3_Turbo;
    "@cf/baai/bge-m3": Base_Ai_Cf_Baai_Bge_M3;
    "@cf/black-forest-labs/flux-1-schnell": Base_Ai_Cf_Black_Forest_Labs_Flux_1_Schnell;
    "@cf/meta/llama-3.2-11b-vision-instruct": Base_Ai_Cf_Meta_Llama_3_2_11B_Vision_Instruct;
    "@cf/meta/llama-3.3-70b-instruct-fp8-fast": Base_Ai_Cf_Meta_Llama_3_3_70B_Instruct_Fp8_Fast;
    "@cf/meta/llama-guard-3-8b": Base_Ai_Cf_Meta_Llama_Guard_3_8B;
    "@cf/baai/bge-reranker-base": Base_Ai_Cf_Baai_Bge_Reranker_Base;
    "@cf/qwen/qwen2.5-coder-32b-instruct": Base_Ai_Cf_Qwen_Qwen2_5_Coder_32B_Instruct;
    "@cf/qwen/qwq-32b": Base_Ai_Cf_Qwen_Qwq_32B;
    "@cf/mistralai/mistral-small-3.1-24b-instruct": Base_Ai_Cf_Mistralai_Mistral_Small_3_1_24B_Instruct;
    "@cf/google/gemma-3-12b-it": Base_Ai_Cf_Google_Gemma_3_12B_It;
    "@cf/meta/llama-4-scout-17b-16e-instruct": Base_Ai_Cf_Meta_Llama_4_Scout_17B_16E_Instruct;
}
type AiOptions = {
    /**
     * Send requests as an asynchronous batch job, only works for supported models
     * https://developers.cloudflare.com/workers-ai/features/batch-api
     */
    queueRequest?: boolean;
    gateway?: GatewayOptions;
    returnRawResponse?: boolean;
    prefix?: string;
    extraHeaders?: object;
};
type ConversionResponse = {
    name: string;
    mimeType: string;
    format: "markdown";
    tokens: number;
    data: string;
};
type AiModelsSearchParams = {
    author?: string;
    hide_experimental?: boolean;
    page?: number;
    per_page?: number;
    search?: string;
    source?: number;
    task?: string;
};
type AiModelsSearchObject = {
    id: string;
    source: number;
    name: string;
    description: string;
    task: {
        id: string;
        name: string;
        description: string;
    };
    tags: string[];
    properties: {
        property_id: string;
        value: string;
    }[];
};
interface InferenceUpstreamError extends Error {
}
interface AiInternalError extends Error {
}
type AiModelListType = Record<string, any>;
declare abstract class Ai<AiModelList extends AiModelListType = AiModels> {
    aiGatewayLogId: string | null;
    gateway(gatewayId: string): AiGateway;
    autorag(autoragId: string): AutoRAG;
    run<Name extends keyof AiModelList, Options extends AiOptions, InputOptions extends AiModelList[Name]["inputs"]>(model: Name, inputs: InputOptions, options?: Options): Promise<Options extends {
        returnRawResponse: true;
    } ? Response : InputOptions extends {
        stream: true;
    } ? ReadableStream : AiModelList[Name]["postProcessedOutputs"]>;
    models(params?: AiModelsSearchParams): Promise<AiModelsSearchObject[]>;
    toMarkdown(files: {
        name: string;
        blob: Blob;
    }[], options?: {
        gateway?: GatewayOptions;
        extraHeaders?: object;
    }): Promise<ConversionResponse[]>;
    toMarkdown(files: {
        name: string;
        blob: Blob;
    }, options?: {
        gateway?: GatewayOptions;
        extraHeaders?: object;
    }): Promise<ConversionResponse>;
}
type GatewayRetries = {
    maxAttempts?: 1 | 2 | 3 | 4 | 5;
    retryDelayMs?: number;
    backoff?: 'constant' | 'linear' | 'exponential';
};
type GatewayOptions = {
    id: string;
    cacheKey?: string;
    cacheTtl?: number;
    skipCache?: boolean;
    metadata?: Record<string, number | string | boolean | null | bigint>;
    collectLog?: boolean;
    eventId?: string;
    requestTimeoutMs?: number;
    retries?: GatewayRetries;
};
type AiGatewayPatchLog = {
    score?: number | null;
    feedback?: -1 | 1 | null;
    metadata?: Record<string, number | string | boolean | null | bigint> | null;
};
type AiGatewayLog = {
    id: string;
    provider: string;
    model: string;
    model_type?: string;
    path: string;
    duration: number;
    request_type?: string;
    request_content_type?: string;
    status_code: number;
    response_content_type?: string;
    success: boolean;
    cached: boolean;
    tokens_in?: number;
    tokens_out?: number;
    metadata?: Record<string, number | string | boolean | null | bigint>;
    step?: number;
    cost?: number;
    custom_cost?: boolean;
    request_size: number;
    request_head?: string;
    request_head_complete: boolean;
    response_size: number;
    response_head?: string;
    response_head_complete: boolean;
    created_at: Date;
};
type AIGatewayProviders = 'workers-ai' | 'anthropic' | 'aws-bedrock' | 'azure-openai' | 'google-vertex-ai' | 'huggingface' | 'openai' | 'perplexity-ai' | 'replicate' | 'groq' | 'cohere' | 'google-ai-studio' | 'mistral' | 'grok' | 'openrouter' | 'deepseek' | 'cerebras' | 'cartesia' | 'elevenlabs' | 'adobe-firefly';
type AIGatewayHeaders = {
    'cf-aig-metadata': Record<string, number | string | boolean | null | bigint> | string;
    'cf-aig-custom-cost': {
        per_token_in?: number;
        per_token_out?: number;
    } | {
        total_cost?: number;
    } | string;
    'cf-aig-cache-ttl': number | string;
    'cf-aig-skip-cache': boolean | string;
    'cf-aig-cache-key': string;
    'cf-aig-event-id': string;
    'cf-aig-request-timeout': number | string;
    'cf-aig-max-attempts': number | string;
    'cf-aig-retry-delay': number | string;
    'cf-aig-backoff': string;
    'cf-aig-collect-log': boolean | string;
    Authorization: string;
    'Content-Type': string;
    [key: string]: string | number | boolean | object;
};
type AIGatewayUniversalRequest = {
    provider: AIGatewayProviders | string; // eslint-disable-line
    endpoint: string;
    headers: Partial<AIGatewayHeaders>;
    query: unknown;
};
interface AiGatewayInternalError extends Error {
}
interface AiGatewayLogNotFound extends Error {
}
declare abstract class AiGateway {
    patchLog(logId: string, data: AiGatewayPatchLog): Promise<void>;
    getLog(logId: string): Promise<AiGatewayLog>;
    run(data: AIGatewayUniversalRequest | AIGatewayUniversalRequest[], options?: {
        gateway?: GatewayOptions;
        extraHeaders?: object;
    }): Promise<Response>;
    getUrl(provider?: AIGatewayProviders | string): Promise<string>; // eslint-disable-line
}
interface AutoRAGInternalError extends Error {
}
interface AutoRAGNotFoundError extends Error {
}
interface AutoRAGUnauthorizedError extends Error {
}
interface AutoRAGNameNotSetError extends Error {
}
type ComparisonFilter = {
    key: string;
    type: 'eq' | 'ne' | 'gt' | 'gte' | 'lt' | 'lte';
    value: string | number | boolean;
};
type CompoundFilter = {
    type: 'and' | 'or';
    filters: ComparisonFilter[];
};
type AutoRagSearchRequest = {
    query: string;
    filters?: CompoundFilter | ComparisonFilter;
    max_num_results?: number;
    ranking_options?: {
        ranker?: string;
        score_threshold?: number;
    };
    rewrite_query?: boolean;
};
type AutoRagAiSearchRequest = AutoRagSearchRequest & {
    stream?: boolean;
};
type AutoRagAiSearchRequestStreaming = Omit<AutoRagAiSearchRequest, 'stream'> & {
    stream: true;
};
type AutoRagSearchResponse = {
    object: 'vector_store.search_results.page';
    search_query: string;
    data: {
        file_id: string;
        filename: string;
        score: number;
        attributes: Record<string, string | number | boolean | null>;
        content: {
            type: 'text';
            text: string;
        }[];
    }[];
    has_more: boolean;
    next_page: string | null;
};
type AutoRagListResponse = {
    id: string;
    enable: boolean;
    type: string;
    source: string;
    vectorize_name: string;
    paused: boolean;
    status: string;
}[];
type AutoRagAiSearchResponse = AutoRagSearchResponse & {
    response: string;
};
declare abstract class AutoRAG {
    list(): Promise<AutoRagListResponse>;
    search(params: AutoRagSearchRequest): Promise<AutoRagSearchResponse>;
    aiSearch(params: AutoRagAiSearchRequestStreaming): Promise<Response>;
    aiSearch(params: AutoRagAiSearchRequest): Promise<AutoRagAiSearchResponse>;
    aiSearch(params: AutoRagAiSearchRequest): Promise<AutoRagAiSearchResponse | Response>;
}
interface BasicImageTransformations {
    /**
     * Maximum width in image pixels. The value must be an integer.
     */
    width?: number;
    /**
     * Maximum height in image pixels. The value must be an integer.
     */
    height?: number;
    /**
     * Resizing mode as a string. It affects interpretation of width and height
     * options:
     *  - scale-down: Similar to contain, but the image is never enlarged. If
     *    the image is larger than given width or height, it will be resized.
     *    Otherwise its original size will be kept.
     *  - contain: Resizes to maximum size that fits within the given width and
     *    height. If only a single dimension is given (e.g. only width), the
     *    image will be shrunk or enlarged to exactly match that dimension.
     *    Aspect ratio is always preserved.
     *  - cover: Resizes (shrinks or enlarges) to fill the entire area of width
     *    and height. If the image has an aspect ratio different from the ratio
     *    of width and height, it will be cropped to fit.
     *  - crop: The image will be shrunk and cropped to fit within the area
     *    specified by width and height. The image will not be enlarged. For images
     *    smaller than the given dimensions it's the same as scale-down. For
     *    images larger than the given dimensions, it's the same as cover.
     *    See also trim.
     *  - pad: Resizes to the maximum size that fits within the given width and
     *    height, and then fills the remaining area with a background color
     *    (white by default). Use of this mode is not recommended, as the same
     *    effect can be more efficiently achieved with the contain mode and the
     *    CSS object-fit: contain property.
     *  - squeeze: Stretches and deforms to the width and height given, even if it
     *    breaks aspect ratio
     */
    fit?: "scale-down" | "contain" | "cover" | "crop" | "pad" | "squeeze";
    /**
     * When cropping with fit: "cover", this defines the side or point that should
     * be left uncropped. The value is either a string
     * "left", "right", "top", "bottom", "auto", or "center" (the default),
     * or an object {x, y} containing focal point coordinates in the original
     * image expressed as fractions ranging from 0.0 (top or left) to 1.0
     * (bottom or right), 0.5 being the center. {fit: "cover", gravity: "top"} will
     * crop bottom or left and right sides as necessary, but wonโt crop anything
     * from the top. {fit: "cover", gravity: {x:0.5, y:0.2}} will crop each side to
     * preserve as much as possible around a point at 20% of the height of the
     * source image.
     */
    gravity?: 'left' | 'right' | 'top' | 'bottom' | 'center' | 'auto' | 'entropy' | BasicImageTransformationsGravityCoordinates;
    /**
     * Background color to add underneath the image. Applies only to images with
     * transparency (such as PNG). Accepts any CSS color (#RRGGBB, rgba(โฆ),
     * hsl(โฆ), etc.)
     */
    background?: string;
    /**
     * Number of degrees (90, 180, 270) to rotate the image by. width and height
     * options refer to axes after rotation.
     */
    rotate?: 0 | 90 | 180 | 270 | 360;
}
interface BasicImageTransformationsGravityCoordinates {
    x?: number;
    y?: number;
    mode?: 'remainder' | 'box-center';
}
/**
 * In addition to the properties you can set in the RequestInit dict
 * that you pass as an argument to the Request constructor, you can
 * set certain properties of a `cf` object to control how Cloudflare
 * features are applied to that new Request.
 *
 * Note: Currently, these properties cannot be tested in the
 * playground.
 */
interface RequestInitCfProperties extends Record<string, unknown> {
    cacheEverything?: boolean;
    /**
     * A request's cache key is what determines if two requests are
     * "the same" for caching purposes. If a request has the same cache key
     * as some previous request, then we can serve the same cached response for
     * both. (e.g. 'some-key')
     *
     * Only available for Enterprise customers.
     */
    cacheKey?: string;
    /**
     * This allows you to append additional Cache-Tag response headers
     * to the origin response without modifications to the origin server.
     * This will allow for greater control over the Purge by Cache Tag feature
     * utilizing changes only in the Workers process.
     *
     * Only available for Enterprise customers.
     */
    cacheTags?: string[];
    /**
     * Force response to be cached for a given number of seconds. (e.g. 300)
     */
    cacheTtl?: number;
    /**
     * Force response to be cached for a given number of seconds based on the Origin status code.
     * (e.g. { '200-299': 86400, '404': 1, '500-599': 0 })
     */
    cacheTtlByStatus?: Record<string, number>;
    scrapeShield?: boolean;
    apps?: boolean;
    image?: RequestInitCfPropertiesImage;
    minify?: RequestInitCfPropertiesImageMinify;
    mirage?: boolean;
    polish?: "lossy" | "lossless" | "off";
    r2?: RequestInitCfPropertiesR2;
    /**
     * Redirects the request to an alternate origin server. You can use this,
     * for example, to implement load balancing across several origins.
     * (e.g.us-east.example.com)
     *
     * Note - For security reasons, the hostname set in resolveOverride must
     * be proxied on the same Cloudflare zone of the incoming request.
     * Otherwise, the setting is ignored. CNAME hosts are allowed, so to
     * resolve to a host under a different domain or a DNS only domain first
     * declare a CNAME record within your own zoneโs DNS mapping to the
     * external hostname, set proxy on Cloudflare, then set resolveOverride
     * to point to that CNAME record.
     */
    resolveOverride?: string;
}
interface RequestInitCfPropertiesImageDraw extends BasicImageTransformations {
    /**
     * Absolute URL of the image file to use for the drawing. It can be any of
     * the supported file formats. For drawing of watermarks or non-rectangular
     * overlays we recommend using PNG or WebP images.
     */
    url: string;
    /**
     * Floating-point number between 0 (transparent) and 1 (opaque).
     * For example, opacity: 0.5 makes overlay semitransparent.
     */
    opacity?: number;
    /**
     * - If set to true, the overlay image will be tiled to cover the entire
     *   area. This is useful for stock-photo-like watermarks.
     * - If set to "x", the overlay image will be tiled horizontally only
     *   (form a line).
     * - If set to "y", the overlay image will be tiled vertically only
     *   (form a line).
     */
    repeat?: true | "x" | "y";
    /**
     * Position of the overlay image relative to a given edge. Each property is
     * an offset in pixels. 0 aligns exactly to the edge. For example, left: 10
     * positions left side of the overlay 10 pixels from the left edge of the
     * image it's drawn over. bottom: 0 aligns bottom of the overlay with bottom
     * of the background image.
     *
     * Setting both left & right, or both top & bottom is an error.
     *
     * If no position is specified, the image will be centered.
     */
    top?: number;
    left?: number;
    bottom?: number;
    right?: number;
}
interface RequestInitCfPropertiesImage extends BasicImageTransformations {
    /**
     * Device Pixel Ratio. Default 1. Multiplier for width/height that makes it
     * easier to specify higher-DPI sizes in <img srcset>.
     */
    dpr?: number;
    /**
     * Allows you to trim your image. Takes dpr into account and is performed before
     * resizing or rotation.
     *
     * It can be used as:
     * - left, top, right, bottom - it will specify the number of pixels to cut
     *   off each side
     * - width, height - the width/height you'd like to end up with - can be used
     *   in combination with the properties above
     * - border - this will automatically trim the surroundings of an image based on
     *   it's color. It consists of three properties:
     *    - color: rgb or hex representation of the color you wish to trim (todo: verify the rgba bit)
     *    - tolerance: difference from color to treat as color
     *    - keep: the number of pixels of border to keep
     */
    trim?: "border" | {
        top?: number;
        bottom?: number;
        left?: number;
        right?: number;
        width?: number;
        height?: number;
        border?: boolean | {
            color?: string;
            tolerance?: number;
            keep?: number;
        };
    };
    /**
     * Quality setting from 1-100 (useful values are in 60-90 range). Lower values
     * make images look worse, but load faster. The default is 85. It applies only
     * to JPEG and WebP images. It doesnโt have any effect on PNG.
     */
    quality?: number | "low" | "medium-low" | "medium-high" | "high";
    /**
     * Output format to generate. It can be:
     *  - avif: generate images in AVIF format.
     *  - webp: generate images in Google WebP format. Set quality to 100 to get
     *    the WebP-lossless format.
     *  - json: instead of generating an image, outputs information about the
     *    image, in JSON format. The JSON object will contain image size
     *    (before and after resizing), source imageโs MIME type, file size, etc.
     * - jpeg: generate images in JPEG format.
     * - png: generate images in PNG format.
     */
    format?: "avif" | "webp" | "json" | "jpeg" | "png" | "baseline-jpeg" | "png-force" | "svg";
    /**
     * Whether to preserve animation frames from input files. Default is true.
     * Setting it to false reduces animations to still images. This setting is
     * recommended when enlarging images or processing arbitrary user content,
     * because large GIF animations can weigh tens or even hundreds of megabytes.
     * It is also useful to set anim:false when using format:"json" to get the
     * response quicker without the number of frames.
     */
    anim?: boolean;
    /**
     * What EXIF data should be preserved in the output image. Note that EXIF
     * rotation and embedded color profiles are always applied ("baked in" into
     * the image), and aren't affected by this option. Note that if the Polish
     * feature is enabled, all metadata may have been removed already and this
     * option may have no effect.
     *  - keep: Preserve most of EXIF metadata, including GPS location if there's
     *    any.
     *  - copyright: Only keep the copyright tag, and discard everything else.
     *    This is the default behavior for JPEG files.
     *  - none: Discard all invisible EXIF metadata. Currently WebP and PNG
     *    output formats always discard metadata.
     */
    metadata?: "keep" | "copyright" | "none";
    /**
     * Strength of sharpening filter to apply to the image. Floating-point
     * number between 0 (no sharpening, default) and 10 (maximum). 1.0 is a
     * recommended value for downscaled images.
     */
    sharpen?: number;
    /**
     * Radius of a blur filter (approximate gaussian). Maximum supported radius
     * is 250.
     */
    blur?: number;
    /**
     * Overlays are drawn in the order they appear in the array (last array
     * entry is the topmost layer).
     */
    draw?: RequestInitCfPropertiesImageDraw[];
    /**
     * Fetching image from authenticated origin. Setting this property will
     * pass authentication headers (Authorization, Cookie, etc.) through to
     * the origin.
     */
    "origin-auth"?: "share-publicly";
    /**
     * Adds a border around the image. The border is added after resizing. Border
     * width takes dpr into account, and can be specified either using a single
     * width property, or individually for each side.
     */
    border?: {
        color: string;
        width: number;
    } | {
        color: string;
        top: number;
        right: number;
        bottom: number;
        left: number;
    };
    /**
     * Increase brightness by a factor. A value of 1.0 equals no change, a value
     * of 0.5 equals half brightness, and a value of 2.0 equals twice as bright.
     * 0 is ignored.
     */
    brightness?: number;
    /**
     * Increase contrast by a factor. A value of 1.0 equals no change, a value of
     * 0.5 equals low contrast, and a value of 2.0 equals high contrast. 0 is
     * ignored.
     */
    contrast?: number;
    /**
     * Increase exposure by a factor. A value of 1.0 equals no change, a value of
     * 0.5 darkens the image, and a value of 2.0 lightens the image. 0 is ignored.
     */
    gamma?: number;
    /**
     * Increase contrast by a factor. A value of 1.0 equals no change, a value of
     * 0.5 equals low contrast, and a value of 2.0 equals high contrast. 0 is
     * ignored.
     */
    saturation?: number;
    /**
     * Flips the images horizontally, vertically, or both. Flipping is applied before
     * rotation, so if you apply flip=h,rotate=90 then the image will be flipped
     * horizontally, then rotated by 90 degrees.
     */
    flip?: 'h' | 'v' | 'hv';
    /**
     * Slightly reduces latency on a cache miss by selecting a
     * quickest-to-compress file format, at a cost of increased file size and
     * lower image quality. It will usually override the format option and choose
     * JPEG over WebP or AVIF. We do not recommend using this option, except in
     * unusual circumstances like resizing uncacheable dynamically-generated
     * images.
     */
    compression?: "fast";
}
interface RequestInitCfPropertiesImageMinify {
    javascript?: boolean;
    css?: boolean;
    html?: boolean;
}
interface RequestInitCfPropertiesR2 {
    /**
     * Colo id of bucket that an object is stored in
     */
    bucketColoId?: number;
}
/**
 * Request metadata provided by Cloudflare's edge.
 */
type IncomingRequestCfProperties<HostMetadata = unknown> = IncomingRequestCfPropertiesBase & IncomingRequestCfPropertiesBotManagementEnterprise & IncomingRequestCfPropertiesCloudflareForSaaSEnterprise<HostMetadata> & IncomingRequestCfPropertiesGeographicInformation & IncomingRequestCfPropertiesCloudflareAccessOrApiShield;
interface IncomingRequestCfPropertiesBase extends Record<string, unknown> {
    /**
     * [ASN](https://www.iana.org/assignments/as-numbers/as-numbers.xhtml) of the incoming request.
     *
     * @example 395747
     */
    asn: number;
    /**
     * The organization which owns the ASN of the incoming request.
     *
     * @example "Google Cloud"
     */
    asOrganization: string;
    /**
     * The original value of the `Accept-Encoding` header if Cloudflare modified it.
     *
     * @example "gzip, deflate, br"
     */
    clientAcceptEncoding?: string;
    /**
     * The number of milliseconds it took for the request to reach your worker.
     *
     * @example 22
     */
    clientTcpRtt?: number;
    /**
     * The three-letter [IATA](https://en.wikipedia.org/wiki/IATA_airport_code)
     * airport code of the data center that the request hit.
     *
     * @example "DFW"
     */
    colo: string;
    /**
     * Represents the upstream's response to a
     * [TCP `keepalive` message](https://tldp.org/HOWTO/TCP-Keepalive-HOWTO/overview.html)
     * from cloudflare.
     *
     * For workers with no upstream, this will always be `1`.
     *
     * @example 3
     */
    edgeRequestKeepAliveStatus: IncomingRequestCfPropertiesEdgeRequestKeepAliveStatus;
    /**
     * The HTTP Protocol the request used.
     *
     * @example "HTTP/2"
     */
    httpProtocol: string;
    /**
     * The browser-requested prioritization information in the request object.
     *
     * If no information was set, defaults to the empty string `""`
     *
     * @example "weight=192;exclusive=0;group=3;group-weight=127"
     * @default ""
     */
    requestPriority: string;
    /**
     * The TLS version of the connection to Cloudflare.
     * In requests served over plaintext (without TLS), this property is the empty string `""`.
     *
     * @example "TLSv1.3"
     */
    tlsVersion: string;
    /**
     * The cipher for the connection to Cloudflare.
     * In requests served over plaintext (without TLS), this property is the empty string `""`.
     *
     * @example "AEAD-AES128-GCM-SHA256"
     */
    tlsCipher: string;
    /**
     * Metadata containing the [`HELLO`](https://www.rfc-editor.org/rfc/rfc5246#section-7.4.1.2) and [`FINISHED`](https://www.rfc-editor.org/rfc/rfc5246#section-7.4.9) messages from this request's TLS handshake.
     *
     * If the incoming request was served over plaintext (without TLS) this field is undefined.
     */
    tlsExportedAuthenticator?: IncomingRequestCfPropertiesExportedAuthenticatorMetadata;
}
interface IncomingRequestCfPropertiesBotManagementBase {
    /**
     * Cloudflareโs [level of certainty](https://developers.cloudflare.com/bots/concepts/bot-score/) that a request comes from a bot,
     * represented as an integer percentage between `1` (almost certainly a bot) and `99` (almost certainly human).
     *
     * @example 54
     */
    score: number;
    /**
     * A boolean value that is true if the request comes from a good bot, like Google or Bing.
     * Most customers choose to allow this traffic. For more details, see [Traffic from known bots](https://developers.cloudflare.com/firewall/known-issues-and-faq/#how-does-firewall-rules-handle-traffic-from-known-bots).
     */
    verifiedBot: boolean;
    /**
     * A boolean value that is true if the request originates from a
     * Cloudflare-verified proxy service.
     */
    corporateProxy: boolean;
    /**
     * A boolean value that's true if the request matches [file extensions](https://developers.cloudflare.com/bots/reference/static-resources/) for many types of static resources.
     */
    staticResource: boolean;
    /**
     * List of IDs that correlate to the Bot Management heuristic detections made on a request (you can have multiple heuristic detections on the same request).
     */
    detectionIds: number[];
}
interface IncomingRequestCfPropertiesBotManagement {
    /**
     * Results of Cloudflare's Bot Management analysis
     */
    botManagement: IncomingRequestCfPropertiesBotManagementBase;
    /**
     * Duplicate of `botManagement.score`.
     *
     * @deprecated
     */
    clientTrustScore: number;
}
interface IncomingRequestCfPropertiesBotManagementEnterprise extends IncomingRequestCfPropertiesBotManagement {
    /**
     * Results of Cloudflare's Bot Management analysis
     */
    botManagement: IncomingRequestCfPropertiesBotManagementBase & {
        /**
         * A [JA3 Fingerprint](https://developers.cloudflare.com/bots/concepts/ja3-fingerprint/) to help profile specific SSL/TLS clients
         * across different destination IPs, Ports, and X509 certificates.
         */
        ja3Hash: string;
    };
}
interface IncomingRequestCfPropertiesCloudflareForSaaSEnterprise<HostMetadata> {
    /**
     * Custom metadata set per-host in [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/).
     *
     * This field is only present if you have Cloudflare for SaaS enabled on your account
     * and you have followed the [required steps to enable it]((https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/custom-metadata/)).
     */
    hostMetadata: HostMetadata;
}
interface IncomingRequestCfPropertiesCloudflareAccessOrApiShield {
    /**
     * Information about the client certificate presented to Cloudflare.
     *
     * This is populated when the incoming request is served over TLS using
     * either Cloudflare Access or API Shield (mTLS)
     * and the presented SSL certificate has a valid
     * [Certificate Serial Number](https://ldapwiki.com/wiki/Certificate%20Serial%20Number)
     * (i.e., not `null` or `""`).
     *
     * Otherwise, a set of placeholder values are used.
     *
     * The property `certPresented` will be set to `"1"` when
     * the object is populated (i.e. the above conditions were met).
     */
    tlsClientAuth: IncomingRequestCfPropertiesTLSClientAuth | IncomingRequestCfPropertiesTLSClientAuthPlaceholder;
}
/**
 * Metadata about the request's TLS handshake
 */
interface IncomingRequestCfPropertiesExportedAuthenticatorMetadata {
    /**
     * The client's [`HELLO` message](https://www.rfc-editor.org/rfc/rfc5246#section-7.4.1.2), encoded in hexadecimal
     *
     * @example "44372ba35fa1270921d318f34c12f155dc87b682cf36a790cfaa3ba8737a1b5d"
     */
    clientHandshake: string;
    /**
     * The server's [`HELLO` message](https://www.rfc-editor.org/rfc/rfc5246#section-7.4.1.2), encoded in hexadecimal
     *
     * @example "44372ba35fa1270921d318f34c12f155dc87b682cf36a790cfaa3ba8737a1b5d"
     */
    serverHandshake: string;
    /**
     * The client's [`FINISHED` message](https://www.rfc-editor.org/rfc/rfc5246#section-7.4.9), encoded in hexadecimal
     *
     * @example "084ee802fe1348f688220e2a6040a05b2199a761f33cf753abb1b006792d3f8b"
     */
    clientFinished: string;
    /**
     * The server's [`FINISHED` message](https://www.rfc-editor.org/rfc/rfc5246#section-7.4.9), encoded in hexadecimal
     *
     * @example "084ee802fe1348f688220e2a6040a05b2199a761f33cf753abb1b006792d3f8b"
     */
    serverFinished: string;
}
/**
 * Geographic data about the request's origin.
 */
interface IncomingRequestCfPropertiesGeographicInformation {
    /**
     * The [ISO 3166-1 Alpha 2](https://www.iso.org/iso-3166-country-codes.html) country code the request originated from.
     *
     * If your worker is [configured to accept TOR connections](https://support.cloudflare.com/hc/en-us/articles/203306930-Understanding-Cloudflare-Tor-support-and-Onion-Routing), this may also be `"T1"`, indicating a request that originated over TOR.
     *
     * If Cloudflare is unable to determine where the request originated this property is omitted.
     *
     * The country code `"T1"` is used for requests originating on TOR.
     *
     * @example "GB"
     */
    country?: Iso3166Alpha2Code | "T1";
    /**
     * If present, this property indicates that the request originated in the EU
     *
     * @example "1"
     */
    isEUCountry?: "1";
    /**
     * A two-letter code indicating the continent the request originated from.
     *
     * @example "AN"
     */
    continent?: ContinentCode;
    /**
     * The city the request originated from
     *
     * @example "Austin"
     */
    city?: string;
    /**
     * Postal code of the incoming request
     *
     * @example "78701"
     */
    postalCode?: string;
    /**
     * Latitude of the incoming request
     *
     * @example "30.27130"
     */
    latitude?: string;
    /**
     * Longitude of the incoming request
     *
     * @example "-97.74260"
     */
    longitude?: string;
    /**
     * Timezone of the incoming request
     *
     * @example "America/Chicago"
     */
    timezone?: string;
    /**
     * If known, the ISO 3166-2 name for the first level region associated with
     * the IP address of the incoming request
     *
     * @example "Texas"
     */
    region?: string;
    /**
     * If known, the ISO 3166-2 code for the first-level region associated with
     * the IP address of the incoming request
     *
     * @example "TX"
     */
    regionCode?: string;
    /**
     * Metro code (DMA) of the incoming request
     *
     * @example "635"
     */
    metroCode?: string;
}
/** Data about the incoming request's TLS certificate */
interface IncomingRequestCfPropertiesTLSClientAuth {
    /** Always `"1"`, indicating that the certificate was presented */
    certPresented: "1";
    /**
     * Result of certificate verification.
     *
     * @example "FAILED:self signed certificate"
     */
    certVerified: Exclude<CertVerificationStatus, "NONE">;
    /** The presented certificate's revokation status.
     *
     * - A value of `"1"` indicates the certificate has been revoked
     * - A value of `"0"` indicates the certificate has not been revoked
     */
    certRevoked: "1" | "0";
    /**
     * The certificate issuer's [distinguished name](https://knowledge.digicert.com/generalinformation/INFO1745.html)
     *
     * @example "CN=cloudflareaccess.com, C=US, ST=Texas, L=Austin, O=Cloudflare"
     */
    certIssuerDN: string;
    /**
     * The certificate subject's [distinguished name](https://knowledge.digicert.com/generalinformation/INFO1745.html)
     *
     * @example "CN=*.cloudflareaccess.com, C=US, ST=Texas, L=Austin, O=Cloudflare"
     */
    certSubjectDN: string;
    /**
     * The certificate issuer's [distinguished name](https://knowledge.digicert.com/generalinformation/INFO1745.html) ([RFC 2253](https://www.rfc-editor.org/rfc/rfc2253.html) formatted)
     *
     * @example "CN=cloudflareaccess.com, C=US, ST=Texas, L=Austin, O=Cloudflare"
     */
    certIssuerDNRFC2253: string;
    /**
     * The certificate subject's [distinguished name](https://knowledge.digicert.com/generalinformation/INFO1745.html) ([RFC 2253](https://www.rfc-editor.org/rfc/rfc2253.html) formatted)
     *
     * @example "CN=*.cloudflareaccess.com, C=US, ST=Texas, L=Austin, O=Cloudflare"
     */
    certSubjectDNRFC2253: string;
    /** The certificate issuer's distinguished name (legacy policies) */
    certIssuerDNLegacy: string;
    /** The certificate subject's distinguished name (legacy policies) */
    certSubjectDNLegacy: string;
    /**
     * The certificate's serial number
     *
     * @example "00936EACBE07F201DF"
     */
    certSerial: string;
    /**
     * The certificate issuer's serial number
     *
     * @example "2489002934BDFEA34"
     */
    certIssuerSerial: string;
    /**
     * The certificate's Subject Key Identifier
     *
     * @example "BB:AF:7E:02:3D:FA:A6:F1:3C:84:8E:AD:EE:38:98:EC:D9:32:32:D4"
     */
    certSKI: string;
    /**
     * The certificate issuer's Subject Key Identifier
     *
     * @example "BB:AF:7E:02:3D:FA:A6:F1:3C:84:8E:AD:EE:38:98:EC:D9:32:32:D4"
     */
    certIssuerSKI: string;
    /**
     * The certificate's SHA-1 fingerprint
     *
     * @example "6b9109f323999e52259cda7373ff0b4d26bd232e"
     */
    certFingerprintSHA1: string;
    /**
     * The certificate's SHA-256 fingerprint
     *
     * @example "acf77cf37b4156a2708e34c4eb755f9b5dbbe5ebb55adfec8f11493438d19e6ad3f157f81fa3b98278453d5652b0c1fd1d71e5695ae4d709803a4d3f39de9dea"
     */
    certFingerprintSHA256: string;
    /**
     * The effective starting date of the certificate
     *
     * @example "Dec 22 19:39:00 2018 GMT"
     */
    certNotBefore: string;
    /**
     * The effective expiration date of the certificate
     *
     * @example "Dec 22 19:39:00 2018 GMT"
     */
    certNotAfter: string;
}
/** Placeholder values for TLS Client Authorization */
interface IncomingRequestCfPropertiesTLSClientAuthPlaceholder {
    certPresented: "0";
    certVerified: "NONE";
    certRevoked: "0";
    certIssuerDN: "";
    certSubjectDN: "";
    certIssuerDNRFC2253: "";
    certSubjectDNRFC2253: "";
    certIssuerDNLegacy: "";
    certSubjectDNLegacy: "";
    certSerial: "";
    certIssuerSerial: "";
    certSKI: "";
    certIssuerSKI: "";
    certFingerprintSHA1: "";
    certFingerprintSHA256: "";
    certNotBefore: "";
    certNotAfter: "";
}
/** Possible outcomes of TLS verification */
declare type CertVerificationStatus = 
/** Authentication succeeded */
"SUCCESS"
/** No certificate was presented */
 | "NONE"
/** Failed because the certificate was self-signed */
 | "FAILED:self signed certificate"
/** Failed because the certificate failed a trust chain check */
 | "FAILED:unable to verify the first certificate"
/** Failed because the certificate not yet valid */
 | "FAILED:certificate is not yet valid"
/** Failed because the certificate is expired */
 | "FAILED:certificate has expired"
/** Failed for another unspecified reason */
 | "FAILED";
/**
 * An upstream endpoint's response to a TCP `keepalive` message from Cloudflare.
 */
declare type IncomingRequestCfPropertiesEdgeRequestKeepAliveStatus = 0 /** Unknown */ | 1 /** no keepalives (not found) */ | 2 /** no connection re-use, opening keepalive connection failed */ | 3 /** no connection re-use, keepalive accepted and saved */ | 4 /** connection re-use, refused by the origin server (`TCP FIN`) */ | 5; /** connection re-use, accepted by the origin server */
/** ISO 3166-1 Alpha-2 codes */
declare type Iso3166Alpha2Code = "AD" | "AE" | "AF" | "AG" | "AI" | "AL" | "AM" | "AO" | "AQ" | "AR" | "AS" | "AT" | "AU" | "AW" | "AX" | "AZ" | "BA" | "BB" | "BD" | "BE" | "BF" | "BG" | "BH" | "BI" | "BJ" | "BL" | "BM" | "BN" | "BO" | "BQ" | "BR" | "BS" | "BT" | "BV" | "BW" | "BY" | "BZ" | "CA" | "CC" | "CD" | "CF" | "CG" | "CH" | "CI" | "CK" | "CL" | "CM" | "CN" | "CO" | "CR" | "CU" | "CV" | "CW" | "CX" | "CY" | "CZ" | "DE" | "DJ" | "DK" | "DM" | "DO" | "DZ" | "EC" | "EE" | "EG" | "EH" | "ER" | "ES" | "ET" | "FI" | "FJ" | "FK" | "FM" | "FO" | "FR" | "GA" | "GB" | "GD" | "GE" | "GF" | "GG" | "GH" | "GI" | "GL" | "GM" | "GN" | "GP" | "GQ" | "GR" | "GS" | "GT" | "GU" | "GW" | "GY" | "HK" | "HM" | "HN" | "HR" | "HT" | "HU" | "ID" | "IE" | "IL" | "IM" | "IN" | "IO" | "IQ" | "IR" | "IS" | "IT" | "JE" | "JM" | "JO" | "JP" | "KE" | "KG" | "KH" | "KI" | "KM" | "KN" | "KP" | "KR" | "KW" | "KY" | "KZ" | "LA" | "LB" | "LC" | "LI" | "LK" | "LR" | "LS" | "LT" | "LU" | "LV" | "LY" | "MA" | "MC" | "MD" | "ME" | "MF" | "MG" | "MH" | "MK" | "ML" | "MM" | "MN" | "MO" | "MP" | "MQ" | "MR" | "MS" | "MT" | "MU" | "MV" | "MW" | "MX" | "MY" | "MZ" | "NA" | "NC" | "NE" | "NF" | "NG" | "NI" | "NL" | "NO" | "NP" | "NR" | "NU" | "NZ" | "OM" | "PA" | "PE" | "PF" | "PG" | "PH" | "PK" | "PL" | "PM" | "PN" | "PR" | "PS" | "PT" | "PW" | "PY" | "QA" | "RE" | "RO" | "RS" | "RU" | "RW" | "SA" | "SB" | "SC" | "SD" | "SE" | "SG" | "SH" | "SI" | "SJ" | "SK" | "SL" | "SM" | "SN" | "SO" | "SR" | "SS" | "ST" | "SV" | "SX" | "SY" | "SZ" | "TC" | "TD" | "TF" | "TG" | "TH" | "TJ" | "TK" | "TL" | "TM" | "TN" | "TO" | "TR" | "TT" | "TV" | "TW" | "TZ" | "UA" | "UG" | "UM" | "US" | "UY" | "UZ" | "VA" | "VC" | "VE" | "VG" | "VI" | "VN" | "VU" | "WF" | "WS" | "YE" | "YT" | "ZA" | "ZM" | "ZW";
/** The 2-letter continent codes Cloudflare uses */
declare type ContinentCode = "AF" | "AN" | "AS" | "EU" | "NA" | "OC" | "SA";
type CfProperties<HostMetadata = unknown> = IncomingRequestCfProperties<HostMetadata> | RequestInitCfProperties;
interface D1Meta {
    duration: number;
    size_after: number;
    rows_read: number;
    rows_written: number;
    last_row_id: number;
    changed_db: boolean;
    changes: number;
    /**
     * The region of the database instance that executed the query.
     */
    served_by_region?: string;
    /**
     * True if-and-only-if the database instance that executed the query was the primary.
     */
    served_by_primary?: boolean;
    timings?: {
        /**
         * The duration of the SQL query execution by the database instance. It doesn't include any network time.
         */
        sql_duration_ms: number;
    };
}
interface D1Response {
    success: true;
    meta: D1Meta & Record<string, unknown>;
    error?: never;
}
type D1Result<T = unknown> = D1Response & {
    results: T[];
};
interface D1ExecResult {
    count: number;
    duration: number;
}
type D1SessionConstraint = 
// Indicates that the first query should go to the primary, and the rest queries
// using the same D1DatabaseSession will go to any replica that is consistent with
// the bookmark maintained by the session (returned by the first query).
"first-primary"
// Indicates that the first query can go anywhere (primary or replica), and the rest queries
// using the same D1DatabaseSession will go to any replica that is consistent with
// the bookmark maintained by the session (returned by the first query).
 | "first-unconstrained";
type D1SessionBookmark = string;
declare abstract class D1Database {
    prepare(query: string): D1PreparedStatement;
    batch<T = unknown>(statements: D1PreparedStatement[]): Promise<D1Result<T>[]>;
    exec(query: string): Promise<D1ExecResult>;
    /**
     * Creates a new D1 Session anchored at the given constraint or the bookmark.
     * All queries executed using the created session will have sequential consistency,
     * meaning that all writes done through the session will be visible in subsequent reads.
     *
     * @param constraintOrBookmark Either the session constraint or the explicit bookmark to anchor the created session.
     */
    withSession(constraintOrBookmark?: D1SessionBookmark | D1SessionConstraint): D1DatabaseSession;
    /**
     * @deprecated dump() will be removed soon, only applies to deprecated alpha v1 databases.
     */
    dump(): Promise<ArrayBuffer>;
}
declare abstract class D1DatabaseSession {
    prepare(query: string): D1PreparedStatement;
    batch<T = unknown>(statements: D1PreparedStatement[]): Promise<D1Result<T>[]>;
    /**
     * @returns The latest session bookmark across all executed queries on the session.
     *          If no query has been executed yet, `null` is returned.
     */
    getBookmark(): D1SessionBookmark | null;
}
declare abstract class D1PreparedStatement {
    bind(...values: unknown[]): D1PreparedStatement;
    first<T = unknown>(colName: string): Promise<T | null>;
    first<T = Record<string, unknown>>(): Promise<T | null>;
    run<T = Record<string, unknown>>(): Promise<D1Result<T>>;
    all<T = Record<string, unknown>>(): Promise<D1Result<T>>;
    raw<T = unknown[]>(options: {
        columnNames: true;
    }): Promise<[
        string[],
        ...T[]
    ]>;
    raw<T = unknown[]>(options?: {
        columnNames?: false;
    }): Promise<T[]>;
}
// `Disposable` was added to TypeScript's standard lib types in version 5.2.
// To support older TypeScript versions, define an empty `Disposable` interface.
// Users won't be able to use `using`/`Symbol.dispose` without upgrading to 5.2,
// but this will ensure type checking on older versions still passes.
// TypeScript's interface merging will ensure our empty interface is effectively
// ignored when `Disposable` is included in the standard lib.
interface Disposable {
}
/**
 * An email message that can be sent from a Worker.
 */
interface EmailMessage {
    /**
     * Envelope From attribute of the email message.
     */
    readonly from: string;
    /**
     * Envelope To attribute of the email message.
     */
    readonly to: string;
}
/**
 * An email message that is sent to a consumer Worker and can be rejected/forwarded.
 */
interface ForwardableEmailMessage extends EmailMessage {
    /**
     * Stream of the email message content.
     */
    readonly raw: ReadableStream<Uint8Array>;
    /**
     * An [Headers object](https://developer.mozilla.org/en-US/docs/Web/API/Headers).
     */
    readonly headers: Headers;
    /**
     * Size of the email message content.
     */
    readonly rawSize: number;
    /**
     * Reject this email message by returning a permanent SMTP error back to the connecting client including the given reason.
     * @param reason The reject reason.
     * @returns void
     */
    setReject(reason: string): void;
    /**
     * Forward this email message to a verified destination address of the account.
     * @param rcptTo Verified destination address.
     * @param headers A [Headers object](https://developer.mozilla.org/en-US/docs/Web/API/Headers).
     * @returns A promise that resolves when the email message is forwarded.
     */
    forward(rcptTo: string, headers?: Headers): Promise<void>;
    /**
     * Reply to the sender of this email message with a new EmailMessage object.
     * @param message The reply message.
     * @returns A promise that resolves when the email message is replied.
     */
    reply(message: EmailMessage): Promise<void>;
}
/**
 * A binding that allows a Worker to send email messages.
 */
interface SendEmail {
    send(message: EmailMessage): Promise<void>;
}
declare abstract class EmailEvent extends ExtendableEvent {
    readonly message: ForwardableEmailMessage;
}
declare type EmailExportedHandler<Env = unknown> = (message: ForwardableEmailMessage, env: Env, ctx: ExecutionContext) => void | Promise<void>;
declare module "cloudflare:email" {
    let _EmailMessage: {
        prototype: EmailMessage;
        new (from: string, to: string, raw: ReadableStream | string): EmailMessage;
    };
    export { _EmailMessage as EmailMessage };
}
interface Hyperdrive {
    /**
     * Connect directly to Hyperdrive as if it's your database, returning a TCP socket.
     *
     * Calling this method returns an idential socket to if you call
     * `connect("host:port")` using the `host` and `port` fields from this object.
     * Pick whichever approach works better with your preferred DB client library.
     *
     * Note that this socket is not yet authenticated -- it's expected that your
     * code (or preferably, the client library of your choice) will authenticate
     * using the information in this class's readonly fields.
     */
    connect(): Socket;
    /**
     * A valid DB connection string that can be passed straight into the typical
     * client library/driver/ORM. This will typically be the easiest way to use
     * Hyperdrive.
     */
    readonly connectionString: string;
    /*
     * A randomly generated hostname that is only valid within the context of the
     * currently running Worker which, when passed into `connect()` function from
     * the "cloudflare:sockets" module, will connect to the Hyperdrive instance
     * for your database.
     */
    readonly host: string;
    /*
     * The port that must be paired the the host field when connecting.
     */
    readonly port: number;
    /*
     * The username to use when authenticating to your database via Hyperdrive.
     * Unlike the host and password, this will be the same every time
     */
    readonly user: string;
    /*
     * The randomly generated password to use when authenticating to your
     * database via Hyperdrive. Like the host field, this password is only valid
     * within the context of the currently running Worker instance from which
     * it's read.
     */
    readonly password: string;
    /*
     * The name of the database to connect to.
     */
    readonly database: string;
}
// Copyright (c) 2024 Cloudflare, Inc.
// Licensed under the Apache 2.0 license found in the LICENSE file or at:
//     https://opensource.org/licenses/Apache-2.0
type ImageInfoResponse = {
    format: 'image/svg+xml';
} | {
    format: string;
    fileSize: number;
    width: number;
    height: number;
};
type ImageTransform = {
    width?: number;
    height?: number;
    background?: string;
    blur?: number;
    border?: {
        color?: string;
        width?: number;
    } | {
        top?: number;
        bottom?: number;
        left?: number;
        right?: number;
    };
    brightness?: number;
    contrast?: number;
    fit?: 'scale-down' | 'contain' | 'pad' | 'squeeze' | 'cover' | 'crop';
    flip?: 'h' | 'v' | 'hv';
    gamma?: number;
    gravity?: 'left' | 'right' | 'top' | 'bottom' | 'center' | 'auto' | 'entropy' | {
        x?: number;
        y?: number;
        mode: 'remainder' | 'box-center';
    };
    rotate?: 0 | 90 | 180 | 270;
    saturation?: number;
    sharpen?: number;
    trim?: "border" | {
        top?: number;
        bottom?: number;
        left?: number;
        right?: number;
        width?: number;
        height?: number;
        border?: boolean | {
            color?: string;
            tolerance?: number;
            keep?: number;
        };
    };
};
type ImageDrawOptions = {
    opacity?: number;
    repeat?: boolean | string;
    top?: number;
    left?: number;
    bottom?: number;
    right?: number;
};
type ImageOutputOptions = {
    format: 'image/jpeg' | 'image/png' | 'image/gif' | 'image/webp' | 'image/avif' | 'rgb' | 'rgba';
    quality?: number;
    background?: string;
};
interface ImagesBinding {
    /**
     * Get image metadata (type, width and height)
     * @throws {@link ImagesError} with code 9412 if input is not an image
     * @param stream The image bytes
     */
    info(stream: ReadableStream<Uint8Array>): Promise<ImageInfoResponse>;
    /**
     * Begin applying a series of transformations to an image
     * @param stream The image bytes
     * @returns A transform handle
     */
    input(stream: ReadableStream<Uint8Array>): ImageTransformer;
}
interface ImageTransformer {
    /**
     * Apply transform next, returning a transform handle.
     * You can then apply more transformations, draw, or retrieve the output.
     * @param transform
     */
    transform(transform: ImageTransform): ImageTransformer;
    /**
     * Draw an image on this transformer, returning a transform handle.
     * You can then apply more transformations, draw, or retrieve the output.
     * @param image The image (or transformer that will give the image) to draw
     * @param options The options configuring how to draw the image
     */
    draw(image: ReadableStream<Uint8Array> | ImageTransformer, options?: ImageDrawOptions): ImageTransformer;
    /**
     * Retrieve the image that results from applying the transforms to the
     * provided input
     * @param options Options that apply to the output e.g. output format
     */
    output(options: ImageOutputOptions): Promise<ImageTransformationResult>;
}
interface ImageTransformationResult {
    /**
     * The image as a response, ready to store in cache or return to users
     */
    response(): Response;
    /**
     * The content type of the returned image
     */
    contentType(): string;
    /**
     * The bytes of the response
     */
    image(): ReadableStream<Uint8Array>;
}
interface ImagesError extends Error {
    readonly code: number;
    readonly message: string;
    readonly stack?: string;
}
type Params<P extends string = any> = Record<P, string | string[]>;
type EventContext<Env, P extends string, Data> = {
    request: Request<unknown, IncomingRequestCfProperties<unknown>>;
    functionPath: string;
    waitUntil: (promise: Promise<any>) => void;
    passThroughOnException: () => void;
    next: (input?: Request | string, init?: RequestInit) => Promise<Response>;
    env: Env & {
        ASSETS: {
            fetch: typeof fetch;
        };
    };
    params: Params<P>;
    data: Data;
};
type PagesFunction<Env = unknown, Params extends string = any, Data extends Record<string, unknown> = Record<string, unknown>> = (context: EventContext<Env, Params, Data>) => Response | Promise<Response>;
type EventPluginContext<Env, P extends string, Data, PluginArgs> = {
    request: Request<unknown, IncomingRequestCfProperties<unknown>>;
    functionPath: string;
    waitUntil: (promise: Promise<any>) => void;
    passThroughOnException: () => void;
    next: (input?: Request | string, init?: RequestInit) => Promise<Response>;
    env: Env & {
        ASSETS: {
            fetch: typeof fetch;
        };
    };
    params: Params<P>;
    data: Data;
    pluginArgs: PluginArgs;
};
type PagesPluginFunction<Env = unknown, Params extends string = any, Data extends Record<string, unknown> = Record<string, unknown>, PluginArgs = unknown> = (context: EventPluginContext<Env, Params, Data, PluginArgs>) => Response | Promise<Response>;
declare module "assets:*" {
    export const onRequest: PagesFunction;
}
// Copyright (c) 2022-2023 Cloudflare, Inc.
// Licensed under the Apache 2.0 license found in the LICENSE file or at:
//     https://opensource.org/licenses/Apache-2.0
declare module "cloudflare:pipelines" {
    export abstract class PipelineTransformationEntrypoint<Env = unknown, I extends PipelineRecord = PipelineRecord, O extends PipelineRecord = PipelineRecord> {
        protected env: Env;
        protected ctx: ExecutionContext;
        constructor(ctx: ExecutionContext, env: Env);
        /**
         * run recieves an array of PipelineRecord which can be
         * transformed and returned to the pipeline
         * @param records Incoming records from the pipeline to be transformed
         * @param metadata Information about the specific pipeline calling the transformation entrypoint
         * @returns A promise containing the transformed PipelineRecord array
         */
        public run(records: I[], metadata: PipelineBatchMetadata): Promise<O[]>;
    }
    export type PipelineRecord = Record<string, unknown>;
    export type PipelineBatchMetadata = {
        pipelineId: string;
        pipelineName: string;
    };
    export interface Pipeline<T extends PipelineRecord = PipelineRecord> {
        /**
         * The Pipeline interface represents the type of a binding to a Pipeline
         *
         * @param records The records to send to the pipeline
         */
        send(records: T[]): Promise<void>;
    }
}
// PubSubMessage represents an incoming PubSub message.
// The message includes metadata about the broker, the client, and the payload
// itself.
// https://developers.cloudflare.com/pub-sub/
interface PubSubMessage {
    // Message ID
    readonly mid: number;
    // MQTT broker FQDN in the form mqtts://BROKER.NAMESPACE.cloudflarepubsub.com:PORT
    readonly broker: string;
    // The MQTT topic the message was sent on.
    readonly topic: string;
    // The client ID of the client that published this message.
    readonly clientId: string;
    // The unique identifier (JWT ID) used by the client to authenticate, if token
    // auth was used.
    readonly jti?: string;
    // A Unix timestamp (seconds from Jan 1, 1970), set when the Pub/Sub Broker
    // received the message from the client.
    readonly receivedAt: number;
    // An (optional) string with the MIME type of the payload, if set by the
    // client.
    readonly contentType: string;
    // Set to 1 when the payload is a UTF-8 string
    // https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html#_Toc3901063
    readonly payloadFormatIndicator: number;
    // Pub/Sub (MQTT) payloads can be UTF-8 strings, or byte arrays.
    // You can use payloadFormatIndicator to inspect this before decoding.
    payload: string | Uint8Array;
}
// JsonWebKey extended by kid parameter
interface JsonWebKeyWithKid extends JsonWebKey {
    // Key Identifier of the JWK
    readonly kid: string;
}
interface RateLimitOptions {
    key: string;
}
interface RateLimitOutcome {
    success: boolean;
}
interface RateLimit {
    /**
     * Rate limit a request based on the provided options.
     * @see https://developers.cloudflare.com/workers/runtime-apis/bindings/rate-limit/
     * @returns A promise that resolves with the outcome of the rate limit.
     */
    limit(options: RateLimitOptions): Promise<RateLimitOutcome>;
}
// Namespace for RPC utility types. Unfortunately, we can't use a `module` here as these types need
// to referenced by `Fetcher`. This is included in the "importable" version of the types which
// strips all `module` blocks.
declare namespace Rpc {
    // Branded types for identifying `WorkerEntrypoint`/`DurableObject`/`Target`s.
    // TypeScript uses *structural* typing meaning anything with the same shape as type `T` is a `T`.
    // For the classes exported by `cloudflare:workers` we want *nominal* typing (i.e. we only want to
    // accept `WorkerEntrypoint` from `cloudflare:workers`, not any other class with the same shape)
    export const __RPC_STUB_BRAND: '__RPC_STUB_BRAND';
    export const __RPC_TARGET_BRAND: '__RPC_TARGET_BRAND';
    export const __WORKER_ENTRYPOINT_BRAND: '__WORKER_ENTRYPOINT_BRAND';
    export const __DURABLE_OBJECT_BRAND: '__DURABLE_OBJECT_BRAND';
    export const __WORKFLOW_ENTRYPOINT_BRAND: '__WORKFLOW_ENTRYPOINT_BRAND';
    export interface RpcTargetBranded {
        [__RPC_TARGET_BRAND]: never;
    }
    export interface WorkerEntrypointBranded {
        [__WORKER_ENTRYPOINT_BRAND]: never;
    }
    export interface DurableObjectBranded {
        [__DURABLE_OBJECT_BRAND]: never;
    }
    export interface WorkflowEntrypointBranded {
        [__WORKFLOW_ENTRYPOINT_BRAND]: never;
    }
    export type EntrypointBranded = WorkerEntrypointBranded | DurableObjectBranded | WorkflowEntrypointBranded;
    // Types that can be used through `Stub`s
    export type Stubable = RpcTargetBranded | ((...args: any[]) => any);
    // Types that can be passed over RPC
    // The reason for using a generic type here is to build a serializable subset of structured
    //   cloneable composite types. This allows types defined with the "interface" keyword to pass the
    //   serializable check as well. Otherwise, only types defined with the "type" keyword would pass.
    type Serializable<T> = 
    // Structured cloneables
    BaseType
    // Structured cloneable composites
     | Map<T extends Map<infer U, unknown> ? Serializable<U> : never, T extends Map<unknown, infer U> ? Serializable<U> : never> | Set<T extends Set<infer U> ? Serializable<U> : never> | ReadonlyArray<T extends ReadonlyArray<infer U> ? Serializable<U> : never> | {
        [K in keyof T]: K extends number | string ? Serializable<T[K]> : never;
    }
    // Special types
     | Stub<Stubable>
    // Serialized as stubs, see `Stubify`
     | Stubable;
    // Base type for all RPC stubs, including common memory management methods.
    // `T` is used as a marker type for unwrapping `Stub`s later.
    interface StubBase<T extends Stubable> extends Disposable {
        [__RPC_STUB_BRAND]: T;
        dup(): this;
    }
    export type Stub<T extends Stubable> = Provider<T> & StubBase<T>;
    // This represents all the types that can be sent as-is over an RPC boundary
    type BaseType = void | undefined | null | boolean | number | bigint | string | TypedArray | ArrayBuffer | DataView | Date | Error | RegExp | ReadableStream<Uint8Array> | WritableStream<Uint8Array> | Request | Response | Headers;
    // Recursively rewrite all `Stubable` types with `Stub`s
    // prettier-ignore
    type Stubify<T> = T extends Stubable ? Stub<T> : T extends Map<infer K, infer V> ? Map<Stubify<K>, Stubify<V>> : T extends Set<infer V> ? Set<Stubify<V>> : T extends Array<infer V> ? Array<Stubify<V>> : T extends ReadonlyArray<infer V> ? ReadonlyArray<Stubify<V>> : T extends BaseType ? T : T extends {
        [key: string | number]: any;
    } ? {
        [K in keyof T]: Stubify<T[K]>;
    } : T;
    // Recursively rewrite all `Stub<T>`s with the corresponding `T`s.
    // Note we use `StubBase` instead of `Stub` here to avoid circular dependencies:
    // `Stub` depends on `Provider`, which depends on `Unstubify`, which would depend on `Stub`.
    // prettier-ignore
    type Unstubify<T> = T extends StubBase<infer V> ? V : T extends Map<infer K, infer V> ? Map<Unstubify<K>, Unstubify<V>> : T extends Set<infer V> ? Set<Unstubify<V>> : T extends Array<infer V> ? Array<Unstubify<V>> : T extends ReadonlyArray<infer V> ? ReadonlyArray<Unstubify<V>> : T extends BaseType ? T : T extends {
        [key: string | number]: unknown;
    } ? {
        [K in keyof T]: Unstubify<T[K]>;
    } : T;
    type UnstubifyAll<A extends any[]> = {
        [I in keyof A]: Unstubify<A[I]>;
    };
    // Utility type for adding `Provider`/`Disposable`s to `object` types only.
    // Note `unknown & T` is equivalent to `T`.
    type MaybeProvider<T> = T extends object ? Provider<T> : unknown;
    type MaybeDisposable<T> = T extends object ? Disposable : unknown;
    // Type for method return or property on an RPC interface.
    // - Stubable types are replaced by stubs.
    // - Serializable types are passed by value, with stubable types replaced by stubs
    //   and a top-level `Disposer`.
    // Everything else can't be passed over PRC.
    // Technically, we use custom thenables here, but they quack like `Promise`s.
    // Intersecting with `(Maybe)Provider` allows pipelining.
    // prettier-ignore
    type Result<R> = R extends Stubable ? Promise<Stub<R>> & Provider<R> : R extends Serializable<R> ? Promise<Stubify<R> & MaybeDisposable<R>> & MaybeProvider<R> : never;
    // Type for method or property on an RPC interface.
    // For methods, unwrap `Stub`s in parameters, and rewrite returns to be `Result`s.
    // Unwrapping `Stub`s allows calling with `Stubable` arguments.
    // For properties, rewrite types to be `Result`s.
    // In each case, unwrap `Promise`s.
    type MethodOrProperty<V> = V extends (...args: infer P) => infer R ? (...args: UnstubifyAll<P>) => Result<Awaited<R>> : Result<Awaited<V>>;
    // Type for the callable part of an `Provider` if `T` is callable.
    // This is intersected with methods/properties.
    type MaybeCallableProvider<T> = T extends (...args: any[]) => any ? MethodOrProperty<T> : unknown;
    // Base type for all other types providing RPC-like interfaces.
    // Rewrites all methods/properties to be `MethodOrProperty`s, while preserving callable types.
    // `Reserved` names (e.g. stub method names like `dup()`) and symbols can't be accessed over RPC.
    export type Provider<T extends object, Reserved extends string = never> = MaybeCallableProvider<T> & {
        [K in Exclude<keyof T, Reserved | symbol | keyof StubBase<never>>]: MethodOrProperty<T[K]>;
    };
}
declare namespace Cloudflare {
    interface Env {
    }
}
declare module 'cloudflare:workers' {
    export type RpcStub<T extends Rpc.Stubable> = Rpc.Stub<T>;
    export const RpcStub: {
        new <T extends Rpc.Stubable>(value: T): Rpc.Stub<T>;
    };
    export abstract class RpcTarget implements Rpc.RpcTargetBranded {
        [Rpc.__RPC_TARGET_BRAND]: never;
    }
    // `protected` fields don't appear in `keyof`s, so can't be accessed over RPC
    export abstract class WorkerEntrypoint<Env = unknown> implements Rpc.WorkerEntrypointBranded {
        [Rpc.__WORKER_ENTRYPOINT_BRAND]: never;
        protected ctx: ExecutionContext;
        protected env: Env;
        constructor(ctx: ExecutionContext, env: Env);
        fetch?(request: Request): Response | Promise<Response>;
        tail?(events: TraceItem[]): void | Promise<void>;
        trace?(traces: TraceItem[]): void | Promise<void>;
        scheduled?(controller: ScheduledController): void | Promise<void>;
        queue?(batch: MessageBatch<unknown>): void | Promise<void>;
        test?(controller: TestController): void | Promise<void>;
    }
    export abstract class DurableObject<Env = unknown> implements Rpc.DurableObjectBranded {
        [Rpc.__DURABLE_OBJECT_BRAND]: never;
        protected ctx: DurableObjectState;
        protected env: Env;
        constructor(ctx: DurableObjectState, env: Env);
        fetch?(request: Request): Response | Promise<Response>;
        alarm?(alarmInfo?: AlarmInvocationInfo): void | Promise<void>;
        webSocketMessage?(ws: WebSocket, message: string | ArrayBuffer): void | Promise<void>;
        webSocketClose?(ws: WebSocket, code: number, reason: string, wasClean: boolean): void | Promise<void>;
        webSocketError?(ws: WebSocket, error: unknown): void | Promise<void>;
    }
    export type WorkflowDurationLabel = 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year';
    export type WorkflowSleepDuration = `${number} ${WorkflowDurationLabel}${'s' | ''}` | number;
    export type WorkflowDelayDuration = WorkflowSleepDuration;
    export type WorkflowTimeoutDuration = WorkflowSleepDuration;
    export type WorkflowRetentionDuration = WorkflowSleepDuration;
    export type WorkflowBackoff = 'constant' | 'linear' | 'exponential';
    export type WorkflowStepConfig = {
        retries?: {
            limit: number;
            delay: WorkflowDelayDuration | number;
            backoff?: WorkflowBackoff;
        };
        timeout?: WorkflowTimeoutDuration | number;
    };
    export type WorkflowEvent<T> = {
        payload: Readonly<T>;
        timestamp: Date;
        instanceId: string;
    };
    export type WorkflowStepEvent<T> = {
        payload: Readonly<T>;
        timestamp: Date;
        type: string;
    };
    export abstract class WorkflowStep {
        do<T extends Rpc.Serializable<T>>(name: string, callback: () => Promise<T>): Promise<T>;
        do<T extends Rpc.Serializable<T>>(name: string, config: WorkflowStepConfig, callback: () => Promise<T>): Promise<T>;
        sleep: (name: string, duration: WorkflowSleepDuration) => Promise<void>;
        sleepUntil: (name: string, timestamp: Date | number) => Promise<void>;
        waitForEvent<T extends Rpc.Serializable<T>>(name: string, options: {
            type: string;
            timeout?: WorkflowTimeoutDuration | number;
        }): Promise<WorkflowStepEvent<T>>;
    }
    export abstract class WorkflowEntrypoint<Env = unknown, T extends Rpc.Serializable<T> | unknown = unknown> implements Rpc.WorkflowEntrypointBranded {
        [Rpc.__WORKFLOW_ENTRYPOINT_BRAND]: never;
        protected ctx: ExecutionContext;
        protected env: Env;
        constructor(ctx: ExecutionContext, env: Env);
        run(event: Readonly<WorkflowEvent<T>>, step: WorkflowStep): Promise<unknown>;
    }
    export const env: Cloudflare.Env;
}
interface SecretsStoreSecret {
    /**
     * Get a secret from the Secrets Store, returning a string of the secret value
     * if it exists, or throws an error if it does not exist
     */
    get(): Promise<string>;
}
declare module "cloudflare:sockets" {
    function _connect(address: string | SocketAddress, options?: SocketOptions): Socket;
    export { _connect as connect };
}
declare namespace TailStream {
    interface Header {
        readonly name: string;
        readonly value: string;
    }
    interface FetchEventInfo {
        readonly type: "fetch";
        readonly method: string;
        readonly url: string;
        readonly cfJson: string;
        readonly headers: Header[];
    }
    interface JsRpcEventInfo {
        readonly type: "jsrpc";
        readonly methodName: string;
    }
    interface ScheduledEventInfo {
        readonly type: "scheduled";
        readonly scheduledTime: Date;
        readonly cron: string;
    }
    interface AlarmEventInfo {
        readonly type: "alarm";
        readonly scheduledTime: Date;
    }
    interface QueueEventInfo {
        readonly type: "queue";
        readonly queueName: string;
        readonly batchSize: number;
    }
    interface EmailEventInfo {
        readonly type: "email";
        readonly mailFrom: string;
        readonly rcptTo: string;
        readonly rawSize: number;
    }
    interface TraceEventInfo {
        readonly type: "trace";
        readonly traces: (string | null)[];
    }
    interface HibernatableWebSocketEventInfoMessage {
        readonly type: "message";
    }
    interface HibernatableWebSocketEventInfoError {
        readonly type: "error";
    }
    interface HibernatableWebSocketEventInfoClose {
        readonly type: "close";
        readonly code: number;
        readonly wasClean: boolean;
    }
    interface HibernatableWebSocketEventInfo {
        readonly type: "hibernatableWebSocket";
        readonly info: HibernatableWebSocketEventInfoClose | HibernatableWebSocketEventInfoError | HibernatableWebSocketEventInfoMessage;
    }
    interface Resume {
        readonly type: "resume";
        readonly attachment?: any;
    }
    interface CustomEventInfo {
        readonly type: "custom";
    }
    interface FetchResponseInfo {
        readonly type: "fetch";
        readonly statusCode: number;
    }
    type EventOutcome = "ok" | "canceled" | "exception" | "unknown" | "killSwitch" | "daemonDown" | "exceededCpu" | "exceededMemory" | "loadShed" | "responseStreamDisconnected" | "scriptNotFound";
    interface ScriptVersion {
        readonly id: string;
        readonly tag?: string;
        readonly message?: string;
    }
    interface Trigger {
        readonly traceId: string;
        readonly invocationId: string;
        readonly spanId: string;
    }
    interface Onset {
        readonly type: "onset";
        readonly dispatchNamespace?: string;
        readonly entrypoint?: string;
        readonly executionModel: string;
        readonly scriptName?: string;
        readonly scriptTags?: string[];
        readonly scriptVersion?: ScriptVersion;
        readonly trigger?: Trigger;
        readonly info: FetchEventInfo | JsRpcEventInfo | ScheduledEventInfo | AlarmEventInfo | QueueEventInfo | EmailEventInfo | TraceEventInfo | HibernatableWebSocketEventInfo | Resume | CustomEventInfo;
    }
    interface Outcome {
        readonly type: "outcome";
        readonly outcome: EventOutcome;
        readonly cpuTime: number;
        readonly wallTime: number;
    }
    interface Hibernate {
        readonly type: "hibernate";
    }
    interface SpanOpen {
        readonly type: "spanOpen";
        readonly name: string;
        readonly info?: FetchEventInfo | JsRpcEventInfo | Attributes;
    }
    interface SpanClose {
        readonly type: "spanClose";
        readonly outcome: EventOutcome;
    }
    interface DiagnosticChannelEvent {
        readonly type: "diagnosticChannel";
        readonly channel: string;
        readonly message: any;
    }
    interface Exception {
        readonly type: "exception";
        readonly name: string;
        readonly message: string;
        readonly stack?: string;
    }
    interface Log {
        readonly type: "log";
        readonly level: "debug" | "error" | "info" | "log" | "warn";
        readonly message: string;
    }
    interface Return {
        readonly type: "return";
        readonly info?: FetchResponseInfo;
    }
    interface Link {
        readonly type: "link";
        readonly label?: string;
        readonly traceId: string;
        readonly invocationId: string;
        readonly spanId: string;
    }
    interface Attribute {
        readonly name: string;
        readonly value: string | string[] | boolean | boolean[] | number | number[] | bigint | bigint[];
    }
    interface Attributes {
        readonly type: "attributes";
        readonly info: Attribute[];
    }
    interface TailEvent {
        readonly traceId: string;
        readonly invocationId: string;
        readonly spanId: string;
        readonly timestamp: Date;
        readonly sequence: number;
        readonly event: Onset | Outcome | Hibernate | SpanOpen | SpanClose | DiagnosticChannelEvent | Exception | Log | Return | Link | Attributes;
    }
    type TailEventHandler = (event: TailEvent) => void | Promise<void>;
    type TailEventHandlerName = "outcome" | "hibernate" | "spanOpen" | "spanClose" | "diagnosticChannel" | "exception" | "log" | "return" | "link" | "attributes";
    type TailEventHandlerObject = Record<TailEventHandlerName, TailEventHandler>;
    type TailEventHandlerType = TailEventHandler | TailEventHandlerObject;
}
// Copyright (c) 2022-2023 Cloudflare, Inc.
// Licensed under the Apache 2.0 license found in the LICENSE file or at:
//     https://opensource.org/licenses/Apache-2.0
/**
 * Data types supported for holding vector metadata.
 */
type VectorizeVectorMetadataValue = string | number | boolean | string[];
/**
 * Additional information to associate with a vector.
 */
type VectorizeVectorMetadata = VectorizeVectorMetadataValue | Record<string, VectorizeVectorMetadataValue>;
type VectorFloatArray = Float32Array | Float64Array;
interface VectorizeError {
    code?: number;
    error: string;
}
/**
 * Comparison logic/operation to use for metadata filtering.
 *
 * This list is expected to grow as support for more operations are released.
 */
type VectorizeVectorMetadataFilterOp = "$eq" | "$ne";
/**
 * Filter criteria for vector metadata used to limit the retrieved query result set.
 */
type VectorizeVectorMetadataFilter = {
    [field: string]: Exclude<VectorizeVectorMetadataValue, string[]> | null | {
        [Op in VectorizeVectorMetadataFilterOp]?: Exclude<VectorizeVectorMetadataValue, string[]> | null;
    };
};
/**
 * Supported distance metrics for an index.
 * Distance metrics determine how other "similar" vectors are determined.
 */
type VectorizeDistanceMetric = "euclidean" | "cosine" | "dot-product";
/**
 * Metadata return levels for a Vectorize query.
 *
 * Default to "none".
 *
 * @property all      Full metadata for the vector return set, including all fields (including those un-indexed) without truncation. This is a more expensive retrieval, as it requires additional fetching & reading of un-indexed data.
 * @property indexed  Return all metadata fields configured for indexing in the vector return set. This level of retrieval is "free" in that no additional overhead is incurred returning this data. However, note that indexed metadata is subject to truncation (especially for larger strings).
 * @property none     No indexed metadata will be returned.
 */
type VectorizeMetadataRetrievalLevel = "all" | "indexed" | "none";
interface VectorizeQueryOptions {
    topK?: number;
    namespace?: string;
    returnValues?: boolean;
    returnMetadata?: boolean | VectorizeMetadataRetrievalLevel;
    filter?: VectorizeVectorMetadataFilter;
}
/**
 * Information about the configuration of an index.
 */
type VectorizeIndexConfig = {
    dimensions: number;
    metric: VectorizeDistanceMetric;
} | {
    preset: string; // keep this generic, as we'll be adding more presets in the future and this is only in a read capacity
};
/**
 * Metadata about an existing index.
 *
 * This type is exclusively for the Vectorize **beta** and will be deprecated once Vectorize RC is released.
 * See {@link VectorizeIndexInfo} for its post-beta equivalent.
 */
interface VectorizeIndexDetails {
    /** The unique ID of the index */
    readonly id: string;
    /** The name of the index. */
    name: string;
    /** (optional) A human readable description for the index. */
    description?: string;
    /** The index configuration, including the dimension size and distance metric. */
    config: VectorizeIndexConfig;
    /** The number of records containing vectors within the index. */
    vectorsCount: number;
}
/**
 * Metadata about an existing index.
 */
interface VectorizeIndexInfo {
    /** The number of records containing vectors within the index. */
    vectorCount: number;
    /** Number of dimensions the index has been configured for. */
    dimensions: number;
    /** ISO 8601 datetime of the last processed mutation on in the index. All changes before this mutation will be reflected in the index state. */
    processedUpToDatetime: number;
    /** UUIDv4 of the last mutation processed by the index. All changes before this mutation will be reflected in the index state. */
    processedUpToMutation: number;
}
/**
 * Represents a single vector value set along with its associated metadata.
 */
interface VectorizeVector {
    /** The ID for the vector. This can be user-defined, and must be unique. It should uniquely identify the object, and is best set based on the ID of what the vector represents. */
    id: string;
    /** The vector values */
    values: VectorFloatArray | number[];
    /** The namespace this vector belongs to. */
    namespace?: string;
    /** Metadata associated with the vector. Includes the values of other fields and potentially additional details. */
    metadata?: Record<string, VectorizeVectorMetadata>;
}
/**
 * Represents a matched vector for a query along with its score and (if specified) the matching vector information.
 */
type VectorizeMatch = Pick<Partial<VectorizeVector>, "values"> & Omit<VectorizeVector, "values"> & {
    /** The score or rank for similarity, when returned as a result */
    score: number;
};
/**
 * A set of matching {@link VectorizeMatch} for a particular query.
 */
interface VectorizeMatches {
    matches: VectorizeMatch[];
    count: number;
}
/**
 * Results of an operation that performed a mutation on a set of vectors.
 * Here, `ids` is a list of vectors that were successfully processed.
 *
 * This type is exclusively for the Vectorize **beta** and will be deprecated once Vectorize RC is released.
 * See {@link VectorizeAsyncMutation} for its post-beta equivalent.
 */
interface VectorizeVectorMutation {
    /* List of ids of vectors that were successfully processed. */
    ids: string[];
    /* Total count of the number of processed vectors. */
    count: number;
}
/**
 * Result type indicating a mutation on the Vectorize Index.
 * Actual mutations are processed async where the `mutationId` is the unique identifier for the operation.
 */
interface VectorizeAsyncMutation {
    /** The unique identifier for the async mutation operation containing the changeset. */
    mutationId: string;
}
/**
 * A Vectorize Vector Search Index for querying vectors/embeddings.
 *
 * This type is exclusively for the Vectorize **beta** and will be deprecated once Vectorize RC is released.
 * See {@link Vectorize} for its new implementation.
 */
declare abstract class VectorizeIndex {
    /**
     * Get information about the currently bound index.
     * @returns A promise that resolves with information about the current index.
     */
    public describe(): Promise<VectorizeIndexDetails>;
    /**
     * Use the provided vector to perform a similarity search across the index.
     * @param vector Input vector that will be used to drive the similarity search.
     * @param options Configuration options to massage the returned data.
     * @returns A promise that resolves with matched and scored vectors.
     */
    public query(vector: VectorFloatArray | number[], options?: VectorizeQueryOptions): Promise<VectorizeMatches>;
    /**
     * Insert a list of vectors into the index dataset. If a provided id exists, an error will be thrown.
     * @param vectors List of vectors that will be inserted.
     * @returns A promise that resolves with the ids & count of records that were successfully processed.
     */
    public insert(vectors: VectorizeVector[]): Promise<VectorizeVectorMutation>;
    /**
     * Upsert a list of vectors into the index dataset. If a provided id exists, it will be replaced with the new values.
     * @param vectors List of vectors that will be upserted.
     * @returns A promise that resolves with the ids & count of records that were successfully processed.
     */
    public upsert(vectors: VectorizeVector[]): Promise<VectorizeVectorMutation>;
    /**
     * Delete a list of vectors with a matching id.
     * @param ids List of vector ids that should be deleted.
     * @returns A promise that resolves with the ids & count of records that were successfully processed (and thus deleted).
     */
    public deleteByIds(ids: string[]): Promise<VectorizeVectorMutation>;
    /**
     * Get a list of vectors with a matching id.
     * @param ids List of vector ids that should be returned.
     * @returns A promise that resolves with the raw unscored vectors matching the id set.
     */
    public getByIds(ids: string[]): Promise<VectorizeVector[]>;
}
/**
 * A Vectorize Vector Search Index for querying vectors/embeddings.
 *
 * Mutations in this version are async, returning a mutation id.
 */
declare abstract class Vectorize {
    /**
     * Get information about the currently bound index.
     * @returns A promise that resolves with information about the current index.
     */
    public describe(): Promise<VectorizeIndexInfo>;
    /**
     * Use the provided vector to perform a similarity search across the index.
     * @param vector Input vector that will be used to drive the similarity search.
     * @param options Configuration options to massage the returned data.
     * @returns A promise that resolves with matched and scored vectors.
     */
    public query(vector: VectorFloatArray | number[], options?: VectorizeQueryOptions): Promise<VectorizeMatches>;
    /**
     * Use the provided vector-id to perform a similarity search across the index.
     * @param vectorId Id for a vector in the index against which the index should be queried.
     * @param options Configuration options to massage the returned data.
     * @returns A promise that resolves with matched and scored vectors.
     */
    public queryById(vectorId: string, options?: VectorizeQueryOptions): Promise<VectorizeMatches>;
    /**
     * Insert a list of vectors into the index dataset. If a provided id exists, an error will be thrown.
     * @param vectors List of vectors that will be inserted.
     * @returns A promise that resolves with a unique identifier of a mutation containing the insert changeset.
     */
    public insert(vectors: VectorizeVector[]): Promise<VectorizeAsyncMutation>;
    /**
     * Upsert a list of vectors into the index dataset. If a provided id exists, it will be replaced with the new values.
     * @param vectors List of vectors that will be upserted.
     * @returns A promise that resolves with a unique identifier of a mutation containing the upsert changeset.
     */
    public upsert(vectors: VectorizeVector[]): Promise<VectorizeAsyncMutation>;
    /**
     * Delete a list of vectors with a matching id.
     * @param ids List of vector ids that should be deleted.
     * @returns A promise that resolves with a unique identifier of a mutation containing the delete changeset.
     */
    public deleteByIds(ids: string[]): Promise<VectorizeAsyncMutation>;
    /**
     * Get a list of vectors with a matching id.
     * @param ids List of vector ids that should be returned.
     * @returns A promise that resolves with the raw unscored vectors matching the id set.
     */
    public getByIds(ids: string[]): Promise<VectorizeVector[]>;
}
/**
 * The interface for "version_metadata" binding
 * providing metadata about the Worker Version using this binding.
 */
type WorkerVersionMetadata = {
    /** The ID of the Worker Version using this binding */
    id: string;
    /** The tag of the Worker Version using this binding */
    tag: string;
    /** The timestamp of when the Worker Version was uploaded */
    timestamp: string;
};
interface DynamicDispatchLimits {
    /**
     * Limit CPU time in milliseconds.
     */
    cpuMs?: number;
    /**
     * Limit number of subrequests.
     */
    subRequests?: number;
}
interface DynamicDispatchOptions {
    /**
     * Limit resources of invoked Worker script.
     */
    limits?: DynamicDispatchLimits;
    /**
     * Arguments for outbound Worker script, if configured.
     */
    outbound?: {
        [key: string]: any;
    };
}
interface DispatchNamespace {
    /**
    * @param name Name of the Worker script.
    * @param args Arguments to Worker script.
    * @param options Options for Dynamic Dispatch invocation.
    * @returns A Fetcher object that allows you to send requests to the Worker script.
    * @throws If the Worker script does not exist in this dispatch namespace, an error will be thrown.
    */
    get(name: string, args?: {
        [key: string]: any;
    }, options?: DynamicDispatchOptions): Fetcher;
}
declare module 'cloudflare:workflows' {
    /**
     * NonRetryableError allows for a user to throw a fatal error
     * that makes a Workflow instance fail immediately without triggering a retry
     */
    export class NonRetryableError extends Error {
        public constructor(message: string, name?: string);
    }
}
declare abstract class Workflow<PARAMS = unknown> {
    /**
     * Get a handle to an existing instance of the Workflow.
     * @param id Id for the instance of this Workflow
     * @returns A promise that resolves with a handle for the Instance
     */
    public get(id: string): Promise<WorkflowInstance>;
    /**
     * Create a new instance and return a handle to it. If a provided id exists, an error will be thrown.
     * @param options Options when creating an instance including id and params
     * @returns A promise that resolves with a handle for the Instance
     */
    public create(options?: WorkflowInstanceCreateOptions<PARAMS>): Promise<WorkflowInstance>;
    /**
     * Create a batch of instances and return handle for all of them. If a provided id exists, an error will be thrown.
     * `createBatch` is limited at 100 instances at a time or when the RPC limit for the batch (1MiB) is reached.
     * @param batch List of Options when creating an instance including name and params
     * @returns A promise that resolves with a list of handles for the created instances.
     */
    public createBatch(batch: WorkflowInstanceCreateOptions<PARAMS>[]): Promise<WorkflowInstance[]>;
}
type WorkflowDurationLabel = 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year';
type WorkflowSleepDuration = `${number} ${WorkflowDurationLabel}${'s' | ''}` | number;
type WorkflowRetentionDuration = WorkflowSleepDuration;
interface WorkflowInstanceCreateOptions<PARAMS = unknown> {
    /**
     * An id for your Workflow instance. Must be unique within the Workflow.
     */
    id?: string;
    /**
     * The event payload the Workflow instance is triggered with
     */
    params?: PARAMS;
    /**
     * The retention policy for Workflow instance.
     * Defaults to the maximum retention period available for the owner's account.
     */
    retention?: {
        successRetention?: WorkflowRetentionDuration;
        errorRetention?: WorkflowRetentionDuration;
    };
}
type InstanceStatus = {
    status: 'queued' // means that instance is waiting to be started (see concurrency limits)
     | 'running' | 'paused' | 'errored' | 'terminated' // user terminated the instance while it was running
     | 'complete' | 'waiting' // instance is hibernating and waiting for sleep or event to finish
     | 'waitingForPause' // instance is finishing the current work to pause
     | 'unknown';
    error?: string;
    output?: object;
};
interface WorkflowError {
    code?: number;
    message: string;
}
declare abstract class WorkflowInstance {
    public id: string;
    /**
     * Pause the instance.
     */
    public pause(): Promise<void>;
    /**
     * Resume the instance. If it is already running, an error will be thrown.
     */
    public resume(): Promise<void>;
    /**
     * Terminate the instance. If it is errored, terminated or complete, an error will be thrown.
     */
    public terminate(): Promise<void>;
    /**
     * Restart the instance.
     */
    public restart(): Promise<void>;
    /**
     * Returns the current status of the instance.
     */
    public status(): Promise<InstanceStatus>;
    /**
     * Send an event to this instance.
     */
    public sendEvent({ type, payload, }: {
        type: string;
        payload: unknown;
    }): Promise<void>;
}
</file>

<file path="apps/web/app/assets/css/animations.css">
/* Main Noise effect */
.noise {
    animation: noise 2s steps(10) infinite;
}

@keyframes noise {
    0%, 20%, 40%, 60%, 80%, 100% {
        transform: translate(0, 0);
    }
    10% {
        transform: translate(-5%, -10%);
    }
    30% {
        transform: translate(5%, 10%);
    }
    50% {
        transform: translate(-15%, 5%);
    }
    70% {
        transform: translate(10%, -5%);
    }
    90% {
        transform: translate(5%, -10%);
    }
}

/* Appear effect */

[data-animate] {
    --stagger: 0;
    --delay: 80ms;
    --start: 0ms;
}

@media (prefers-reduced-motion: no-preference) {
    [data-animate] {
        animation: enter 0.6s both;
        animation-delay: calc(var(--stagger) * var(--delay) + var(--start));
    }
}

@keyframes enter {
    0% {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: none;
    }
}

[data-animation-controller="false"] [data-animate] {
    animation: none;
}

.enter-content > * {
  --stagger: 0;
  --delay: 50ms;
  --start: 0ms;
  animation: enter 1s both 1;
  animation-delay: calc(var(--start) + var(--stagger) * var(--delay));
}

.enter-content > *:nth-child(1) { --stagger: 1; }
.enter-content > *:nth-child(2) { --stagger: 2; }
.enter-content > *:nth-child(3) { --stagger: 3; }
.enter-content > *:nth-child(4) { --stagger: 4; }
.enter-content > *:nth-child(5) { --stagger: 5; }
.enter-content > *:nth-child(6) { --stagger: 6; }
.enter-content > *:nth-child(7) { --stagger: 7; }
.enter-content > *:nth-child(8) { --stagger: 8; }
.enter-content > *:nth-child(9) { --stagger: 9; }
.enter-content > *:nth-child(10) { --stagger: 10; }
.enter-content > *:nth-child(11) { --stagger: 11; }
.enter-content > *:nth-child(12) { --stagger: 12; }
.enter-content > *:nth-child(13) { --stagger: 13; }
.enter-content > *:nth-child(14) { --stagger: 14; }
.enter-content > *:nth-child(15) { --stagger: 15; }
.enter-content > *:nth-child(16) { --stagger: 16; }
.enter-content > *:nth-child(17) { --stagger: 17; }
.enter-content > *:nth-child(18) { --stagger: 18; }
.enter-content > *:nth-child(19) { --stagger: 19; }
.enter-content > *:nth-child(20) { --stagger: 20; }
</file>

<file path="apps/web/app/components/pool/PoolCard.vue">
<template>
  <div class="bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors">
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center space-x-3">
        <div class="flex -space-x-2">
          <img
            :src="pool.token.logoURI"
            :alt="pool.token.symbol"
            class="w-10 h-10 rounded-full border-2 border-gray-800"
          />
          <div
            class="w-10 h-10 bg-blue-600 rounded-full border-2 border-gray-800 flex items-center justify-center"
          >
            <span class="text-xs font-bold text-white">LP</span>
          </div>
        </div>
        <div>
          <h3 class="text-white font-semibold">{{ pool.token.symbol }} Pool</h3>
          <p class="text-sm text-gray-400">{{ pool.strategy }}</p>
        </div>
      </div>
      <div class="text-right">
        <div class="text-green-400 font-semibold">{{ pool.apr }}% APR</div>
        <div class="text-sm text-gray-400">Annual Percentage Rate</div>
      </div>
    </div>

    <div class="grid grid-cols-3 gap-4 mb-4">
      <div>
        <div class="text-sm text-gray-400">TVL</div>
        <div class="text-white font-medium">${{ formatNumber(pool.tvl) }}</div>
      </div>
      <div>
        <div class="text-sm text-gray-400">Volume</div>
        <div class="text-white font-medium">
          ${{ formatNumber(pool.volume) }}
        </div>
      </div>
      <div>
        <div class="text-sm text-gray-400">Fees</div>
        <div class="text-white font-medium">${{ formatNumber(pool.fees) }}</div>
      </div>
    </div>

    <NuxtLink
      :to="getPoolRoute(pool)"
      class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-center block"
    >
      Stake in Pool
    </NuxtLink>
  </div>
</template>

<script setup lang="ts">
interface Pool {
  id: string;
  token: {
    symbol: string;
    logoURI: string;
  };
  strategy: string;
  volume: number;
  fees: number;
  tvl: number;
  tvlTokens: number;
  apr: number;
  type: "fiat" | "stablecoin";
}

defineProps<{
  pool: Pool;
}>();

const formatNumber = (num: number): string => {
  if (num >= 1000000) {
    return (num / 1000000).toFixed(2) + "M";
  }
  if (num >= 1000) {
    return (num / 1000).toFixed(2) + "K";
  }
  return num.toLocaleString();
};

const getPoolRoute = (pool: Pool): string => {
  if (pool.type === "fiat") {
    return `/pools/fiat/${pool.id}`;
  } else {
    return `/pools/stables/${pool.id}`;
  }
};
</script>
</file>

<file path="apps/web/app/components/swap/SelectPanel.vue">
<template>
  <div
    class="flex justify-between items-center gap-2 border border-default rounded-lg w-full p-2"
  >
    <div>
      <p>{{ fieldType }}</p>
      <UInput
        color="neutral"
        variant="none"
        type="number"
        size="xl"
        class="w-full pr-8 no-spinner"
        placeholder="0.00"
        :model-value="modelValue"
        @update:model-value="handleInput"
      />
      <p>{{ fiatValue || "" }}</p>
    </div>
    <SwapTokenSelector
      :model-value="selectedToken"
      :disabled-tokens="disabledTokens"
      @update:model-value="handleTokenChange"
    />
  </div>
</template>

<script setup lang="ts">
import type { Token } from "~/utils/tokens";

const props = defineProps<{
  modelValue: string;
  fieldType: "from" | "to";
  disabled?: boolean;
  loading?: boolean;
  disabledTokens?: string[];
  selectedToken?: Token;
}>();

const emit = defineEmits<{
  "update:modelValue": [value: string];
  "update:selectedToken": [token: Token | undefined];
  input: [value: string];
}>();

const fiatValue = ref("0.00");

const handleInput = (value: string) => {
  if (!props.disabled) {
    emit("update:modelValue", value);
    emit("input", value);
  }

  // Calculate fiat value (mock implementation)
  if (value && props.selectedToken && !props.loading) {
    const mockUsdRate = props.selectedToken.type === "fiat" ? 0.0012 : 1;
    fiatValue.value = (parseFloat(value) * mockUsdRate).toFixed(2);
  } else {
    fiatValue.value = "0.00";
  }
};

const handleTokenChange = (token: Token | undefined) => {
  emit("update:selectedToken", token);
};

// Watch for external changes
watch(
  () => props.modelValue,
  (newValue) => {
    if (newValue && props.selectedToken && !props.loading) {
      const mockUsdRate = props.selectedToken.type === "fiat" ? 0.0012 : 1;
      fiatValue.value = (parseFloat(newValue) * mockUsdRate).toFixed(2);
    } else {
      fiatValue.value = "0.00";
    }
  }
);

watch(
  () => props.loading,
  (isLoading) => {
    if (isLoading) {
      fiatValue.value = "0.00";
    }
  }
);
</script>

<style scoped>
/* Hide number input spinners for WebKit browsers (Chrome, Safari, Edge) */
.no-spinner :deep(input[type="number"]::-webkit-outer-spin-button),
.no-spinner :deep(input[type="number"]::-webkit-inner-spin-button) {
  -webkit-appearance: none;
  margin: 0;
}

/* Hide number input spinners for Firefox */
.no-spinner :deep(input[type="number"]) {
  -moz-appearance: textfield;
}

.no-spinner :deep(input[type="number"]) {
  font-size: 1.8rem;
  font-weight: 500;
  padding: 0;
}

/* Text selection styling - this is the key part! */
.custom-text-size input::selection {
  background-color: #3b82f6 !important; /* Blue highlight */
  color: white !important;
}

.custom-text-size input::-moz-selection {
  background-color: #3b82f6 !important; /* Blue highlight for Firefox */
  color: white !important;
}

/* Alternative: Use a different highlight color */
.custom-text-size input::selection {
  background-color: rgba(
    59,
    130,
    246,
    0.3
  ) !important; /* Semi-transparent blue */
  color: inherit !important; /* Keep original text color */
}

.custom-text-size input::-moz-selection {
  background-color: rgba(59, 130, 246, 0.3) !important;
  color: inherit !important;
}
</style>
</file>

<file path="apps/web/app/components/ConnectButton.vue">
<script setup lang="ts">
import { computed, toRef } from "vue";
import { useAppKit } from "@reown/appkit/vue";
import { useAppKitAccount } from "@reown/appkit/vue";

const accountData = useAppKitAccount();
const isConnected = computed(
  () => toRef(accountData.value, "isConnected").value || false
);

const address = computed(() => toRef(accountData.value, "address").value);
const openConnection = () => {
  useAppKit().open();
};

const shortenAddress = (address: string | undefined): string => {
  if (!address) return "";
  return `${address.slice(0, 6)}...${address.slice(-4)}`;
};
</script>

<template>
  <UButton
    class="connect-button"
    @click="openConnection"
    :variant="isConnected  ? 'outline' : 'solid'"
    :loading="isConnected && !address"
  >
    <template v-if="isConnected">
     {{   address ? shortenAddress(address) : "Loading..." }}
    </template>
    <template v-else> Connect </template>
  </UButton>
</template>
</file>

<file path="apps/web/app/components/Web2SigninButton.vue">
<script setup lang="ts">
import { useSession, signIn } from "@/lib/auth";
const session = useSession();
const user = computed(() => session.value?.data?.user);

console.log({ user });
</script>

<template>
  <div>
    <p v-if="user">{{ user?.email }}</p>
    <UButton
      icon="i-lucide-google"
      color="primary"
      variant="solid"
      class="w-fit"
      @click="signIn.social({ provider: 'google' })"
    >
      Sign in with Google
    </UButton>
  </div>
</template>
</file>

<file path="apps/web/app/layouts/default.vue">
<template>
  <UContainer >
    <!-- <PreloaderComp /> -->
    <slot />
  </UContainer>
</template>

<script setup lang="ts">
// onMounted(() => {
// 	useSmoothScroll();
// });
</script>
</file>

<file path="apps/web/app/pages/auth/confirm.vue">
<script setup lang="ts">
const user = useSupabaseUser()

watch(user, () => {
  if (user.value) {
      // Redirect to protected page
      return navigateTo('/')
  }
}, { immediate: true })
</script>

<template>
  <div>Waiting for login...</div>
</template>
</file>

<file path="apps/web/app/pages/auth/login.vue">
<script setup lang="ts">
const supabase = useSupabaseClient()
const email = ref('')

const signInWithOtp = async () => {
  const { error } = await supabase.auth.signInWithOtp({
    email: email.value,
    options: {
      emailRedirectTo: 'http://localhost:3000/auth/confirm',
    }
  })
  if (error) console.log(error)
}
</script>
<template>
  <div>
    <button @click="signInWithOtp">
      Sign In with E-Mail
    </button>
    <input
      v-model="email"
      type="email"
    />
  </div>
</template>
</file>

<file path="apps/web/app/pages/pool/fiat/[id]/index.vue">
<script setup lang="ts">
const route = useRoute();
const id = route.params.id;
</script>

<template>
	<div>Pool ID: {{ id }}</div>
</template>
</file>

<file path="apps/web/app/pages/pool/stables/[id]/index.vue">
<script setup lang="ts">
const route = useRoute();
const id = route.params.id;
</script>

<template>
	<div>Pool ID: {{ id }}</div>
</template>
</file>

<file path="apps/web/app/pages/honosjs.vue">
<template>
  <div class="p-6 max-w-4xl mx-auto space-y-8">
    <div class="text-center">
      <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
        Hono API Tester
      </h1>
      <p class="text-gray-600 dark:text-gray-400">
        Test your Hono.js API endpoints with useFetch & useAsyncData
      </p>
    </div>

    <!-- API Status -->
    <UCard>
      <template #header>
        <h2 class="text-xl font-semibold">API Connection</h2>
      </template>

      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-2">
          <UBadge
            :color="connectionStatus.success ? 'green' : 'red'"
            variant="subtle"
          >
            {{ connectionStatus.success ? "Connected" : "Disconnected" }}
          </UBadge>
          <span class="text-sm text-gray-600 dark:text-gray-400">
            {{ apiUrl }}
          </span>
        </div>
        <UButton @click="testConnection" :loading="connectionPending">
          Test Connection
        </UButton>
      </div>

      <div v-if="connectionError" class="mt-4">
        <UAlert color="red" :title="connectionError.message" />
      </div>
    </UCard>

    <!-- GET Users Section -->
    <UCard>
      <template #header>
        <div class="flex justify-between items-center">
          <h2 class="text-xl font-semibold">GET Users</h2>
          <UBadge v-if="usersData" color="blue" variant="subtle">
            {{ usersData.length }} users
          </UBadge>
        </div>
      </template>

      <div class="space-y-4">
        <div class="flex space-x-2">
          <UButton @click="refreshUsers" :loading="usersPending">
            {{ usersData ? "Refresh Users" : "Fetch Users" }}
          </UButton>
          <UInput
            v-model="selectedUserId"
            placeholder="User ID"
            class="w-32"
            type="number"
          />
          <UButton
            @click="fetchSingleUser"
            :loading="singleUserPending"
            variant="outline"
          >
            Fetch Single User
          </UButton>
        </div>

        <!-- Users List -->
        <div v-if="usersData && usersData.length > 0" class="space-y-2">
          <h3 class="font-semibold">All Users:</h3>
          <div class="grid gap-2">
            <UCard v-for="user in usersData" :key="user.id" class="p-3">
              <div class="flex justify-between items-center">
                <div>
                  <p class="font-medium">{{ user.name }}</p>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    {{ user.email }}
                  </p>
                </div>
                <UBadge variant="subtle">ID: {{ user.id }}</UBadge>
              </div>
            </UCard>
          </div>
        </div>

        <!-- Single User Display -->
        <div v-if="singleUserData" class="space-y-2">
          <h3 class="font-semibold">Single User Result:</h3>
          <UCard class="p-3">
            <div class="flex justify-between items-center">
              <div>
                <p class="font-medium">{{ singleUserData.name }}</p>
                <p class="text-sm text-gray-600 dark:text-gray-400">
                  {{ singleUserData.email }}
                </p>
              </div>
              <UBadge variant="subtle">ID: {{ singleUserData.id }}</UBadge>
            </div>
          </UCard>
        </div>

        <!-- Error States -->
        <div v-if="usersError" class="mt-4">
          <UAlert
            color="red"
            title="Error fetching users"
            :description="usersError.message"
          />
        </div>
        <div v-if="singleUserError" class="mt-4">
          <UAlert
            color="red"
            title="Error fetching user"
            :description="singleUserError.message"
          />
        </div>
      </div>
    </UCard>

    <!-- POST User Section -->
    <UCard>
      <template #header>
        <h2 class="text-xl font-semibold">POST New User</h2>
      </template>

      <UForm :state="newUser" @submit="createUser" class="space-y-4">
        <UFormGroup label="Name" name="name" required>
          <UInput v-model="newUser.name" placeholder="Enter user name" />
        </UFormGroup>

        <UFormGroup label="Email" name="email" required>
          <UInput
            v-model="newUser.email"
            type="email"
            placeholder="Enter email"
          />
        </UFormGroup>

        <UButton
          type="submit"
          :loading="creatingUser"
          :disabled="!newUser.name || !newUser.email"
        >
          Create User
        </UButton>
      </UForm>

      <div v-if="createUserError" class="mt-4">
        <UAlert
          color="red"
          title="Error creating user"
          :description="createUserError"
        />
      </div>
    </UCard>

    <!-- Async Data Status -->
    <UCard>
      <template #header>
        <h2 class="text-xl font-semibold">Data Status</h2>
      </template>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div class="space-y-2">
          <h3 class="font-medium">Connection Status</h3>
          <div class="flex items-center space-x-2">
            <UBadge
              :color="
                connectionPending ? 'yellow' : connectionError ? 'red' : 'green'
              "
              variant="subtle"
            >
              {{
                connectionPending
                  ? "Loading..."
                  : connectionError
                    ? "Error"
                    : "Ready"
              }}
            </UBadge>
          </div>
        </div>

        <div class="space-y-2">
          <h3 class="font-medium">Users Data</h3>
          <div class="flex items-center space-x-2">
            <UBadge
              :color="usersPending ? 'yellow' : usersError ? 'red' : 'green'"
              variant="subtle"
            >
              {{ usersPending ? "Loading..." : usersError ? "Error" : "Ready" }}
            </UBadge>
          </div>
        </div>

        <div class="space-y-2">
          <h3 class="font-medium">Single User</h3>
          <div class="flex items-center space-x-2">
            <UBadge
              :color="
                singleUserPending ? 'yellow' : singleUserError ? 'red' : 'green'
              "
              variant="subtle"
            >
              {{
                singleUserPending
                  ? "Loading..."
                  : singleUserError
                    ? "Error"
                    : "Ready"
              }}
            </UBadge>
          </div>
        </div>
      </div>
    </UCard>

    <!-- Raw Response Display -->
    <UCard v-if="showRawResponse">
      <template #header>
        <div class="flex justify-between items-center">
          <h2 class="text-xl font-semibold">Raw Responses</h2>
          <UButton
            @click="showRawResponse = !showRawResponse"
            variant="ghost"
            size="sm"
          >
            {{ showRawResponse ? "Hide" : "Show" }}
          </UButton>
        </div>
      </template>

      <div class="space-y-4">
        <div v-if="usersResponse">
          <h3 class="font-medium mb-2">Users Response:</h3>
          <pre
            class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-sm overflow-auto"
            >{{ JSON.stringify(usersResponse, null, 2) }}</pre
          >
        </div>

        <div v-if="singleUserResponse">
          <h3 class="font-medium mb-2">Single User Response:</h3>
          <pre
            class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-sm overflow-auto"
            >{{ JSON.stringify(singleUserResponse, null, 2) }}</pre
          >
        </div>
      </div>
    </UCard>

    <!-- Toggle Raw Response -->
    <div class="flex justify-center">
      <UButton @click="showRawResponse = !showRawResponse" variant="outline">
        {{ showRawResponse ? "Hide" : "Show" }} Raw Responses
      </UButton>
    </div>
  </div>
</template>

<script setup>
import { toast } from "vue-sonner";
const config = useRuntimeConfig();

// Reactive state
const selectedUserId = ref("");
const showRawResponse = ref(false);
const creatingUser = ref(false);
const createUserError = ref("");

const newUser = ref({
  name: "",
  email: "",
});

// Connection test using useAsyncData
const {
  data: connectionData,
  pending: connectionPending,
  error: connectionError,
  refresh: testConnection,
} = await useAsyncData(
  "api-connection",
  () => $fetch(`${config.public.offchainworkerApiUrl}/`),
  {
    server: false, // Client-side only since it's an external API
    default: () => null,
  }
);

const connectionStatus = computed(() => ({
  success: connectionData.value !== null && !connectionError.value,
}));

// Fetch all users using useFetch
const {
  data: usersResponse,
  pending: usersPending,
  error: usersError,
  refresh: refreshUsers,
} = await useFetch(`${config.public.offchainworkerApiUrl}/users`, {
  server: false, // Client-side only
  default: () => ({ data: [], success: false }),
});

// Computed property to extract users data
const usersData = computed(() => {
  return usersResponse.value?.data || [];
});

// Single user fetch using useAsyncData with dynamic key
const {
  data: singleUserResponse,
  pending: singleUserPending,
  error: singleUserError,
  refresh: refreshSingleUser,
} = await useAsyncData("single-user", () => null, {
  server: false,
  default: () => null,
});

const singleUserData = computed(() => {
  return singleUserResponse.value?.data || null;
});

// Fetch single user function
const fetchSingleUser = async () => {
  if (!selectedUserId.value) {
    toast.error("Please enter a user ID");
    return;
  }

  try {
    const { data, error } = await useAsyncData(
      `single-user-${selectedUserId.value}`,
      () => $fetch(`${config.public.offchainworkerApiUrl}/users/${selectedUserId.value}`),
      {
        server: false,
      }
    );

    if (error.value) {
      throw error.value;
    }

    singleUserResponse.value = data.value;
    toast.success("User fetched successfully!");
  } catch (err) {
    toast.error("Failed to fetch user");
    console.error("Fetch user error:", err);
  }
};

// Create new user using $fetch (since useFetch is mainly for GET requests)
const createUser = async () => {
  if (!newUser.value.name || !newUser.value.email) {
    createUserError.value = "Please fill in all fields";
    toast.error("Please fill in all fields");
    return;
  }

  creatingUser.value = true;
  createUserError.value = "";

  try {
    const response = await $fetch(`${config.public.offchainworkerApiUrl}/users`, {
      method: "POST",
      body: JSON.stringify(newUser.value),
      headers: {
        "Content-Type": "application/json",
      },
    });

    toast.success("User created successfully!");

    // Reset form
    newUser.value = { name: "", email: "" };

    // Refresh users list
    await refreshUsers();
  } catch (error) {
    createUserError.value =
      error.data?.message || error.message || "Failed to create user";
    toast.error(error.data?.message || "Failed to create user");
  } finally {
    creatingUser.value = false;
  }
};

// Notification system
const showToast = ref(false);
const toastMessage = ref("");
const toastType = ref("success");

const showNotification = (message, type = "success") => {
  toastMessage.value = message;
  toastType.value = type;
  showToast.value = true;

  setTimeout(() => {
    showToast.value = false;
  }, 3000);
};

// Watch for connection status changes
watch(connectionStatus, (newStatus) => {
  if (newStatus.success) {
    showNotification("API connected successfully!", "success");
  }
});

// Watch for users data changes
watch(usersData, (newUsers) => {
  if (newUsers && newUsers.length > 0) {
    showNotification(`Loaded ${newUsers.length} users`, "success");
  }
});
</script>
</file>

<file path="apps/web/app/utils/addressUtils.ts">
export const shortenAddress = (address: string | undefined): string => {
  if (!address) return ''
  
  // For EVM addresses (0x prefix)
  if (address.startsWith('0x') && address.length === 42) {
    return `${address.slice(0, 6)}...${address.slice(-4)}`
  }
  
  // For Solana addresses (51 characters)
  if (address.length === 44) {
    return `${address.slice(0, 5)}...${address.slice(-4)}`
  }
  
  return address
}
</file>

<file path="apps/web/app/utils/formate.ts">
export const formatNumber = (num: number) => {
  if (num >= 1000000) {
    return (num / 1000000).toFixed(2) + "M";
  }
  if (num >= 1000) {
    return (num / 1000).toFixed(2) + "K";
  }
  return num.toLocaleString();
};
</file>

<file path="apps/web/app/error.vue">
<script setup lang="ts">
defineProps({
  error: {
    type: Object,
    required: true,
  },
})

function handleError() {
  clearError({ redirect: '/' })
}

function goBack() {
  clearError()
  useRouter().back()
}
</script>

<template>
  <main class="grid min-h-full place-items-center bg-black px-6 py-24 sm:py-32 lg:px-8">
    <div class="text-center">
      <p class="text-accent text-base font-semibold">
        {{ error.statusCode }}
      </p>
      <h1 class="mt-4 text-3xl font-bold tracking-tight text-white sm:text-5xl">
        {{ error.message }}
      </h1>
      <p class="mt-6 text-base leading-7 text-neutral-600">
        Sorry, we couldnโt find the page youโre looking for.
      </p>
      <div class="mt-10 flex items-center justify-center gap-x-6">
        <NuxtLink
          class="bg-accent hover:bg-accent-hover cursor-pointer rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm"
          @click="handleError"
        >
          Go back home
        </NuxtLink>
        <button
          class="bg-accent hover:bg-accent-hover cursor-pointer rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm"
          @click="goBack"
        >
          Go back
        </button>
      </div>
    </div>
  </main>
</template>
</file>

<file path="apps/web/public/chains/base.svg">
<svg width="146" height="146" viewBox="0 0 146 146" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="73" cy="73" r="73" fill="#0052FF"/>
<path d="M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z" fill="white"/>
</svg>
</file>

<file path="apps/web/public/chains/celo.svg">
<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 26.3.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Symbol" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 384 383" style="enable-background:new 0 0 384 383;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#FCFF52;}
</style>
<path class="st0" d="M383.5,0H0.5v383h383V249.3h-63.6C298,298.1,248.7,332,192.3,332c-77.8,0-140.8-63.6-140.8-140.8
	C51.4,114,114.5,51,192.3,51c57.5,0,106.8,35,128.7,84.9h62.5V0z"/>
</svg>
</file>

<file path="apps/web/public/chains/lisk.svg">
<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 229.1 259">
  <!-- Generator: Adobe Illustrator 29.1.0, SVG Export Plug-In . SVG Version: 2.1.0 Build 142)  -->
  <polygon points="115.4 0 89.5 42.9 174.7 182.5 103.4 259 163.8 259 230.1 187.9 115.4 0"/>
  <polygon points="87.6 215.9 56.5 182.5 108.8 96.6 82.7 53.9 1 187.9 67.3 259 89.3 259 129.7 215.9 87.6 215.9"/>
</svg>
</file>

<file path="apps/web/public/chains/solana.svg">
<svg width="313" height="281" viewBox="0 0 313 281" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_476_2430)">
<path d="M311.318 221.057L259.66 276.558C258.537 277.764 257.178 278.725 255.669 279.382C254.159 280.039 252.53 280.378 250.884 280.377H5.99719C4.8287 280.377 3.68568 280.035 2.70855 279.393C1.73143 278.751 0.962771 277.837 0.49702 276.764C0.0312691 275.69 -0.111286 274.504 0.0868712 273.35C0.285028 272.196 0.815265 271.126 1.61243 270.27L53.3099 214.769C54.4299 213.566 55.7843 212.607 57.2893 211.95C58.7943 211.293 60.4178 210.953 62.0595 210.95H306.933C308.101 210.95 309.244 211.292 310.221 211.934C311.199 212.576 311.967 213.49 312.433 214.564C312.899 215.637 313.041 216.824 312.843 217.977C312.645 219.131 312.115 220.201 311.318 221.057ZM259.66 109.294C258.537 108.088 257.178 107.127 255.669 106.47C254.159 105.813 252.53 105.474 250.884 105.475H5.99719C4.8287 105.475 3.68568 105.817 2.70855 106.459C1.73143 107.101 0.962771 108.015 0.49702 109.088C0.0312691 110.162 -0.111286 111.348 0.0868712 112.502C0.285028 113.656 0.815265 114.726 1.61243 115.582L53.3099 171.083C54.4299 172.286 55.7843 173.245 57.2893 173.902C58.7943 174.559 60.4178 174.899 62.0595 174.902H306.933C308.101 174.902 309.244 174.56 310.221 173.918C311.199 173.276 311.967 172.362 312.433 171.288C312.899 170.215 313.041 169.028 312.843 167.875C312.645 166.721 312.115 165.651 311.318 164.795L259.66 109.294ZM5.99719 69.4267H250.884C252.53 69.4275 254.159 69.089 255.669 68.432C257.178 67.7751 258.537 66.8139 259.66 65.6082L311.318 10.1069C312.115 9.25107 312.645 8.18056 312.843 7.02695C313.041 5.87334 312.899 4.68686 312.433 3.6133C311.967 2.53974 311.199 1.62586 310.221 0.983941C309.244 0.342026 308.101 3.95314e-05 306.933 0L62.0595 0C60.4178 0.00279866 58.7943 0.34314 57.2893 0.999953C55.7843 1.65677 54.4299 2.61607 53.3099 3.81847L1.62576 59.3197C0.829361 60.1748 0.299359 61.244 0.100752 62.3964C-0.0978539 63.5488 0.0435698 64.7342 0.507679 65.8073C0.971789 66.8803 1.73841 67.7943 2.71352 68.4372C3.68863 69.0802 4.82984 69.424 5.99719 69.4267Z" fill="url(#paint0_linear_476_2430)"/>
</g>
<defs>
<linearGradient id="paint0_linear_476_2430" x1="26.415" y1="287.059" x2="283.735" y2="-2.49574" gradientUnits="userSpaceOnUse">
<stop offset="0.08" stop-color="#9945FF"/>
<stop offset="0.3" stop-color="#8752F3"/>
<stop offset="0.5" stop-color="#5497D5"/>
<stop offset="0.6" stop-color="#43B4CA"/>
<stop offset="0.72" stop-color="#28E0B9"/>
<stop offset="0.97" stop-color="#19FB9B"/>
</linearGradient>
<clipPath id="clip0_476_2430">
<rect width="312.93" height="280.377" fill="white"/>
</clipPath>
</defs>
</svg>
</file>

<file path="apps/web/public/tokens/kenya.svg">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200">
  <!-- Black stripe -->
  <rect x="0" y="0" width="300" height="40" fill="#000000"/>
  
  <!-- White stripe -->
  <rect x="0" y="40" width="300" height="20" fill="#ffffff"/>
  
  <!-- Red stripe -->
  <rect x="0" y="60" width="300" height="80" fill="#ce1126"/>
  
  <!-- White stripe -->
  <rect x="0" y="140" width="300" height="20" fill="#ffffff"/>
  
  <!-- Green stripe -->
  <rect x="0" y="160" width="300" height="40" fill="#007a3d"/>
  
  <!-- Maasai shield -->
  <ellipse cx="150" cy="100" rx="35" ry="50" fill="#ffffff" stroke="#000000" stroke-width="2"/>
  <ellipse cx="150" cy="100" rx="30" ry="45" fill="#ce1126"/>
  <ellipse cx="150" cy="100" rx="20" ry="35" fill="#000000"/>
  <ellipse cx="150" cy="100" rx="15" ry="28" fill="#ffffff"/>
  
  <!-- Spears crossing behind shield -->
  <line x1="120" y1="70" x2="180" y2="130" stroke="#8b4513" stroke-width="3"/>
  <line x1="180" y1="70" x2="120" y2="130" stroke="#8b4513" stroke-width="3"/>
  
  <!-- Spear tips -->
  <polygon points="118,68 122,68 120,60" fill="#c0c0c0"/>
  <polygon points="178,68 182,68 180,60" fill="#c0c0c0"/>
  <polygon points="118,132 122,132 120,140" fill="#c0c0c0"/>
  <polygon points="178,132 182,132 180,140" fill="#c0c0c0"/>
</svg>
</file>

<file path="apps/web/public/tokens/nigerian.svg">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200">
  <!-- Green stripe (left) -->
  <rect x="0" y="0" width="100" height="200" fill="#008751"/>
  
  <!-- White stripe (middle) -->
  <rect x="100" y="0" width="100" height="200" fill="#ffffff"/>
  
  <!-- Green stripe (right) -->
  <rect x="200" y="0" width="100" height="200" fill="#008751"/>
</svg>
</file>

<file path="apps/web/public/cap_grad_svg.svg">
<?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!-- License: CC0. Made by SVG Repo: https://www.svgrepo.com/svg/146698/cap -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve" width="512" height="512">
<g id="_x34_7._Student_cap_1_">
	<g id="XMLID_95_">
		<g>
			<g>
				<polygon style="fill:#FF7124;" points="434.82,203.215 388.33,226.455 388.33,226.465 240,300.625 91.67,226.465 91.67,226.455       10,185.625 240,70.625 470,185.625     "/>
			</g>
			<g>
				<polygon style="fill:#8ECAC1;" points="434.91,342.805 460.14,409.375 409.68,409.375     "/>
			</g>
			<g>
				<path style="fill:#8ECAC1;" d="M434.91,300.625c11.65,0,21.09,9.44,21.09,21.09c0,11.64-9.44,21.09-21.09,21.09      s-21.09-9.45-21.09-21.09C413.82,310.065,423.26,300.625,434.91,300.625z"/>
			</g>
			<g>
				<path style="fill:#F2D59F;" d="M388.33,226.465v82.59c0,40.96-66.41,74.16-148.33,74.16s-148.33-33.2-148.33-74.16v-82.59      L240,300.625L388.33,226.465z"/>
			</g>
		</g>
		<g>
			<g>
				<path style="fill:#5E2A41;" d="M240,310.625c-1.532,0-3.065-0.352-4.472-1.056l-148.33-74.16      c-4.94-2.47-6.942-8.477-4.473-13.416c2.47-4.941,8.476-6.942,13.416-4.473L240,289.445l143.858-71.924      c4.94-2.469,10.947-0.467,13.416,4.473c2.47,4.939,0.467,10.946-4.473,13.416l-148.33,74.16      C243.064,310.273,241.532,310.625,240,310.625z"/>
			</g>
			<g>
				<path style="fill:#5E2A41;" d="M388.338,236.457c-3.669,0-7.201-2.026-8.953-5.531c-2.469-4.94-0.466-10.946,4.474-13.416      l63.781-31.885L240,81.805L32.362,185.624l63.78,31.886c4.94,2.47,6.942,8.476,4.473,13.416      c-2.469,4.94-8.477,6.942-13.416,4.473l-81.67-40.83C2.14,192.875,0,189.413,0,185.625c0-3.788,2.14-7.251,5.528-8.944l230-115      c2.816-1.407,6.129-1.407,8.944,0l230,115c3.388,1.694,5.528,5.157,5.528,8.944c0,3.788-2.14,7.25-5.528,8.944L392.801,235.4      C391.366,236.117,389.84,236.457,388.338,236.457z"/>
			</g>
			<g>
				<path style="fill:#5E2A41;" d="M240,393.215c-88.783,0-158.33-36.968-158.33-84.16v-82.59c0-5.523,4.477-10.005,10-10.005      c5.523,0,10,4.472,10,9.995v82.6c0,15.595,13.82,31.448,37.917,43.496c26.654,13.326,62.314,20.664,100.413,20.664      s73.759-7.339,100.413-20.664c24.097-12.047,37.917-27.901,37.917-43.496v-82.59c0-5.523,4.477-10.005,10-10.005      c5.523,0,10,4.472,10,9.995v82.6C398.33,356.247,328.783,393.215,240,393.215z"/>
			</g>
			<g>
				<path style="fill:#5E2A41;" d="M434.91,311.455c-5.523,0-10-4.477-10-10v-89.094l-185.81-16.777      c-5.501-0.497-9.557-5.358-9.06-10.859c0.497-5.501,5.347-9.567,10.859-9.06l194.82,17.59c0.059,0.005,0.117,0.011,0.175,0.018      c5.077,0.549,9.016,4.845,9.016,9.952v98.23C444.91,306.978,440.433,311.455,434.91,311.455z"/>
			</g>
			<g>
				<path style="fill:#5E2A41;" d="M434.91,352.805c-17.143,0-31.09-13.947-31.09-31.09c0-17.143,13.947-31.09,31.09-31.09      c17.143,0,31.09,13.947,31.09,31.09C466,338.858,452.053,352.805,434.91,352.805z M434.91,310.625      c-6.115,0-11.09,4.975-11.09,11.09c0,6.115,4.975,11.09,11.09,11.09c6.115,0,11.09-4.975,11.09-11.09      C446,315.6,441.025,310.625,434.91,310.625z"/>
			</g>
			<g>
				<path style="fill:#5E2A41;" d="M460.14,419.375h-50.46c-3.286,0-6.362-1.614-8.229-4.318c-1.867-2.704-2.287-6.153-1.122-9.225      l25.23-66.57c1.473-3.886,5.195-6.456,9.351-6.456c4.156,0,7.878,2.57,9.351,6.456l25.23,66.57      c1.165,3.073,0.745,6.521-1.122,9.225C466.502,417.761,463.426,419.375,460.14,419.375z M424.164,399.375h21.492l-10.746-28.353      L424.164,399.375z"/>
			</g>
		</g>
	</g>
</g>















</svg>
</file>

<file path="apps/web/public/cup_win_svg.svg">
<?xml version="1.0" encoding="utf-8"?>
<!-- License: CC Attribution. Made by Shannon E. Thomas: https://dribbble.com/shannonethomas -->
<svg version="1.1" id="Uploaded to svgrepo.com" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 width="800px" height="800px" viewBox="0 0 32 32" xml:space="preserve">
<style type="text/css">
	.avocado_een{fill:#231F20;}
	.avocado_twintig{fill:#EAD13F;}
	.avocado_drie{fill:#716558;}
	.st0{fill:#A3AEB5;}
	.st1{fill:#FFFAEE;}
	.st2{fill:#AF9480;}
	.st3{fill:#DBD2C1;}
	.st4{fill:#CC4121;}
	.st5{fill:#788287;}
	.st6{fill:#C3CC6A;}
	.st7{fill:#D1712A;}
	.st8{fill:#E0A838;}
	.st9{fill:#6F9B45;}
	.st10{fill:#0E608E;}
	.st11{fill:#E598A3;}
	.st12{fill:#3D3935;}
	.st13{fill:#248EBC;}
	.st14{fill:#BF63C1;}
</style>
<g>
	<polygon class="avocado_drie" points="6.5,31.5 6.5,29.5 8.5,29.5 8.5,21.5 12.5,21.5 12.5,19.499 17.5,19.499 17.5,21.5 
		21.5,21.5 21.5,29.5 23.5,29.5 23.5,31.5 	"/>
	<g>
		<g>
			<path class="avocado_twintig" d="M10.5,27.5v-4h9v4H10.5z M14,16.5c-3.033,0-5.5-2.468-5.5-5.5V9.5H8
				C5.519,9.5,3.5,7.481,3.5,5S5.519,0.5,8,0.5h14c2.482,0,4.501,2.019,4.501,4.5s-2.019,4.5-4.5,4.5h-0.5L21.5,10.999
				c0,3.033-2.467,5.501-5.5,5.501H14z M21.5,7.5H22c1.379,0,2.501-1.121,2.501-2.5s-1.122-2.5-2.5-2.5h-0.5L21.5,7.5z M8,2.5
				C6.622,2.5,5.5,3.621,5.5,5S6.622,7.5,8,7.5h0.5v-5H8z"/>
		</g>
	</g>
	<path class="avocado_een" d="M22,11l0.001-1c2.761,0,5-2.239,5-5c0-2.761-2.239-5-5-5H8C5.239,0,3,2.239,3,5
		c0,2.761,2.239,5,5,5v1c0,3.314,2.686,6,6,6v2h-2V21H8v8H6v3h18v-3h-2v-8h-4v-2.001h-2v-2C19.314,17,22,14.314,22,11z M23,30v1H7
		v-1H23z M21,29H9v-7h12V29z M17,19.999v1H13v-1H17z M9,11V9H8C5.794,9,4,7.206,4,5c0-2.206,1.794-4,4-4l14.001,0
		c2.206,0,4,1.794,4,4c0,2.189-1.766,3.972-3.949,4L21,9v2c0,2.757-2.243,5-5,5h-2C11.243,16,9,13.757,9,11z M22.001,8
		c1.654,0,3-1.346,3-3s-1.346-3-3-3L21,2l0,6L22.001,8z M22.001,3c1.105,0,2,0.895,2,2c0,1.105-0.895,2-2,2V3z M5,5
		c0,1.654,1.346,3,3,3h1V2H8C6.346,2,5,3.346,5,5z M8,7C6.896,7,6,6.105,6,5c0-1.105,0.895-2,2-2V7z M20,23H10v5h10V23z M19,27h-8
		v-3h8V27z"/>
</g>
</svg>
</file>

<file path="apps/web/server/tsconfig.json">
{
  "extends": "../.nuxt/tsconfig.server.json"
}
</file>

<file path="apps/web/.npmrc">
shamefully-hoist=true
strict-peer-dependencies=false
</file>

<file path="apps/web/content.config.ts">
import { defineContentConfig, defineCollection, z } from "@nuxt/content";

export default defineContentConfig({
	collections: {
		projects: defineCollection({
			type: "page",
			source: "projects/*.md",
			schema: z.object({
				title: z.string().nonempty(),
				description: z.string().nonempty(),
				date: z.string().nonempty(),
			}),
		}),
		articles: defineCollection({
			type: "page",
			source: "articles/*.md",
			schema: z.object({
				title: z.string().nonempty(),
				description: z.string().nonempty(),
				date: z.string().nonempty(),
			}),
		}),
		content: defineCollection({
			type: "page",
			source: "**/*.md",
		}),
	},
});
</file>

<file path="apps/web/eslint.config.mjs">
// @ts-check
import withNuxt from './node_modules/.cache/nuxt/.nuxt/eslint.config.mjs'

export default withNuxt(
  // Your custom configs here
)
</file>

<file path="apps/web/folder.md">
.output/
.nuxt/
app/
  assets/
  components/
  composables/
  layouts/
  middleware/
  pages/
  plugins/
  utils/
  app.config.ts
  app.vue
  router.options.ts
content/
layers/
modules/
node_modules/
public/
server/
  api/
  middleware/
  plugins/
  routes/
  utils/
nuxt.config.ts
</file>

<file path="contracts/marketplace-contract/.github/workflows/test.yml">
name: CI

on:
  push:
  pull_request:
  workflow_dispatch:

env:
  FOUNDRY_PROFILE: ci

jobs:
  check:
    name: Foundry project
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          submodules: recursive

      - name: Install Foundry
        uses: foundry-rs/foundry-toolchain@v1

      - name: Show Forge version
        run: |
          forge --version

      - name: Run Forge fmt
        run: |
          forge fmt --check
        id: fmt

      - name: Run Forge build
        run: |
          forge build --sizes
        id: build

      - name: Run Forge tests
        run: |
          forge test -vvv
        id: test
</file>

<file path="contracts/marketplace-contract/src/adapters/ERC1155Adapter.sol">
// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.13;


import {IERC1155} from "@openzeppelin/contracts/token/ERC1155/IERC1155.sol";
import {INFTAdapter} from "../interfaces/INFTAdapter.sol"; 

contract ERC1155Adapter is INFTAdapter {

    function transferNFTIn(address collection, address seller, uint256 tokenId, uint256 amount) external override {
        require(amount > 0, "ERC1155: Amount must be greater than 0");
        // The marketplace (msg.sender here if adapter is called by marketplace) must be approved
        // The seller must have approved the marketplace for the NFT
        IERC1155(collection).safeTransferFrom(seller, msg.sender, tokenId, amount, ""); // Transfer to the caller (marketplace)
    }

    function transferNFTOut(address collection, address buyer, uint256 tokenId, uint256 amount) external override {
        require(amount > 0, "ERC1155: Amount must be greater than 0");
        // The marketplace (msg.sender) must own the NFT and this adapter must be called by the marketplace
        IERC1155(collection).safeTransferFrom(msg.sender, buyer, tokenId, amount, ""); // Transfer from the caller (marketplace)
    }

    function returnNFT(address collection, address seller, uint256 tokenId, uint256 amount) external override {
        require(amount > 0, "ERC1155: Amount must be greater than 0");
        // The marketplace (msg.sender) must own the NFT and this adapter must be called by the marketplace
        IERC1155(collection).safeTransferFrom(msg.sender, seller, tokenId, amount, ""); // Transfer from the caller (marketplace)
    }

    function supportsNFTType(address collection) external view override returns (bool) {
        // Check for ERC1155 interface ID
        return IERC1155(collection).supportsInterface(0xd9b67a26); // ERC1155 interface ID
    }

    function getNFTBalance(address collection, address owner, uint256 tokenId) external view override returns (uint256) {
        return IERC1155(collection).balanceOf(owner, tokenId);
    }
}
</file>

<file path="contracts/marketplace-contract/src/adapters/ERC721Adapter.sol">
// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.13;

import {IERC721} from "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import {INFTAdapter} from "../interfaces/INFTAdapter.sol"; 

contract ERC721Adapter is
    INFTAdapter // No longer inherits ERC721Holder
{
    function transferNFTIn(
        address collection,
        address seller,
        uint256 tokenId,
        uint256 amount
    ) external override {
        require(amount == 1, "ERC721: Amount must be 1 for ERC721");
        // The marketplace (msg.sender here if adapter is called by marketplace) must be approved
        // The seller must have approved the marketplace for the NFT
        IERC721(collection).transferFrom(seller, msg.sender, tokenId); // Transfer to the caller (marketplace)
    }

    function transferNFTOut(
        address collection,
        address buyer,
        uint256 tokenId,
        uint256 amount
    ) external override {
        require(amount == 1, "ERC721: Amount must be 1 for ERC721");
        // The marketplace (msg.sender) must own the NFT and this adapter must be called by the marketplace
        IERC721(collection).safeTransferFrom(msg.sender, buyer, tokenId); // Transfer from the caller (marketplace)
    }

    function returnNFT(
        address collection,
        address seller,
        uint256 tokenId,
        uint256 amount
    ) external override {
        require(amount == 1, "ERC721: Amount must be 1 for ERC721");
        // The marketplace (msg.sender) must own the NFT and this adapter must be called by the marketplace
        IERC721(collection).transferFrom(msg.sender, seller, tokenId); // Transfer from the caller (marketplace)
    }

    function supportsNFTType(
        address collection
    ) external view override returns (bool) {
        // A simple way to check if it's an ERC721 is by checking its interface ID.
        return IERC721(collection).supportsInterface(0x80ac58cd);
    }

    function getNFTBalance(
        address collection,
        address owner,
        uint256 tokenId
    ) external view override returns (uint256) {
        return IERC721(collection).ownerOf(tokenId) == owner ? 1 : 0;
    }
}
</file>

<file path="contracts/marketplace-contract/src/interfaces/INFTAdapter.sol">
// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.13;

interface INFTAdapter {
    // Function to handle NFT transfer from seller to marketplace for listing
    function transferNFTIn(address collection, address seller, uint256 tokenId, uint256 amount) external;

    // Function to handle NFT transfer from marketplace to buyer after purchase
    function transferNFTOut(address collection, address buyer, uint256 tokenId, uint256 amount) external;

    // Function to handle NFT transfer from marketplace back to seller on cancellation
    function returnNFT(address collection, address seller, uint256 tokenId, uint256 amount) external;

    // Function to check if a collection supports a specific adapter (e.g., ERC721, ERC1155)
    // This is different from IERC165's supportsInterface, as it checks the *collection's* type.
    function supportsNFTType(address collection) external view returns (bool);

    // Optional: Function to check balance of an NFT (important for ERC1155)
    // The `owner` parameter here would be the marketplace contract itself, or the original seller.
    function getNFTBalance(address collection, address owner, uint256 tokenId) external view returns (uint256);
}
</file>

<file path="contracts/marketplace-contract/src/interfaces/IWETH.sol">
// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.13;

interface IWETH {
    function deposit() external payable;

    function withdraw(uint256) external;

    function transfer(address to, uint256 value) external returns (bool);
}
</file>

<file path="contracts/marketplace-contract/src/mocks/BoredApe.sol">
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract BoredApe is ERC721, Ownable {
    uint256 private _tokenIdCounter;

    constructor() ERC721("Bored Ape Yacht Club", "BAYC") Ownable(msg.sender) {}

    function mint(address to) public onlyOwner returns (uint256) {
        uint256 tokenId = _tokenIdCounter;
        _tokenIdCounter++;
        _safeMint(to, tokenId);
        return tokenId;
    }

    function mintBatch(address to, uint256 amount) public onlyOwner returns (uint256[] memory) {
        uint256[] memory tokenIds = new uint256[](amount);
        for (uint256 i = 0; i < amount; i++) {
            tokenIds[i] = mint(to);
        }
        return tokenIds;
    }
}
</file>

<file path="contracts/marketplace-contract/src/mocks/CallOfDutySMGs.sol">
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

import "@openzeppelin/contracts/token/ERC1155/ERC1155.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract CallOfDutySMGs is ERC1155, Ownable {
    // Token IDs for different SMGs
    uint256 public constant MP5 = 1;
    uint256 public constant UMP45 = 2;
    uint256 public constant P90 = 3;
    uint256 public constant VECTOR = 4;
    uint256 public constant MP7 = 5;

    constructor() ERC1155("https://api.callofduty.com/smgs/{id}.json") Ownable(msg.sender) {}

    function mint(address to, uint256 id, uint256 amount) public onlyOwner {
        _mint(to, id, amount, "");
    }

    function mintBatch(
        address to,
        uint256[] memory ids,
        uint256[] memory amounts
    ) public onlyOwner {
        _mintBatch(to, ids, amounts, "");
    }

    function uri(uint256 tokenId) public pure override returns (string memory) {
        return string(abi.encodePacked("https://api.callofduty.com/smgs/", _toString(tokenId), ".json"));
    }

    function _toString(uint256 value) internal pure returns (string memory) {
        if (value == 0) {
            return "0";
        }
        uint256 temp = value;
        uint256 digits;
        while (temp != 0) {
            digits++;
            temp /= 10;
        }
        bytes memory buffer = new bytes(digits);
        while (value != 0) {
            digits -= 1;
            buffer[digits] = bytes1(uint8(48 + uint256(value % 10)));
            value /= 10;
        }
        return string(buffer);
    }
}
</file>

<file path="contracts/marketplace-contract/src/utils/NFTMarketBaseUtils.sol">
// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.13;

enum CollectionStatus {
    Pending,
    Open,
    Close
}

struct Ask {
    address seller;
    uint256 price;
    uint256 amount;
}

struct Collection {
    CollectionStatus status;
    address creatorAddress;
    address whitelistChecker;
    uint256 tradingFee;
    uint256 creatorFee;
    bytes4 adapterId;
}
</file>

<file path="contracts/marketplace-contract/src/NFTMarketPlace.sol">
// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.13;

import {Ownable} from "@openzeppelin/contracts/access/Ownable.sol";
import {ReentrancyGuard} from "@openzeppelin/contracts/utils/ReentrancyGuard.sol";
import {EnumerableSet} from "@openzeppelin/contracts/utils/structs/EnumerableSet.sol";
import {IERC20} from "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import {SafeERC20} from "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";

//standard NFT interfaces
import {IERC721} from "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import {ERC721Holder} from "@openzeppelin/contracts/token/ERC721/utils/ERC721Holder.sol";
import {IERC1155} from "@openzeppelin/contracts/token/ERC1155/IERC1155.sol";
import {IERC1155Receiver} from "@openzeppelin/contracts/token/ERC1155/IERC1155Receiver.sol";
import {ERC165} from "@openzeppelin/contracts/utils/introspection/ERC165.sol";
import {IERC165} from "@openzeppelin/contracts/utils/introspection/IERC165.sol";


import {IWETH} from "./interfaces/IWETH.sol";
import {INFTAdapter} from "./interfaces/INFTAdapter.sol";
import "./utils/NFTMarketBaseUtils.sol";

contract NFTMarketPlace is
    Ownable,
    ReentrancyGuard,
    ERC721Holder,
    IERC1155Receiver,
    ERC165
{
    using EnumerableSet for EnumerableSet.AddressSet;
    using EnumerableSet for EnumerableSet.UintSet;

    using SafeERC20 for IERC20;

    address public immutable WBNB;

    uint256 public constant TOTAL_MAX_FEE = 1000;

    address public adminAddress;
    address public treasuryAddress;

    uint256 public minimumAskPrice;
    uint256 public maximumAskPrice;

    mapping(address => uint256) public pendingRevenue;

    EnumerableSet.AddressSet private _collectionAddressSet;

    mapping(address => mapping(uint256 => Ask)) private _askDetails; // Ask details (price + seller address) for a given collection and a tokenId
    mapping(address => EnumerableSet.UintSet) private _askTokenIds; // Set of tokenIds for a collection
    mapping(address => Collection) private _collections; // Details about the collections
    mapping(address => mapping(address => EnumerableSet.UintSet))
        private _tokenIdsOfSellerForCollection;

    // Mapping to store supported adapter contracts by type (e.g., ERC721, ERC1155)
    mapping(bytes4 => address) public supportedAdapters;

    constructor(
        address _adminAddress
    )
        // address _treasuryAddress,
        // address _WBNBAddress,
        // uint256 _minimumAskPrice,
        // uint256 _maximumAskPrice
        Ownable(_adminAddress)
    {
        // require(_adminAddress != address(0), "Operations: Admin address cannot be zero");
        // require(_treasuryAddress != address(0), "Operations: Treasury address cannot be zero");
        // require(_WBNBAddress != address(0), "Operations: WBNB address cannot be zero");
        // require(_minimumAskPrice > 0, "Operations: _minimumAskPrice must be > 0");
        // require(_minimumAskPrice < _maximumAskPrice, "Operations: _minimumAskPrice < _maximumAskPrice");
        // adminAddress = _adminAddress;
        // treasuryAddress = _treasuryAddress;
        // WBNB = _WBNBAddress;
        // minimumAskPrice = _minimumAskPrice;
        // maximumAskPrice = _maximumAskPrice;
    }

 function withdrawERC721(address collection, uint256 tokenId, address to) external onlyOwner {
        IERC721(collection).safeTransferFrom(address(this), to, tokenId);
    }

    // Function to send ERC1155 tokens out of the contract
    function withdrawERC1155(address collection, uint256 tokenId, uint256 amount, address to) external onlyOwner {
        IERC1155(collection).safeTransferFrom(address(this), to, tokenId, amount, "");
    }

    // Function to send batch ERC1155 tokens out of the contract
    function withdrawERC1155Batch(
        address collection, 
        uint256[] calldata tokenIds, 
        uint256[] calldata amounts, 
        address to
    ) external onlyOwner {
        IERC1155(collection).safeBatchTransferFrom(address(this), to, tokenIds, amounts, "");
    }
    
    // Events
    event AskCancel(
        address indexed collection,
        address indexed seller,
        uint256 indexed tokenId
    );
    event AskNew(
        address indexed collection,
        address indexed seller,
        uint256 indexed tokenId,
        uint256 askPrice,
        uint256 amount
    );
    event AskUpdate(
        address indexed collection,
        address indexed seller,
        uint256 indexed tokenId,
        uint256 askPrice
    );
    event CollectionClose(address indexed collection);
    event CollectionNew(
        address indexed collection,
        address indexed creator,
        address indexed whitelistChecker,
        uint256 tradingFee,
        uint256 creatorFee,
        bytes4 adapterId
    );
    event CollectionUpdate(
        address indexed collection,
        address indexed creator,
        address indexed whitelistChecker,
        uint256 tradingFee,
        uint256 creatorFee,
        bytes4 adapterId
    );
    event NewAdminAndTreasuryAddresses(
        address indexed admin,
        address indexed treasury
    );
    event NewMinimumAndMaximumAskPrices(
        uint256 minimumAskPrice,
        uint256 maximumAskPrice
    );
    event NonFungibleTokenRecovery(
        address indexed token,
        uint256 indexed tokenId
    );
    event RevenueClaim(address indexed claimer, uint256 amount);
    event TokenRecovery(address indexed token, uint256 amount);
    event Trade(
        address indexed collection,
        uint256 indexed tokenId,
        address indexed seller,
        address buyer,
        uint256 askPrice,
        uint256 netPrice,
        bool withBNB,
        uint256 amount
    );
    event AdapterSet(bytes4 indexed adapterId, address indexed adapterAddress);

    // Required IERC1155Receiver implementations
    function onERC1155Received(
        address operator,
        address from,
        uint256 id,
        uint256 value,
        bytes calldata data
    ) external pure override returns (bytes4) {
        return this.onERC1155Received.selector;
    }

    function onERC1155BatchReceived(
        address operator,
        address from,
        uint256[] calldata ids,
        uint256[] calldata values,
        bytes calldata data
    ) external pure override returns (bytes4) {
        return this.onERC1155BatchReceived.selector;
    }

    // Required ERC165 implementation
    function supportsInterface(
        bytes4 interfaceId
    ) public view virtual override(ERC165, IERC165) returns (bool) {
        return
            interfaceId == type(IERC1155Receiver).interfaceId ||
            super.supportsInterface(interfaceId);
    }
}
</file>

<file path="contracts/marketplace-contract/test/NFTMarketPlaceTest.t.sol">
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "../src/NFTMarketPlace.sol";
import "../src/mocks/BoredApe.sol";
import "../src/mocks/CallOfDutySMGs.sol";

contract NFTMarketPlaceTest is Test {
    NFTMarketPlace public marketplace;
    BoredApe public boredApe;
    CallOfDutySMGs public codSMGs;
    
    address public owner = address(0x1);
    address public user1 = address(0x2);
    address public user2 = address(0x3);

    function setUp() public {
        vm.startPrank(owner);
        
        // Deploy contracts
        marketplace = new NFTMarketPlace(owner);
        boredApe = new BoredApe();
        codSMGs = new CallOfDutySMGs();
        
        vm.stopPrank();
    }

    function testERC721SendAndReceive() public {
        console.log("=== Testing ERC721 (Bored Ape) Send and Receive ===");
        
        vm.startPrank(owner);
        
        // Mint a Bored Ape NFT to user1
        uint256 tokenId = boredApe.mint(user1);
        console.log("Minted Bored Ape token ID:", tokenId);
        
        vm.stopPrank();
        vm.startPrank(user1);
        
        // Check initial ownership
        assertEq(boredApe.ownerOf(tokenId), user1);
        console.log("Initial owner of token", tokenId, ":", boredApe.ownerOf(tokenId));
        
        // Send NFT to marketplace
        boredApe.safeTransferFrom(user1, address(marketplace), tokenId);
        console.log("Sent token", tokenId, "to marketplace");
        
        // Verify marketplace now owns the NFT
        assertEq(boredApe.ownerOf(tokenId), address(marketplace));
        console.log("Marketplace now owns token", tokenId);
        
        vm.stopPrank();
        vm.startPrank(owner);
        
        // Send NFT from marketplace to user2
        marketplace.withdrawERC721(address(boredApe), tokenId, user2);
        console.log("Withdrew token", tokenId, "from marketplace to user2");
        
        // Verify user2 now owns the NFT
        assertEq(boredApe.ownerOf(tokenId), user2);
        console.log("Final owner of token", tokenId, ":", boredApe.ownerOf(tokenId));
        
        vm.stopPrank();
    }

    function testERC721BatchOperations() public {
        console.log("=== Testing ERC721 Batch Operations ===");
        
        vm.startPrank(owner);
        
        // Mint multiple Bored Ape NFTs
        uint256[] memory tokenIds = boredApe.mintBatch(user1, 3);
        console.log("Minted", tokenIds.length, "Bored Ape tokens");
        
        vm.stopPrank();
        vm.startPrank(user1);
        
        // Send all NFTs to marketplace
        for (uint256 i = 0; i < tokenIds.length; i++) {
            boredApe.safeTransferFrom(user1, address(marketplace), tokenIds[i]);
            console.log("Sent token", tokenIds[i], "to marketplace");
        }
        
        vm.stopPrank();
        vm.startPrank(owner);
        
        // Withdraw all NFTs to user2
        for (uint256 i = 0; i < tokenIds.length; i++) {
            marketplace.withdrawERC721(address(boredApe), tokenIds[i], user2);
            assertEq(boredApe.ownerOf(tokenIds[i]), user2);
            console.log("Withdrew token", tokenIds[i], "to user2");
        }
        
        vm.stopPrank();
    }

    function testERC1155SendAndReceive() public {
        console.log("=== Testing ERC1155 (Call of Duty SMGs) Send and Receive ===");
        
        vm.startPrank(owner);
        
        // Mint different SMG tokens to user1
        codSMGs.mint(user1, codSMGs.MP5(), 10);      // 10 MP5s
        codSMGs.mint(user1, codSMGs.UMP45(), 5);     // 5 UMP45s
        codSMGs.mint(user1, codSMGs.P90(), 8);       // 8 P90s
        codSMGs.mint(user1, codSMGs.VECTOR(), 3);    // 3 VECTORs
        codSMGs.mint(user1, codSMGs.MP7(), 12);      // 12 MP7s
        
        console.log("Minted SMG tokens to user1:");
        console.log("- MP5:", codSMGs.balanceOf(user1, codSMGs.MP5()));
        console.log("- UMP45:", codSMGs.balanceOf(user1, codSMGs.UMP45()));
        console.log("- P90:", codSMGs.balanceOf(user1, codSMGs.P90()));
        console.log("- VECTOR:", codSMGs.balanceOf(user1, codSMGs.VECTOR()));
        console.log("- MP7:", codSMGs.balanceOf(user1, codSMGs.MP7()));
        
        vm.stopPrank();
        vm.startPrank(user1);
        
        // Send some tokens to marketplace
        codSMGs.safeTransferFrom(user1, address(marketplace), codSMGs.MP5(), 5, "");
        codSMGs.safeTransferFrom(user1, address(marketplace), codSMGs.P90(), 3, "");
        codSMGs.safeTransferFrom(user1, address(marketplace), codSMGs.MP7(), 7, "");
        
        console.log("Sent tokens to marketplace:");
        console.log("- 5 MP5s");
        console.log("- 3 P90s"); 
        console.log("- 7 MP7s");
        
        // Verify marketplace balances
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.MP5()), 5);
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.P90()), 3);
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.MP7()), 7);
        
        vm.stopPrank();
        vm.startPrank(owner);
        
        // Withdraw tokens from marketplace to user2
        marketplace.withdrawERC1155(address(codSMGs), codSMGs.MP5(), 3, user2);
        marketplace.withdrawERC1155(address(codSMGs), codSMGs.P90(), 2, user2);
        marketplace.withdrawERC1155(address(codSMGs), codSMGs.MP7(), 5, user2);
        
        console.log("Withdrew tokens from marketplace to user2:");
        console.log("- 3 MP5s");
        console.log("- 2 P90s");
        console.log("- 5 MP7s");
        
        // Verify user2 balances
        assertEq(codSMGs.balanceOf(user2, codSMGs.MP5()), 3);
        assertEq(codSMGs.balanceOf(user2, codSMGs.P90()), 2);
        assertEq(codSMGs.balanceOf(user2, codSMGs.MP7()), 5);
        
        // Verify remaining marketplace balances
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.MP5()), 2);
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.P90()), 1);
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.MP7()), 2);
        
        vm.stopPrank();
    }

    function testERC1155BatchOperations() public {
        console.log("=== Testing ERC1155 Batch Operations ===");
        
        vm.startPrank(owner);
        
        // Prepare batch mint data
        uint256[] memory ids = new uint256[](5);
        uint256[] memory amounts = new uint256[](5);
        
        ids[0] = codSMGs.MP5();
        ids[1] = codSMGs.UMP45();
        ids[2] = codSMGs.P90();
        ids[3] = codSMGs.VECTOR();
        ids[4] = codSMGs.MP7();
        
        amounts[0] = 20;
        amounts[1] = 15;
        amounts[2] = 10;
        amounts[3] = 8;
        amounts[4] = 25;
        
        // Batch mint to user1
        codSMGs.mintBatch(user1, ids, amounts);
        console.log("Batch minted SMG tokens to user1");
        
        vm.stopPrank();
        vm.startPrank(user1);
        
        // Batch transfer to marketplace
        uint256[] memory transferAmounts = new uint256[](5);
        transferAmounts[0] = 10; // MP5
        transferAmounts[1] = 8;  // UMP45
        transferAmounts[2] = 5;  // P90
        transferAmounts[3] = 4;  // VECTOR
        transferAmounts[4] = 12; // MP7
        
        codSMGs.safeBatchTransferFrom(user1, address(marketplace), ids, transferAmounts, "");
        console.log("Batch transferred tokens to marketplace");
        
        vm.stopPrank();
        vm.startPrank(owner);
        
        // Batch withdraw from marketplace to user2
        uint256[] memory withdrawAmounts = new uint256[](5);
        withdrawAmounts[0] = 5;  // MP5
        withdrawAmounts[1] = 4;  // UMP45
        withdrawAmounts[2] = 3;  // P90
        withdrawAmounts[3] = 2;  // VECTOR
        withdrawAmounts[4] = 6;  // MP7
        
        marketplace.withdrawERC1155Batch(address(codSMGs), ids, withdrawAmounts, user2);
        console.log("Batch withdrew tokens from marketplace to user2");
        
        // Verify final balances
        for (uint256 i = 0; i < ids.length; i++) {
            uint256 user2Balance = codSMGs.balanceOf(user2, ids[i]);
            uint256 marketplaceBalance = codSMGs.balanceOf(address(marketplace), ids[i]);
           
            console.log("Token ID:", ids[i]);
            console.log("  User2 balance:", user2Balance);
            console.log("  Marketplace balance:", marketplaceBalance);
            
            assertEq(user2Balance, withdrawAmounts[i]);
            assertEq(marketplaceBalance, transferAmounts[i] - withdrawAmounts[i]);
        }
        
        vm.stopPrank();
    }

    function testMixedOperations() public {
        console.log("=== Testing Mixed ERC721 and ERC1155 Operations ===");
        
        vm.startPrank(owner);
        
        // Mint both types of tokens
        uint256 apeTokenId = boredApe.mint(user1);
        codSMGs.mint(user1, codSMGs.MP5(), 10);
        
        vm.stopPrank();
        vm.startPrank(user1);
        
        // Send both to marketplace
        boredApe.safeTransferFrom(user1, address(marketplace), apeTokenId);
        codSMGs.safeTransferFrom(user1, address(marketplace), codSMGs.MP5(), 5, "");
        
        console.log("Sent both ERC721 and ERC1155 tokens to marketplace");
        
        vm.stopPrank();
        vm.startPrank(owner);
        
        // Withdraw both to user2
        marketplace.withdrawERC721(address(boredApe), apeTokenId, user2);
        marketplace.withdrawERC1155(address(codSMGs), codSMGs.MP5(), 3, user2);
        
        // Verify final ownership
        assertEq(boredApe.ownerOf(apeTokenId), user2);
        assertEq(codSMGs.balanceOf(user2, codSMGs.MP5()), 3);
        assertEq(codSMGs.balanceOf(address(marketplace), codSMGs.MP5()), 2);
        
        console.log("Successfully completed mixed operations test");
        
        vm.stopPrank();
    }

    function testOnlyOwnerRestrictions() public {
        vm.startPrank(owner);
        uint256 tokenId = boredApe.mint(address(marketplace));
        vm.stopPrank();
        
        // Try to withdraw as non-owner (should fail)
        vm.startPrank(user1);
        vm.expectRevert();
        marketplace.withdrawERC721(address(boredApe), tokenId, user1);
        vm.stopPrank();
        
        // Owner should be able to withdraw
        vm.startPrank(owner);
        marketplace.withdrawERC721(address(boredApe), tokenId, user1);
        assertEq(boredApe.ownerOf(tokenId), user1);
        vm.stopPrank();
    }
}
</file>

<file path="contracts/marketplace-contract/.gitignore">
# Compiler files
cache/
out/

# Ignores development broadcast logs
!/broadcast
/broadcast/*/31337/
/broadcast/**/dry-run/

# Docs
docs/

# Dotenv file
.env
</file>

<file path="contracts/marketplace-contract/foundry.toml">
[profile.default]
src = "src"
out = "out"
libs = ["lib"]

# See more config options https://github.com/foundry-rs/foundry/blob/master/crates/config/README.md#all-options
</file>

<file path="contracts/marketplace-contract/README.md">
## Foundry

**Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust.**

Foundry consists of:

-   **Forge**: Ethereum testing framework (like Truffle, Hardhat and DappTools).
-   **Cast**: Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data.
-   **Anvil**: Local Ethereum node, akin to Ganache, Hardhat Network.
-   **Chisel**: Fast, utilitarian, and verbose solidity REPL.

## Documentation

https://book.getfoundry.sh/

## Usage

### Build

```shell
$ forge build
```

### Test

```shell
$ forge test
```

### Format

```shell
$ forge fmt
```

### Gas Snapshots

```shell
$ forge snapshot
```

### Anvil

```shell
$ anvil
```

### Deploy

```shell
$ forge script script/Counter.s.sol:CounterScript --rpc-url <your_rpc_url> --private-key <your_private_key>
```

### Cast

```shell
$ cast <subcommand>
```

### Help

```shell
$ forge --help
$ anvil --help
$ cast --help
```
</file>

<file path="contracts/marketplace-contract/remappings.txt">
@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/
erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/
forge-std/=lib/forge-std/src/
halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/
openzeppelin-contracts/=lib/openzeppelin-contracts/
</file>

<file path="contracts/test-staking/src/RewardsDistributionRecipient.sol">
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@openzeppelin/contracts/access/Ownable.sol";

abstract contract RewardsDistributionRecipient is Ownable {
    address public rewardsDistribution;

    modifier onlyRewardsDistribution() {
        require(msg.sender == rewardsDistribution, "Not rewards distribution");
        _;
    }

    function setRewardsDistribution(address _rewardsDistribution) external onlyOwner {
        rewardsDistribution = _rewardsDistribution;
    }

    function notifyRewardAmount(uint256 reward) external virtual;
}
</file>

<file path="contracts/test-staking/.gitignore">
# Compiler files
cache/
out/

# Ignores development broadcast logs
!/broadcast
/broadcast/*/31337/
/broadcast/**/dry-run/

# Docs
docs/

# Dotenv file
.env
</file>

<file path="contracts/test-staking/foundry.toml">
[profile.default]
src = "src"
out = "out"
libs = ["lib"]

# See more config options https://github.com/foundry-rs/foundry/blob/master/crates/config/README.md#all-options
</file>

<file path="contracts/test-staking/README.md">
## Foundry

**Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust.**

Foundry consists of:

-   **Forge**: Ethereum testing framework (like Truffle, Hardhat and DappTools).
-   **Cast**: Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data.
-   **Anvil**: Local Ethereum node, akin to Ganache, Hardhat Network.
-   **Chisel**: Fast, utilitarian, and verbose solidity REPL.

## Documentation

https://book.getfoundry.sh/

## Usage

### Build

```shell
$ forge build
```

### Test

```shell
$ forge test
```

### Format

```shell
$ forge fmt
```

### Gas Snapshots

```shell
$ forge snapshot
```

### Anvil

```shell
$ anvil
```

### Deploy

```shell
$ forge script script/Counter.s.sol:CounterScript --rpc-url <your_rpc_url> --private-key <your_private_key>
```

### Cast

```shell
$ cast <subcommand>
```

### Help

```shell
$ forge --help
$ anvil --help
$ cast --help
```
</file>

<file path="contracts/test-staking/remappings.txt">
@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/
erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/
forge-std/=lib/openzeppelin-contracts/lib/forge-std/src/
halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/
openzeppelin-contracts/=lib/openzeppelin-contracts/
</file>

<file path="packages/database/.gitignore">
node_modules
# Keep environment variables out of version control
.env

/generated/prisma
</file>

<file path="packages/eslint-config-custom/library.js">
const { resolve } = require("node:path");

const project = resolve(process.cwd(), "tsconfig.json");

/*
 * This is a custom ESLint configuration for use with
 * typescript packages.
 *
 * This config extends the Vercel Engineering Style Guide.
 * For more information, see https://github.com/vercel/style-guide
 *
 */

module.exports = {
  extends: [
    "@vercel/style-guide/eslint/node",
    "@vercel/style-guide/eslint/typescript",
  ].map(require.resolve),
  parserOptions: {
    project,
  },
  globals: {
    React: true,
    JSX: true,
  },
  settings: {
    "import/resolver": {
      typescript: {
        project,
      },
    },
  },
  ignorePatterns: ["node_modules/", "dist/"],
};
</file>

<file path="packages/eslint-config-custom/nuxt.js">
const { resolve } = require("node:path");

const project = resolve(process.cwd(), "tsconfig.json");

/*
 * This is a custom ESLint configuration for use with
 * NuxtJs apps.
 *
 * This config extends the Vercel Engineering Style Guide.
 * For more information, see https://github.com/vercel/style-guide
 *
 */
module.exports = {
  extends: [
    "@nuxtjs/eslint-config-typescript",
    "@vercel/style-guide/eslint/node",
    "@vercel/style-guide/eslint/browser",
    "turbo",
  ].map(require.resolve),
  parserOptions: {
    sourceType: "module",
  },
  settings: {
    "import/resolver": {
      typescript: {
        project,
      },
    },
  },
  ignorePatterns: ["node_modules/", "dist/", ".eslintrc.cjs", "nuxt.config.ts"],
  rules: {
    "comma-dangle": "off",
    semi: "off",
    "no-undef": "off",
    // add specific rules configurations here
  },
};
</file>

<file path="packages/eslint-config-custom/package.json">
{
  "name": "eslint-config-custom",
  "license": "MIT",
  "version": "0.0.0",
  "private": true,
  "devDependencies": {
    "@nuxtjs/eslint-config-typescript": "^12.1.0",
    "@vercel/style-guide": "^5.2.0",
    "@vue/eslint-config-typescript": "^12.0.0",
    "eslint-config-turbo": "^2.0.0",
    "typescript": "5.5.4"
  }
}
</file>

<file path="packages/eslint-config-custom/README.md">
# `@turbo/eslint-config`

Collection of internal eslint configurations.
</file>

<file path="packages/eslint-config-custom/vue.js">
const { resolve } = require("node:path");

const project = resolve(process.cwd(), "tsconfig.json");

/*
 * This is a custom ESLint configuration for use with
 * internal that utilize VueJS.
 *
 * This config extends the Vercel Engineering Style Guide.
 * For more information, see https://github.com/vercel/style-guide
 *
 */

module.exports = {
  extends: [
    "@vercel/style-guide/eslint/browser",
    "@vue/eslint-config-typescript",
  ].map(require.resolve),
  parserOptions: {
    ecmaVersion: "latest",
  },
  settings: {
    "import/resolver": {
      typescript: {
        project,
      },
    },
  },
  ignorePatterns: ["node_modules/", "dist/", ".eslintrc.js"],

  rules: {
    "import/no-default-export": "off",
    "vue/multi-word-component-names": "off",
    // add specific rules configurations here
  },
};
</file>

<file path="packages/tsconfig/base.json">
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "compilerOptions": {
    "composite": false,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "inlineSources": false,
    "isolatedModules": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "preserveWatchOutput": true,
    "skipLibCheck": true,
    "strict": true,
    "strictNullChecks": true
  },
  "exclude": ["node_modules"]
}
</file>

<file path="packages/tsconfig/nuxt.json">
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": ["./base.json"]
}
</file>

<file path="packages/tsconfig/package.json">
{
  "name": "tsconfig",
  "version": "0.0.0",
  "private": true,
  "license": "MIT",
  "publishConfig": {
    "access": "public"
  },
  "devDependencies": {
    "@vue/tsconfig": "^0.5.1"
  }
}
</file>

<file path="packages/tsconfig/vue.json">
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": ["./base.json", "@vue/tsconfig/tsconfig.dom.json"]
}
</file>

<file path="packages/ui/src/assets/circles.svg">
<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" width="614" height="614">
  <defs xmlns="http://www.w3.org/2000/svg">
		<radialGradient id="radial" gradientUnits="userSpaceOnUse">
			<stop offset="0" stop-color="#fff"></stop>
			<stop offset="60%" stop-color="#fff" stop-opacity="0"></stop>
		</radialGradient>
	</defs>
	<circle cx="50" cy="50" r="25" stroke-width=".2" style="fill:none; stroke:rgba(255,255,255,.1);">
		<animate attributeName="opacity" values="1;0.1;0.1;1" dur="3s" begin="0.2s" repeatCount="indefinite"></animate>
	</circle>
  <circle cx="50" cy="50" r="25" stroke-width=".2" style="fill:url(#radial); fill-opacity:.1;">
		<animate attributeName="opacity" values="1;0.5;0.5;1" dur="3s" repeatCount="indefinite"></animate>
	</circle><circle cx="50" cy="50" r="45" stroke-width=".2" style="fill:none; stroke:rgba(255,255,255,.1);">
		<animate attributeName="opacity" values="1;0.1;0.1;1" dur="3s" begin="0.4s" repeatCount="indefinite"></animate>
	</circle>
</svg>
</file>

<file path="packages/ui/src/assets/next.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
</file>

<file path="packages/ui/src/assets/turborepo.svg">
<svg width="104" height="104" viewBox="0 0 104 104" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1_17)">
<path d="M26.0192 7C42.0962 -2.28203 61.9038 -2.28203 77.9808 7C94.0577 16.282 103.962 33.4359 103.962 52C103.962 70.5641 94.0577 87.718 77.9808 97C61.9038 106.282 42.0962 106.282 26.0192 97C9.94229 87.718 0.038475 70.5641 0.038475 52C0.038475 33.4359 9.94229 16.282 26.0192 7Z" fill="black" fill-opacity="0.64"/>
<path d="M26.0192 7C42.0962 -2.28203 61.9038 -2.28203 77.9808 7C94.0577 16.282 103.962 33.4359 103.962 52C103.962 70.5641 94.0577 87.718 77.9808 97C61.9038 106.282 42.0962 106.282 26.0192 97C9.94229 87.718 0.038475 70.5641 0.038475 52C0.038475 33.4359 9.94229 16.282 26.0192 7Z" fill="url(#paint0_linear_1_17)" fill-opacity="0.15"/>
<path d="M26.0192 7C42.0962 -2.28203 61.9038 -2.28203 77.9808 7C94.0577 16.282 103.962 33.4359 103.962 52C103.962 70.5641 94.0577 87.718 77.9808 97C61.9038 106.282 42.0962 106.282 26.0192 97C9.94229 87.718 0.038475 70.5641 0.038475 52C0.038475 33.4359 9.94229 16.282 26.0192 7Z" fill="black" fill-opacity="0.5"/>
<path d="M0.538475 52C0.538475 33.6146 10.347 16.6257 26.2692 7.43301C42.1915 -1.7597 61.8085 -1.7597 77.7308 7.43301C93.653 16.6257 103.462 33.6146 103.462 52C103.462 70.3854 93.653 87.3743 77.7308 96.567C61.8085 105.76 42.1915 105.76 26.2692 96.567C10.347 87.3743 0.538475 70.3854 0.538475 52Z" stroke="url(#paint1_radial_1_17)" stroke-opacity="0.15"/>
<path d="M0.538475 52C0.538475 33.6146 10.347 16.6257 26.2692 7.43301C42.1915 -1.7597 61.8085 -1.7597 77.7308 7.43301C93.653 16.6257 103.462 33.6146 103.462 52C103.462 70.3854 93.653 87.3743 77.7308 96.567C61.8085 105.76 42.1915 105.76 26.2692 96.567C10.347 87.3743 0.538475 70.3854 0.538475 52Z" stroke="url(#paint2_linear_1_17)" stroke-opacity="0.5"/>
<path d="M51.8878 37.9262C44.1892 37.9262 37.9258 44.1896 37.9258 51.8882C37.9258 59.5868 44.1892 65.8502 51.8878 65.8502C59.5864 65.8502 65.8498 59.5868 65.8498 51.8882C65.8498 44.1896 59.5864 37.9262 51.8878 37.9262ZM51.8878 59.1136C47.8968 59.1136 44.6624 55.8792 44.6624 51.8882C44.6624 47.8972 47.8968 44.6628 51.8878 44.6628C55.8788 44.6628 59.1132 47.8972 59.1132 51.8882C59.1132 55.8792 55.8788 59.1136 51.8878 59.1136Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M53.0581 35.633V30.42C64.3889 31.0258 73.3901 40.4066 73.3901 51.8882C73.3901 63.3698 64.3889 72.748 53.0581 73.3564V68.1434C61.5029 67.5402 68.1901 60.4838 68.1901 51.8882C68.1901 43.2926 61.5029 36.2362 53.0581 35.633ZM39.5745 62.5482C37.3359 59.9638 35.8929 56.6722 35.6355 53.0582H30.4199C30.6903 58.1152 32.7131 62.7042 35.8825 66.2376L39.5719 62.5482H39.5745ZM50.7182 73.3564V68.1434C47.1016 67.886 43.81 66.4456 41.2256 64.2044L37.5362 67.8938C41.0722 71.0658 45.6612 73.086 50.7156 73.3564H50.7182Z" fill="url(#paint3_linear_1_17)"/>
</g>
<defs>
<linearGradient id="paint0_linear_1_17" x1="52" y1="-8" x2="52" y2="112" gradientUnits="userSpaceOnUse">
<stop stop-color="#3286F1"/>
<stop offset="1" stop-color="#C43AC4"/>
</linearGradient>
<radialGradient id="paint1_radial_1_17" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(52 -7.99999) rotate(90) scale(154.286 154.286)">
<stop stop-color="white"/>
<stop offset="1" stop-color="white"/>
</radialGradient>
<linearGradient id="paint2_linear_1_17" x1="-8" y1="-8" x2="18.25" y2="40.75" gradientUnits="userSpaceOnUse">
<stop stop-color="white"/>
<stop offset="1" stop-color="white" stop-opacity="0"/>
</linearGradient>
<linearGradient id="paint3_linear_1_17" x1="53.9007" y1="33.4389" x2="32.7679" y2="54.5717" gradientUnits="userSpaceOnUse">
<stop stop-color="#0096FF"/>
<stop offset="1" stop-color="#FF1E56"/>
</linearGradient>
<clipPath id="clip0_1_17">
<rect width="104" height="104" fill="white"/>
</clipPath>
</defs>
</svg>
</file>

<file path="packages/ui/src/assets/vercel.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 283 64"><path fill="black" d="M141 16c-11 0-19 7-19 18s9 18 20 18c7 0 13-3 16-7l-7-5c-2 3-6 4-9 4-5 0-9-3-10-7h28v-3c0-11-8-18-19-18zm-9 15c1-4 4-7 9-7s8 3 9 7h-18zm117-15c-11 0-19 7-19 18s9 18 20 18c6 0 12-3 16-7l-8-5c-2 3-5 4-8 4-5 0-9-3-11-7h28l1-3c0-11-8-18-19-18zm-10 15c2-4 5-7 10-7s8 3 9 7h-19zm-39 3c0 6 4 10 10 10 4 0 7-2 9-5l8 5c-3 5-9 8-17 8-11 0-19-7-19-18s8-18 19-18c8 0 14 3 17 8l-8 5c-2-3-5-5-9-5-6 0-10 4-10 10zm83-29v46h-9V5h9zM37 0l37 64H0L37 0zm92 5-27 48L74 5h10l18 30 17-30h10zm59 12v10l-3-1c-6 0-10 4-10 10v15h-9V17h9v9c0-5 6-9 13-9z"/></svg>
</file>

<file path="packages/ui/src/card.vue">
<script lang="ts" setup>
const props = defineProps<{
  class?: string;
  title: string;
  href: string;
}>();
</script>

<template>
  <a
    :class="props.class"
    :href="`${props.href}?utm_source=create-turbo&utm_medium=basic&utm_campaign=create-turbo`"
    rel="noopener noreferrer"
    target="_blank"
  >
    <h2>{{ props.title }} <span>-&gt;</span></h2>

    <p><slot /></p>
  </a>
</template>
</file>

<file path="packages/ui/src/gradient.vue">
<script setup lang="ts">
const props = withDefaults(
  defineProps<{
    small?: boolean;
    conic?: boolean;
    class?: string;
  }>(),
  {},
);
</script>

<template>
  <span
    :class="
      [
        'gradient',
        conic ? 'glowConic' : undefined,
        small ? 'gradientSmall' : 'gradientLarge',
        props.class,
      ]
        .filter(Boolean)
        .join(' ')
    "
  />
</template>
</file>

<file path="packages/ui/src/page.vue">
<script setup lang="ts">
import Card from "./card.vue";
import Gradient from "./gradient.vue";

const LINKS = [
  {
    title: "Docs",
    href: "https://turborepo.com/docs",
    description: "Find in-depth information about Turborepo features and API.",
  },
  {
    title: "Learn",
    href: "https://turborepo.com/docs/handbook",
    description: "Learn more about monorepos with our handbook.",
  },
  {
    title: "Templates",
    href: "https://turborepo.com/docs/getting-started/from-example",
    description: "Choose from over 15 examples and deploy with a single click.",
  },
  {
    title: "Deploy",
    href: "https://vercel.com/new",
    description:
      "Instantly deploy your Turborepo to a shareable URL with Vercel.",
  },
];

const props = defineProps<{
  appName: string;
}>();
</script>

<template>
  <main class="main">
    <div class="description">
      <p>
        examples/vue-nuxt&nbsp;
        <code class="code">{{ props.appName }}</code>
      </p>

      <div>
        <a
          href="https://vercel.com?utm_source=create-turbo&utm_medium=basic&utm_campaign=create-turbo"
          rel="noopener noreferrer"
          target="_blank"
        >
          By{{ " " }}
          <img
            alt="Vercel Logo"
            class="vercelLogo"
            height="24"
            priority
            src="./assets/vercel.svg"
            width="100"
          />
        </a>
      </div>
    </div>

    <div class="hero">
      <div class="heroContent">
        <div class="logos">
          <div class="circles">
            <img
              alt="Turborepo"
              height="614"
              src="./assets/circles.svg"
              width="614"
            />
          </div>

          <div class="logoGradientContainer">
            <Gradient class="logoGradient" :conic="true" :small="true" />
          </div>

          <div class="logo">
            <img
              alt=""
              height="120"
              priority
              src="./assets/turborepo.svg"
              width="120"
            />
          </div>
        </div>
        <Gradient class="backgroundGradient" conic />
        <div class="turborepoWordmarkContainer">
          <svg
            class="turborepoWordmark"
            viewBox="0 0 506 50"
            width="200"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Turborepo logo</title>
            <path
              d="M53.7187 12.0038V1.05332H0.945312V12.0038H20.8673V48.4175H33.7968V12.0038H53.7187Z"
            />
            <path
              d="M83.5362 49.1431C99.764 49.1431 108.67 40.8972 108.67 27.3081V1.05332H95.7401V26.0547C95.7401 33.6409 91.7821 37.9287 83.5362 37.9287C75.2904 37.9287 71.3324 33.6409 71.3324 26.0547V1.05332H58.4029V27.3081C58.4029 40.8972 67.3084 49.1431 83.5362 49.1431Z"
            />
            <path
              d="M128.462 32.7174H141.325L151.484 48.4175H166.327L154.848 31.3321C161.313 29.0232 165.271 23.8778 165.271 16.8853C165.271 6.72646 157.685 1.05332 146.141 1.05332H115.532V48.4175H128.462V32.7174ZM128.462 22.4925V11.8719H145.481C150.033 11.8719 152.54 13.8509 152.54 17.2152C152.54 20.3816 150.033 22.4925 145.481 22.4925H128.462Z"
            />
            <path
              d="M171.287 48.4175H205.128C215.683 48.4175 221.752 43.404 221.752 35.0262C221.752 29.419 218.189 25.593 213.967 23.8778C216.87 22.4925 220.432 19.1942 220.432 13.9828C220.432 5.60502 214.495 1.05332 204.006 1.05332H171.287V48.4175ZM183.689 19.59V11.542H202.687C206.249 11.542 208.228 12.9273 208.228 15.566C208.228 18.2047 206.249 19.59 202.687 19.59H183.689ZM183.689 29.2871H203.875C207.371 29.2871 209.284 31.0022 209.284 33.5749C209.284 36.1476 207.371 37.8628 203.875 37.8628H183.689V29.2871Z"
            />
            <path
              d="M253.364 0.261719C236.806 0.261719 224.866 10.6185 224.866 24.7354C224.866 38.8523 236.806 49.2091 253.364 49.2091C269.922 49.2091 281.796 38.8523 281.796 24.7354C281.796 10.6185 269.922 0.261719 253.364 0.261719ZM253.364 11.4761C262.072 11.4761 268.602 16.6215 268.602 24.7354C268.602 32.8493 262.072 37.9947 253.364 37.9947C244.656 37.9947 238.126 32.8493 238.126 24.7354C238.126 16.6215 244.656 11.4761 253.364 11.4761Z"
            />
            <path
              d="M300.429 32.7174H313.292L323.451 48.4175H338.294L326.815 31.3321C333.28 29.0232 337.238 23.8778 337.238 16.8853C337.238 6.72646 329.652 1.05332 318.108 1.05332H287.499V48.4175H300.429V32.7174ZM300.429 22.4925V11.8719H317.448C322 11.8719 324.507 13.8509 324.507 17.2152C324.507 20.3816 322 22.4925 317.448 22.4925H300.429Z"
            />
            <path
              d="M343.254 1.05332V48.4175H389.299V37.467H355.92V29.7489H385.539V19.0622H355.92V12.0038H389.299V1.05332H343.254Z"
            />
            <path
              d="M408.46 33.3111H425.677C437.221 33.3111 444.807 27.7699 444.807 17.2152C444.807 6.59453 437.221 1.05332 425.677 1.05332H395.53V48.4175H408.46V33.3111ZM408.46 22.5585V11.8719H424.951C429.569 11.8719 432.076 13.8509 432.076 17.2152C432.076 20.5135 429.569 22.5585 424.951 22.5585H408.46Z"
            />
            <path
              d="M476.899 0.261719C460.341 0.261719 448.401 10.6185 448.401 24.7354C448.401 38.8523 460.341 49.2091 476.899 49.2091C493.456 49.2091 505.33 38.8523 505.33 24.7354C505.33 10.6185 493.456 0.261719 476.899 0.261719ZM476.899 11.4761C485.606 11.4761 492.137 16.6215 492.137 24.7354C492.137 32.8493 485.606 37.9947 476.899 37.9947C468.191 37.9947 461.66 32.8493 461.66 24.7354C461.66 16.6215 468.191 11.4761 476.899 11.4761Z"
            />
          </svg>
        </div>
      </div>
    </div>

    <div class="grid">
      <Card
        v-for="{ title, href, description } in LINKS"
        class="card"
        :href="href"
        :key="title"
        :title="title"
      >
        {{ description }}
      </Card>
    </div>
  </main>
</template>

<style>
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");

:root {
  --max-width: 1100px;
  --border-radius: 12px;
  --font-mono: ui-monospace, Menlo, Monaco, "Cascadia Mono", "Segoe UI Mono",
    "Roboto Mono", "Oxygen Mono", "Ubuntu Monospace", "Source Code Pro",
    "Fira Mono", "Droid Sans Mono", "Courier New", monospace;

  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 0, 0, 0;
  --background-end-rgb: 0, 0, 0;

  --callout-rgb: 20, 20, 20;
  --callout-border-rgb: 108, 108, 108;
  --card-rgb: 100, 100, 100;
  --card-border-rgb: 200, 200, 200;

  --glow-conic: conic-gradient(
    from 180deg at 50% 50%,
    #2a8af6 0deg,
    #a853ba 180deg,
    #e92a67 360deg
  );
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: "Inter", sans-serif;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

a {
  color: inherit;
  text-decoration: none;
}

.main {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 6rem;
  min-height: 100vh;
}

.vercelLogo {
  filter: invert(1);
}

.description {
  display: inherit;
  justify-content: inherit;
  align-items: inherit;
  font-size: 0.85rem;
  max-width: var(--max-width);
  width: 100%;
  z-index: 2;
  font-family: var(--font-mono);
}

.description a {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
}

.description p {
  position: relative;
  margin: 0;
  padding: 1rem;
  background-color: rgba(var(--callout-rgb), 0.5);
  border: 1px solid rgba(var(--callout-border-rgb), 0.3);
  border-radius: var(--border-radius);
}

.code {
  font-weight: 700;
  font-family: var(--font-mono);
}

.hero {
  display: flex;
  position: relative;
  place-items: center;
}

.heroContent {
  display: flex;
  position: relative;
  z-index: 0;
  padding-bottom: 4rem;
  flex-direction: column;
  gap: 2rem;
  justify-content: space-between;
  align-items: center;
  width: auto;
  font-family: system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  padding-top: 48px;

  @media (min-width: 768px) {
    padding-top: 4rem;
    padding-bottom: 6rem;
  }
  @media (min-width: 1024px) {
    padding-top: 5rem;
    padding-bottom: 8rem;
  }
}

.logos {
  display: flex;
  z-index: 50;
  justify-content: center;
  align-items: center;
  width: 100%;
}

.grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(25%, auto));
  max-width: 100%;
  width: var(--max-width);
}

.card {
  padding: 1rem 1.2rem;
  border-radius: var(--border-radius);
  background: rgba(var(--card-rgb), 0);
  border: 1px solid rgba(var(--card-border-rgb), 0);
  transition:
    background 200ms,
    border 200ms;
}

.card span {
  display: inline-block;
  transition: transform 200ms;
}

.card h2 {
  font-weight: 600;
  margin-bottom: 0.7rem;
}

.card p {
  margin: 0;
  opacity: 0.6;
  font-size: 0.9rem;
  line-height: 1.5;
  max-width: 30ch;
}

@media (prefers-reduced-motion) {
  .card:hover span {
    transform: none;
  }
}

/* Mobile */
@media (max-width: 700px) {
  .content {
    padding: 4rem;
  }

  .grid {
    grid-template-columns: 1fr;
    margin-bottom: 120px;
    max-width: 320px;
    text-align: center;
  }

  .card {
    padding: 1rem 2.5rem;
  }

  .card h2 {
    margin-bottom: 0.5rem;
  }

  .center {
    padding: 8rem 0 6rem;
  }

  .center::before {
    transform: none;
    height: 300px;
  }

  .description {
    font-size: 0.8rem;
  }

  .description a {
    padding: 1rem;
  }

  .description p,
  .description div {
    display: flex;
    justify-content: center;
    position: fixed;
    width: 100%;
  }

  .description p {
    align-items: center;
    inset: 0 0 auto;
    padding: 2rem 1rem 1.4rem;
    border-radius: 0;
    border: none;
    border-bottom: 1px solid rgba(var(--callout-border-rgb), 0.25);
    background: linear-gradient(
      to bottom,
      rgba(var(--background-start-rgb), 1),
      rgba(var(--callout-rgb), 0.5)
    );
    background-clip: padding-box;
    backdrop-filter: blur(24px);
  }

  .description div {
    align-items: flex-end;
    pointer-events: none;
    inset: auto 0 0;
    padding: 2rem;
    height: 200px;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      rgb(var(--background-end-rgb)) 40%
    );
    z-index: 1;
  }
}

/* Enable hover only on non-touch devices */
@media (hover: hover) and (pointer: fine) {
  .card:hover {
    background: rgba(var(--card-rgb), 0.1);
    border: 1px solid rgba(var(--card-border-rgb), 0.15);
  }

  .card:hover span {
    transform: translateX(4px);
  }
}

.circles {
  position: absolute;
  min-width: 614px;
  min-height: 614px;
}

.logo {
  z-index: 50;
  width: 120px;
  height: 120px;
}

.logoGradientContainer {
  display: flex;
  position: absolute;
  z-index: 50;
  justify-content: center;
  align-items: center;
  width: 16rem;
  height: 16rem;
}

.turborepoWordmarkContainer {
  display: flex;
  z-index: 50;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
  flex-direction: column;
  gap: 1.25rem;
  justify-content: center;
  align-items: center;
  text-align: center;

  @media (min-width: 1024px) {
    gap: 1.5rem;
  }
}

.turborepoWordmark {
  width: 160px;
  fill: white;

  @media (min-width: 768px) {
    width: 200px;
  }
}

.code {
  font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  font-weight: 700;
}

/* Tablet and Smaller Desktop */
@media (min-width: 701px) and (max-width: 1120px) {
  .grid {
    grid-template-columns: repeat(2, 50%);
  }
}

/* Gradients */
.gradient {
  position: absolute;
  mix-blend-mode: normal;
  will-change: filter;
}

.gradientSmall {
  filter: blur(32px);
}

.gradientLarge {
  filter: blur(75px);
}

.glowConic {
  background-image: var(--glow-conic);
}

.logoGradient {
  opacity: 0.9;
  width: 120px;
  height: 120px;
}

.backgroundGradient {
  top: -500px;
  width: 1000px;
  height: 1000px;
  opacity: 0.15;
}
</style>
</file>

<file path="packages/ui/.eslintrc.js">
module.exports = {
  root: true,
  extends: ["plugin:vue/vue3-essential", "custom/vue"],
};
</file>

<file path="packages/ui/index.ts">
import Card from "./src/card.vue";
import Gradient from "./src/gradient.vue";
import Page from "./src/page.vue";

export { Card, Gradient, Page };
</file>

<file path="packages/ui/package.json">
{
  "name": "ui",
  "version": "0.0.0",
  "private": true,
  "main": "./index.ts",
  "types": "./index.ts",
  "scripts": {
    "lint": "eslint ."
  },
  "devDependencies": {
    "eslint-config-custom": "workspace:*",
    "tsconfig": "workspace:*",
    "vue": "^3.4.21"
  }
}
</file>

<file path="packages/ui/tsconfig.json">
{
  "extends": "tsconfig/vue.json",
  "include": ["."],
  "exclude": ["dist", "build", "node_modules"]
}
</file>

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
node_modules
.pnp
.pnp.js

# testing
coverage

# build outputs
.nuxt/
.output/
out/
build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# local env files
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# turbo
.turbo

# vercel
.vercel
</file>

<file path=".npmrc">
auto-install-peers = true
</file>

<file path="landing-page-insp.md">
https://aave.com/ v3
</file>

<file path="apis/offchain-worker/.gitignore">
# prod
dist/

# dev
.yarn/
!.yarn/releases
.vscode/*
!.vscode/launch.json
!.vscode/*.code-snippets
.idea/workspace.xml
.idea/usage.statistics.xml
.idea/shelf

# deps
node_modules/
.wrangler

# env
.env
.env.production
.dev.vars

# logs
logs/
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

# misc
.DS_Store

/src/generated/prisma
</file>

<file path="apps/web/app/components/swap/NumericalInput.vue">
<template>
  <div
    class="flex justify-between items-center gap-2 border border-default rounded-lg w-full p-2"
  >
    <div>
      <p>{{ fieldType }}</p>
      <UInput
        color="neutral"
        variant="none"
        type="number"
        class="text-2xl font-medium text-right w-full pr-8"
        placeholder="0"
        :model-value="modelValue"
        @update:model-value="handleInput"
      />
      <p>0.00</p>
    </div>
    <SwapTokenSelector
      :model-value="selectedToken"
      :disabled-tokens="disabledTokens"
      @update:model-value="handleTokenChange"
    />
  </div>
</template>

<script setup lang="ts">
import type { Token } from "~/utils/tokens";

const props = defineProps<{
  modelValue: string;
  fieldType: "from" | "to";
  disabled?: boolean;
  loading?: boolean;
  disabledTokens?: string[];
  selectedToken?: Token;
}>();

const emit = defineEmits<{
  "update:modelValue": [value: string];
  "update:selectedToken": [token: Token | undefined];
  input: [value: string];
}>();


const fiatValue = ref("0.00");

const handleInput = (value: string) => {
  if (!props.disabled) {
    emit("update:modelValue", value);
    emit("input", value);
  }

  // Calculate fiat value (mock implementation)
  if (value && props.selectedToken && !props.loading) {
    const mockUsdRate = props.selectedToken.type === "fiat" ? 0.0012 : 1;
    fiatValue.value = (parseFloat(value) * mockUsdRate).toFixed(2);
  } else {
    fiatValue.value = "0.00";
  }
};

const handleTokenChange = (token: Token | undefined) => {
  emit("update:selectedToken", token);
};

// Watch for external changes
watch(
  () => props.modelValue,
  (newValue) => {
    if (newValue && props.selectedToken && !props.loading) {
      const mockUsdRate = props.selectedToken.type === "fiat" ? 0.0012 : 1;
      fiatValue.value = (parseFloat(newValue) * mockUsdRate).toFixed(2);
    } else {
      fiatValue.value = "0.00";
    }
  }
);

watch(
  () => props.loading,
  (isLoading) => {
    if (isLoading) {
      fiatValue.value = "0.00";
    }
  }
);
</script>
</file>

<file path="apps/web/app/components/TextField.vue">
<script setup lang="ts">
/**
 * TextField Component for Nuxt.js with Nuxt UI
 *
 * A versatile input component that supports text, number, and percent input types
 * with validation, icons, units, and multiple styling variants.
 *
 * Features:
 * - Multiple input types (text, number, percent)
 * - Regex-based validation for numeric inputs
 * - Icon support using Nuxt Icon
 * - Unit suffix display
 * - Error state styling
 * - Decimal precision control for numbers
 * - Responsive design with Tailwind CSS
 */

interface Props {
	/** The input type - determines validation and behavior */
	type?: "text" | "number" | "percent";
	/** Current input value */
	modelValue?: string;
	/** Visual variant of the input */
	variant?: "default" | "naked" | "outline";
	/** Size variant */
	size?: "sm" | "default";
	/** Whether the input is in an error state */
	isError?: boolean;
	/** Icon name (Nuxt Icon compatible) */
	icon?: string;
	/** Unit to display after the input */
	unit?: string;
	/** Maximum decimal places for number type */
	maxDecimals?: number;
	/** Input ID */
	id?: string;
}

interface Emits {
	/** Emitted when the input value changes */
	(e: "update:modelValue" | "valueChange", value: string): void;
	/** Standard input change event */
	(e: "change", event: Event): void;
}

// Props with defaults
const props = withDefaults(defineProps<Props>(), {
	type: "text",
	modelValue: "",
	variant: "default",
	size: "default",
	isError: false,
	maxDecimals: undefined,
});

// Emits
const emit = defineEmits<Emits>();

// Template ref
const inputRef = ref<HTMLInputElement>();

// Regex for numeric validation - matches digits and escaped decimal points
const inputRegex = /^\d*(?:\\[.])?\d*$/;

/**
 * Escapes special regex characters in a string
 */
const escapeRegExp = (string: string): string =>
	string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");

/**
 * Type guard functions for better type safety
 */
const isTypeText = (type: string): type is "text" => type === "text";
const isTypeNumber = (type: string): type is "number" => type === "number";
const isTypePercent = (type: string): type is "percent" => type === "percent";

/**
 * Computed properties for input attributes based on type
 */
const computedPlaceholder = computed(() => {
	if (isTypeNumber(props.type)) return "0.0";
	if (isTypePercent(props.type)) return "0";
	return undefined;
});

const computedPattern = computed(() => {
	if (isTypePercent(props.type)) return "^[0-9]*$";
	return undefined;
});

const computedInputMode = computed(() => {
	if (isTypePercent(props.type)) return "decimal";
	return undefined;
});

const computedMaxLength = computed(() => {
	if (isTypePercent(props.type)) return 3;
	return undefined;
});

/**
 * Computed classes for the input element
 */
const inputClasses = computed(() => {
	const baseClasses = [
		"truncate",
		"appearance-none",
		"text-gray-600",
		"dark:text-gray-400",
		"w-full",
		"!ring-0",
		"!outline-none",
		"flex-grow",
		"flex-1",
	];

	// Size classes
	if (props.size === "sm") {
		baseClasses.push("min-h-[36px]", "h-[36px]", "py-1");
	} else {
		baseClasses.push("min-h-[40px]", "h-[40px]", "py-2");
	}

	// Variant classes
	if (props.variant === "default") {
		baseClasses.push(
			"border-0",
			"flex",
			"items-center",
			"px-3",
			"rounded-md",
			"block",
			"bg-gray-100",
			"dark:bg-gray-800",
			"group-hover:bg-gray-200",
			"dark:group-hover:bg-gray-700",
			"group-focus:bg-blue-50",
			"dark:group-focus:bg-blue-900/20",
		);
	} else if (props.variant === "naked") {
		baseClasses.push("border-0", "bg-transparent");
	} else if (props.variant === "outline") {
		baseClasses.push(
			"bg-gray-100",
			"dark:bg-gray-800",
			"flex",
			"items-center",
			"px-3",
			"rounded-lg",
			"block",
			"border",
			"border-gray-200",
			"dark:border-gray-700",
			"group-hover:border-gray-400",
			"dark:group-hover:border-gray-500",
			"group-focus:border-gray-500",
			"dark:group-focus:border-gray-400",
			"hover:border-gray-400",
			"dark:hover:border-gray-500",
			"focus-within:border-gray-500",
			"dark:focus-within:border-gray-400",
		);
	}

	// Error state
	if (props.isError) {
		baseClasses.push(
			"bg-red-50",
			"dark:bg-red-900/20",
			"text-red-600",
			"dark:text-red-400",
		);
	}

	// Icon padding
	if (props.icon) {
		baseClasses.push("pl-[40px]");
	}

	// Unit styling
	if (props.unit) {
		baseClasses.push("rounded-r-none", "!border-r-0");
	}

	return baseClasses;
});

/**
 * Computed classes for the unit display
 */
const unitClasses = computed(() => {
	const baseClasses = [
		"text-gray-600",
		"dark:text-gray-400",
		"!w-[unset]",
		"px-3",
		"flex",
		"items-center",
	];

	// Size classes
	if (props.size === "sm") {
		baseClasses.push("min-h-[36px]", "h-[36px]", "py-1");
	} else {
		baseClasses.push("min-h-[40px]", "h-[40px]", "py-2");
	}

	// Variant classes
	if (props.variant === "default") {
		baseClasses.push(
			"border-0",
			"rounded-md",
			"rounded-l-none",
			"bg-gray-100",
			"dark:bg-gray-800",
			"group-hover:bg-gray-200",
			"dark:group-hover:bg-gray-700",
			"group-focus:bg-blue-50",
			"dark:group-focus:bg-blue-900/20",
		);
	} else if (props.variant === "outline") {
		baseClasses.push(
			"bg-gray-100",
			"dark:bg-gray-800",
			"rounded-lg",
			"rounded-l-none",
			"border",
			"border-l-0",
			"border-gray-200",
			"dark:border-gray-700",
		);
	}

	// Error state
	if (props.isError) {
		baseClasses.push(
			"bg-red-50",
			"dark:bg-red-900/20",
			"text-red-600",
			"dark:text-red-400",
		);
	}

	return baseClasses;
});

/**
 * Handles input events with validation based on type
 */
const handleInput = (event: Event) => {
	const target = event.target as HTMLInputElement;
	const nextUserInput = target.value;

	if (typeof nextUserInput === "undefined") {
		return;
	}

	let validatedValue = nextUserInput;

	if (isTypeNumber(props.type)) {
		// Replace commas with dots for decimal input
		const val = nextUserInput.replace(/,/g, ".");

		if (val === "") {
			validatedValue = "";
			emit("valueChange", "");
		} else if (inputRegex.test(escapeRegExp(val))) {
			// Check decimal places if maxDecimals is specified
			if (props.maxDecimals && val.includes(".")) {
				const [, decimals] = val.split(".");
				if (decimals && decimals.length <= props.maxDecimals) {
					validatedValue = val;
					emit("valueChange", val);
				} else {
					// Don't update if exceeds max decimals
					return;
				}
			} else {
				validatedValue = val;
				emit("valueChange", val);
			}
		} else {
			// Invalid input, don't update
			return;
		}
	} else if (isTypeText(props.type)) {
		validatedValue = nextUserInput;
		emit("valueChange", nextUserInput);
	} else if (isTypePercent(props.type)) {
		// Remove commas and percent signs
		const cleanInput = nextUserInput.replace(/,/g, ".").replace(/%/g, "");

		if (cleanInput === "" || inputRegex.test(escapeRegExp(cleanInput))) {
			validatedValue = cleanInput;
			emit("valueChange", cleanInput);
		} else {
			// Invalid input, don't update
			return;
		}
	}

	emit("update:modelValue", validatedValue);
};

/**
 * Handles change events
 */
const handleChange = (event: Event) => {
	emit("change", event);
};

/**
 * Expose the input ref for parent components
 */
defineExpose({
	inputRef,
});
</script>

<template>
	<div class="relative flex items-center justify-between w-full group">
		<!-- Icon -->
		<Icon v-if="icon" :name="icon" class="absolute w-4 h-4 left-3 z-10" />

		<!-- Input Field -->
		<input
			ref="inputRef"
			:value="modelValue"
			:class="inputClasses"
			:placeholder="computedPlaceholder"
			:pattern="computedPattern"
			:inputmode="computedInputMode"
			:maxlength="computedMaxLength"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"
			autocomplete="off"
			v-bind="$attrs"
			@input="handleInput"
			@change="handleChange" />

		<!-- Unit Display -->
		<div v-if="unit" :class="unitClasses">
			{{ unit }}
		</div>
	</div>
</template>
</file>

<file path="apps/web/app/components/ThemeToggle.vue">
<script setup lang="ts">
const colorMode = useColorMode()

const nextTheme = computed(() => (colorMode.value === 'dark' ? 'light' : 'dark'))

const switchTheme = () => {
  colorMode.preference = nextTheme.value
}

const startViewTransition = (event: MouseEvent) => {
  if (!document.startViewTransition) {
    switchTheme()
    return
  }

  const x = event.clientX
  const y = event.clientY
  const endRadius = Math.hypot(
    Math.max(x, window.innerWidth - x),
    Math.max(y, window.innerHeight - y)
  )

  const transition = document.startViewTransition(() => {
    switchTheme()
  })

  transition.ready.then(() => {
    const duration = 600
    document.documentElement.animate(
      {
        clipPath: [
          `circle(0px at ${x}px ${y}px)`,
          `circle(${endRadius}px at ${x}px ${y}px)`
        ]
      },
      {
        duration: duration,
        easing: 'cubic-bezier(.76,.32,.29,.99)',
        pseudoElement: '::view-transition-new(root)'
      }
    )
  })
}
</script>

<template>
  <ClientOnly>
    <UButton
      :aria-label="`Switch to ${nextTheme} mode`"
      :icon="`i-lucide-${nextTheme === 'dark' ? 'sun' : 'moon'}`"
      color="neutral"
      variant="ghost"
      size="sm"
      class="rounded-full"
      @click="startViewTransition"
    />
    <template #fallback>
      <div class="size-4" />
    </template>
  </ClientOnly>
</template>

<style>
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-new(root) {
  z-index: 9999;
}
::view-transition-old(root) {
  z-index: 1;
}
</style>
</file>

<file path="apps/web/app/utils/pool.ts">
import type { Address } from "viem";
import { findToken, type Token } from "./tokens";
import { SUPPORTED_CHAINS } from "./reown-config";

export interface Pool {
	poolAddress: Address;
	chainId: SUPPORTED_CHAINS;
	token: Token;
	volume: number;
	fees: number;
	tvl: number;
	apr: number;
	type: "fiat" | "stablecoin";
}

// Mock pool data based on your tokens
export const pools = ref<Pool[]>([
	{
		poolAddress: "0xBaseXngnPoolAddress" as Address,
		chainId: SUPPORTED_CHAINS.BASE,
		token: findToken(
			"0x1111111111111111111111111111111111111111",
			SUPPORTED_CHAINS.BASE,
		)!,
		volume: 1000000,
		fees: 5000,
		tvl: 3000000,
		apr: 10.0,
		type: "fiat", // xNGN is minted when user deposits NGN
	},
	{
		poolAddress: "0xCeloXngnPoolAddress" as Address,
		chainId: SUPPORTED_CHAINS.CELO,
		token: findToken(
			"0x3333333333333333333333333333333333333333",
			SUPPORTED_CHAINS.CELO,
		)!,
		volume: 800000,
		fees: 4000,
		tvl: 2000000,
		apr: 9.5,
		type: "fiat", // xNGN is minted when user deposits NGN
	},
	{
		poolAddress: "0xBaseUsdcPoolAddress" as Address, // TODO: replace with actual deployed pool address
		chainId: SUPPORTED_CHAINS.BASE,
		token: findToken(
			"0x4444444444444444444444444444444444444444",
			SUPPORTED_CHAINS.BASE,
		)!,
		volume: 2250000,
		fees: 6750,
		tvl: 8500000,
		apr: 12.5,
		type: "stablecoin",
	},
	{
		poolAddress: "0xCeloUsdcPoolAddress" as Address, // TODO: replace with actual deployed pool address
		chainId: SUPPORTED_CHAINS.CELO,
		token: findToken(
			"0x6666666666666666666666666666666666666666",
			SUPPORTED_CHAINS.CELO,
		)!,
		volume: 1200000,
		fees: 3600,
		tvl: 4000000,
		apr: 11.0,
		type: "stablecoin",
	},
]);
</file>

<file path="apps/web/.env.example">
SUPABASE_URL=""
SUPABASE_KEY=""
</file>

<file path="apps/web/.gitignore">
# Nuxt dev/build outputs
.output
.data
.nuxt
.nitro
.cache
dist

# Node dependencies
node_modules

# Logs
logs
*.log

# Misc
.DS_Store
.fleet
.idea

# Local env files
.env
.env.*
!.env.example
</file>

<file path="apps/web/README.md">
# Nuxt UI Minimal Starter

Look at [Nuxt docs](https://nuxt.com/docs/getting-started/introduction) and [Nuxt UI docs](https://ui.nuxt.com) to learn more.

## Setup

Make sure to install the dependencies:

```bash
# npm
npm install

# pnpm
pnpm install

# yarn
yarn install

# bun
bun install
```

## Development Server

Start the development server on `http://localhost:3000`:

```bash
# npm
npm run dev

# pnpm
pnpm run dev

# yarn
yarn dev

# bun
bun run dev
```

## Production

Build the application for production:

```bash
# npm
npm run build

# pnpm
pnpm run build

# yarn
yarn build

# bun
bun run build
```

Locally preview production build:

```bash
# npm
npm run preview

# pnpm
pnpm run preview

# yarn
yarn preview

# bun
bun run preview
```

Check out the [deployment documentation](https://nuxt.com/docs/getting-started/deployment) for more information.

# Guestbook Feature

The guestbook allows visitors to sign your website with their name, message, Twitter username, and a personalized signature drawn using the drawing pad. All entries are stored in Cloudflare R2 storage.

## Features

- Form with validation for name, comment, and signature
- Optional Twitter username field (automatically formats with @ symbol)
- Interactive signature pad with drawing tools and controls
- List of all previous signatures with pagination
- Responsive design that works on mobile and desktop
- Secure storage of signatures in Cloudflare R2

## Setup Instructions

### 1. Cloudflare R2 Setup

1. Create a Cloudflare account if you don't have one already
2. Go to R2 in the Cloudflare dashboard and create a new bucket
3. Create API tokens with read/write access to your R2 bucket
4. Note your Account ID, Access Key ID, Secret Access Key, and Bucket Name

### 2. Environment Variables

Create a `.env` file in the root of your project with the following variables:

```
CLOUDFLARE_ACCOUNT_ID=your_account_id
CLOUDFLARE_ACCESS_KEY_ID=your_access_key_id
CLOUDFLARE_SECRET_ACCESS_KEY=your_secret_access_key
CLOUDFLARE_R2_BUCKET_NAME=your_bucket_name
```

Replace the placeholder values with your actual Cloudflare R2 credentials.

### 3. Install Dependencies

Make sure you have the AWS SDK dependencies installed:

```bash
pnpm install
```

### 4. Test the Guestbook

Start your development server:

```bash
pnpm dev
```

Navigate to the guestbook page at `/guestbook` and try signing it. You should be able to:

- Enter your name, comment, and Twitter username
- Draw a signature
- Submit the form
- See your entry appear in the list of signatures

## Technical Details

### Data Structure

The guestbook stores entries in R2 using the following structure:

- `guestbook/entries.json`: JSON file containing metadata for all entries
- `guestbook/signatures/{id}.png`: Individual signature images

Each entry in the `entries.json` file has the following structure:

```json
{
	"id": "unique-uuid",
	"name": "John Doe",
	"twitter": "@johndoe",
	"comment": "Great website!",
	"signature": "/api/guestbook/signature/unique-uuid",
	"createdAt": "2023-06-15T12:34:56.789Z"
}
```

### API Endpoints

- `GET /api/guestbook`: Returns a list of all guestbook entries
- `POST /api/guestbook`: Creates a new guestbook entry
- `GET /api/guestbook/signature/{id}`: Returns a signature image

## Troubleshooting

If you encounter any issues:

1. Check that your Cloudflare R2 credentials are correct
2. Ensure your bucket has the appropriate permissions
3. Check the browser console and server logs for any errors
4. Verify that the required AWS SDK dependencies are installed

## Security Considerations

- Signatures are stored as PNG images to prevent XSS attacks
- Basic validation is performed on all user inputs
- Rate limiting should be implemented for production use
</file>

<file path="apps/web/tsconfig.json">
{
  // https://nuxt.com/docs/guide/concepts/typescript
  "extends": "./.nuxt/tsconfig.json"
}
</file>

<file path="contracts/test-staking/src/Staking.sol">
// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "@openzeppelin/contracts/utils/math/Math.sol";
import "@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol";
import "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";
import "@openzeppelin/contracts/utils/ReentrancyGuard.sol";
import "@openzeppelin/contracts/utils/Pausable.sol";
import "./RewardsDistributionRecipient.sol";

contract StakingRewards is
    RewardsDistributionRecipient,
    ReentrancyGuard,
    Pausable
{
    using Math for uint256;
    using SafeERC20 for IERC20;

    /* ========== STATE VARIABLES ========== */

    IERC20 public rewardsToken;
    IERC20 public stakingToken;
    uint256 public periodFinish = 0;
    uint256 public rewardRate = 0;
    uint256 public rewardsDuration = 7 days;
    uint256 public lastUpdateTime;
    uint256 public rewardPerTokenStored;

    mapping(address => uint256) public userRewardPerTokenPaid;
    mapping(address => uint256) public rewards;

    uint256 private _totalSupply;
    mapping(address => uint256) private _balances;

    event RewardAdded(uint256 reward);
    event Staked(address indexed user, uint256 amount);
    event Withdrawn(address indexed user, uint256 amount);
    event RewardPaid(address indexed user, uint256 reward);
    event RewardsDurationUpdated(uint256 newDuration);
    event Recovered(address token, uint256 amount);


    /* ========== CONSTRUCTOR ========== */

    constructor(
        address _owner,
        address _rewardsDistribution,
        address _rewardsToken,
        address _stakingToken
    ) Ownable(_owner) {
        rewardsToken = IERC20(_rewardsToken);
        stakingToken = IERC20(_stakingToken);
        rewardsDistribution = _rewardsDistribution;
    }


    /* ========== VIEWS ========== */

    function totalSupply() external view returns (uint256) {
        return _totalSupply;
    }

    function balanceOf(address account) external view returns (uint256) {
        return _balances[account];
    }

    function lastTimeRewardApplicable() public view returns (uint256) {
        return block.timestamp < periodFinish ? block.timestamp : periodFinish;
    }

    function rewardPerToken() public view returns (uint256) {
        if (_totalSupply == 0) return rewardPerTokenStored;
        return rewardPerTokenStored + ((lastTimeRewardApplicable() - lastUpdateTime) * rewardRate * 1e18) / _totalSupply;
    }

    function earned(address account) public view returns (uint256) {
        return (_balances[account] * (rewardPerToken() - userRewardPerTokenPaid[account])) / 1e18 + rewards[account];
    }

    function getRewardForDuration() external view returns (uint256) {
        return rewardRate * rewardsDuration;
    }

     /* ========== MUTATIVE FUNCTIONS ========== */

    function stake(uint256 amount) external nonReentrant whenNotPaused updateReward(msg.sender) {
        require(amount > 0, "Cannot stake 0");
        _totalSupply += amount;
        _balances[msg.sender] += amount;
        stakingToken.safeTransferFrom(msg.sender, address(this), amount);
        emit Staked(msg.sender, amount);
    }

    function withdraw(uint256 amount) public nonReentrant updateReward(msg.sender) {
        require(amount > 0, "Cannot withdraw 0");
        _totalSupply -= amount;
        _balances[msg.sender] -= amount;
        stakingToken.safeTransfer(msg.sender, amount);
        emit Withdrawn(msg.sender, amount);
    }

    function getReward() public nonReentrant updateReward(msg.sender) {
        uint256 reward = rewards[msg.sender];
        if (reward > 0) {
            rewards[msg.sender] = 0;
            rewardsToken.safeTransfer(msg.sender, reward);
            emit RewardPaid(msg.sender, reward);
        }
    }

    function exit() external {
        withdraw(_balances[msg.sender]);
        getReward();
    }
     
    function notifyRewardAmount(uint256 reward) external override onlyRewardsDistribution updateReward(address(0)) {
        if (block.timestamp >= periodFinish) {
            rewardRate = reward / rewardsDuration;
        } else {
            uint256 remaining = periodFinish - block.timestamp;
            uint256 leftover = remaining * rewardRate;
            rewardRate = (reward + leftover) / rewardsDuration;
        }

        uint256 balance = rewardsToken.balanceOf(address(this));
        require(rewardRate <= balance / rewardsDuration, "Reward too high");

        lastUpdateTime = block.timestamp;
        periodFinish = block.timestamp + rewardsDuration;
        emit RewardAdded(reward);
    }

    function recoverERC20(address tokenAddress, uint256 tokenAmount) external onlyOwner {
        require(tokenAddress != address(stakingToken), "Cannot withdraw staking token");
        IERC20(tokenAddress).safeTransfer(owner(), tokenAmount);
        emit Recovered(tokenAddress, tokenAmount);
    }

    function setRewardsDuration(uint256 _rewardsDuration) external onlyOwner {
        require(block.timestamp > periodFinish, "Reward period not finished");
        rewardsDuration = _rewardsDuration;
        emit RewardsDurationUpdated(rewardsDuration);
    }

    modifier updateReward(address account) {
        rewardPerTokenStored = rewardPerToken();
        lastUpdateTime = lastTimeRewardApplicable();
        if (account != address(0)) {
            rewards[account] = earned(account);
            userRewardPerTokenPaid[account] = rewardPerTokenStored;
        }
        _;
    }
}
</file>

<file path="contracts/test-staking/test/StakingRewards.t.sol">
// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test, console} from "forge-std/Test.sol";
import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "../src/Staking.sol";

// Mock ERC20 tokens for testing
contract MockERC20 is ERC20 {
    constructor(string memory name, string memory symbol) ERC20(name, symbol) {
        _mint(msg.sender, 1000000 * 10**18); // 1M tokens
    }
    
    function mint(address to, uint256 amount) external {
        _mint(to, amount);
    }
}

contract StakingRewardsTest is Test {
    StakingRewards public stakingContract;
    MockERC20 public stakingToken;
    MockERC20 public rewardsToken;
    
    address public owner = address(0x1);
    address public rewardsDistributor = address(0x2);
    address public alice = address(0x3);
    address public bob = address(0x4);
    address public charlie = address(0x5);
    
    uint256 constant INITIAL_BALANCE = 10000 * 1e18; // 10k tokens
    uint256 constant REWARD_AMOUNT = 1000 * 1e18; // 1k reward tokens
    uint256 constant STAKE_AMOUNT = 1000 * 1e18; // 1k staking tokens
    
    function setUp() public {
        // Deploy tokens
        stakingToken = new MockERC20("Staking Token", "STAKE");
        rewardsToken = new MockERC20("Reward Token", "REWARD");
        
        // Deploy staking contract
        vm.prank(owner);
        stakingContract = new StakingRewards(
            owner,
            rewardsDistributor,
            address(rewardsToken),
            address(stakingToken)
        );
        
        // Setup initial balances
        stakingToken.mint(alice, INITIAL_BALANCE);
        stakingToken.mint(bob, INITIAL_BALANCE);
        stakingToken.mint(charlie, INITIAL_BALANCE);
        rewardsToken.mint(address(stakingContract), REWARD_AMOUNT * 10); // 10k rewards
        
        // Approve spending
        vm.prank(alice);
        stakingToken.approve(address(stakingContract), type(uint256).max);
        vm.prank(bob);
        stakingToken.approve(address(stakingContract), type(uint256).max);
        vm.prank(charlie);
        stakingToken.approve(address(stakingContract), type(uint256).max);
        
        console.log("=== SETUP COMPLETE ===");
        console.log("Staking Token:", address(stakingToken));
        console.log("Rewards Token:", address(rewardsToken));
        console.log("Staking Contract:", address(stakingContract));
        console.log("Alice Balance: %d STAKE", stakingToken.balanceOf(alice) / 1e18);
        console.log("Bob Balance: %d STAKE", stakingToken.balanceOf(bob) / 1e18);
        console.log("Charlie Balance: %d STAKE", stakingToken.balanceOf(charlie) / 1e18);
        console.log("");
    }
    
    function testComprehensiveStaking() public {
        // Set shorter duration for faster testing
        vm.prank(owner);
        stakingContract.setRewardsDuration(120); // 2 minutes
        
        console.log("=== SETTING UP REWARDS ===");
        console.log("Rewards Duration: 120 seconds (2 minutes)");
        
        // Start rewards
        vm.prank(rewardsDistributor);
        stakingContract.notifyRewardAmount(REWARD_AMOUNT);
        
        uint256 rewardRate = stakingContract.rewardRate();
        console.log("Reward Rate: %d per second", rewardRate);
        console.log("Total Rewards for Period: %d REWARD", REWARD_AMOUNT / 1e18);
        
        // Calculate and display APY
        displayAPY(REWARD_AMOUNT, STAKE_AMOUNT, 120);
        console.log("");
        
        console.log("=== ROUND 1: INITIAL STAKING ===");
        
        // Alice stakes first
        vm.prank(alice);
        stakingContract.stake(STAKE_AMOUNT);
        console.log("Alice staked: %d STAKE", STAKE_AMOUNT / 1e18);
        displayUserStatus(alice, "Alice");
        
        // Wait 10 seconds and check earnings
        vm.warp(block.timestamp + 10);
        console.log("\n--- After 10 seconds ---");
        displayUserStatus(alice, "Alice");
        
        // Bob joins
        vm.prank(bob);
        stakingContract.stake(STAKE_AMOUNT / 2); // 500 tokens
        console.log("\nBob staked: %d STAKE", (STAKE_AMOUNT / 2) / 1e18);
        displayUserStatus(alice, "Alice");
        displayUserStatus(bob, "Bob");
        
        // Wait another 15 seconds
        vm.warp(block.timestamp + 15);
        console.log("\n--- After 15 more seconds (25 total) ---");
        displayUserStatus(alice, "Alice");
        displayUserStatus(bob, "Bob");
        
        console.log("\n=== ROUND 2: CHARLIE JOINS & PARTIAL WITHDRAWALS ===");
        
        // Charlie stakes
        vm.prank(charlie);
        stakingContract.stake(STAKE_AMOUNT * 2); // 2000 tokens
        console.log("Charlie staked: %d STAKE", (STAKE_AMOUNT * 2) / 1e18);
        displayAllUsers();
        
        // Wait 20 seconds
        vm.warp(block.timestamp + 20);
        console.log("\n--- After 20 more seconds (45 total) ---");
        displayAllUsers();
        
        // Alice withdraws half
        uint256 aliceBalance = stakingContract.balanceOf(alice);
        vm.prank(alice);
        stakingContract.withdraw(aliceBalance / 2);
        console.log("\nAlice withdrew: %d STAKE", (aliceBalance / 2) / 1e18);
        displayAllUsers();
        
        console.log("\n=== ROUND 3: REWARD CLAIMS & MORE STAKING ===");
        
        // Wait 30 seconds
        vm.warp(block.timestamp + 30);
        console.log("--- After 30 more seconds (75 total) ---");
        displayAllUsers();
        
        // Bob claims rewards
        uint256 bobRewardsBefore = rewardsToken.balanceOf(bob);
        vm.prank(bob);
        stakingContract.getReward();
        uint256 bobRewardsAfter = rewardsToken.balanceOf(bob);
        console.log("\nBob claimed rewards: %d REWARD", (bobRewardsAfter - bobRewardsBefore) / 1e18);
        displayAllUsers();
        
        // Alice stakes more
        vm.prank(alice);
        stakingContract.stake(STAKE_AMOUNT / 4); // 250 tokens
        console.log("\nAlice staked additional: %d STAKE", (STAKE_AMOUNT / 4) / 1e18);
        displayAllUsers();
        
        console.log("\n=== ROUND 4: FINAL PERIOD & EXIT ===");
        
        // Wait until near end of reward period
        vm.warp(block.timestamp + 35); // 110 total seconds
        console.log("--- Near end of reward period (110 total seconds) ---");
        displayAllUsers();
        
        // Charlie exits completely
        uint256 charlieRewardsBefore = rewardsToken.balanceOf(charlie);
        vm.prank(charlie);
        stakingContract.exit();
        uint256 charlieRewardsAfter = rewardsToken.balanceOf(charlie);
        console.log("\nCharlie exited completely!");
        console.log("Charlie claimed rewards: %d REWARD", (charlieRewardsAfter - charlieRewardsBefore) / 1e18);
        console.log("Charlie unstaked: %d STAKE", (STAKE_AMOUNT * 2) / 1e18);
        displayAllUsers();
        
        // Wait past reward period end
        vm.warp(block.timestamp + 20); // 130 total seconds (past 120)
        console.log("\n--- After reward period ended (130 total seconds) ---");
        displayAllUsers();
        
        // Final claims
        console.log("\n=== FINAL REWARD CLAIMS ===");
        uint256 aliceRewardsBefore = rewardsToken.balanceOf(alice);
        vm.prank(alice);
        stakingContract.getReward();
        uint256 aliceRewardsAfter = rewardsToken.balanceOf(alice);
        
        uint256 bobRewardsBefore2 = rewardsToken.balanceOf(bob);
        vm.prank(bob);
        stakingContract.getReward();
        uint256 bobRewardsAfter2 = rewardsToken.balanceOf(bob);
        
        console.log("Alice final reward claim: %d REWARD", (aliceRewardsAfter - aliceRewardsBefore) / 1e18);
        console.log("Bob final reward claim: %d REWARD", (bobRewardsAfter2 - bobRewardsBefore2) / 1e18);
        
        console.log("\n=== TEST SUMMARY ===");
        console.log("Total rewards distributed: %d REWARD", REWARD_AMOUNT / 1e18);
        console.log("Alice total rewards: %d REWARD", rewardsToken.balanceOf(alice) / 1e18);
        console.log("Bob total rewards: %d REWARD", rewardsToken.balanceOf(bob) / 1e18);
        console.log("Charlie total rewards: %d REWARD", rewardsToken.balanceOf(charlie) / 1e18);
        
        uint256 totalClaimed = rewardsToken.balanceOf(alice) + rewardsToken.balanceOf(bob) + rewardsToken.balanceOf(charlie);
        console.log("Total claimed: %d REWARD", totalClaimed / 1e18);
        console.log("Remaining in contract: %d REWARD", rewardsToken.balanceOf(address(stakingContract)) / 1e18);
        
        displayFinalAPYAnalysis();
    }
    
    function displayAPY(uint256 rewardAmount, uint256 stakeAmount, uint256 duration) internal pure {
        // APY = ((reward/stake) * (365*24*3600/duration)) * 100
        uint256 rewardRatio = (rewardAmount * 1e18) / stakeAmount; // Reward per token staked
        uint256 periodsPerYear = (365 * 24 * 3600) / duration; // How many periods in a year
        uint256 apy = (rewardRatio * periodsPerYear) / 1e16; // Convert to percentage (divide by 1e18 then multiply by 100)
        
        console.log("========================================");
        console.log("            APY CALCULATION           ");
        console.log("========================================");
        console.log("Reward Amount: %d REWARD", rewardAmount / 1e18);
        console.log("Stake Amount:  %d STAKE", stakeAmount / 1e18);
        console.log("Duration:      %d seconds", duration);
        console.log("Periods/Year:  %d", periodsPerYear);
        console.log("");
        console.log(" ESTIMATED APY: %d%%", apy);
        console.log("========================================");
    }
    
    function displayUserStatus(address user, string memory name) internal view {
        uint256 staked = stakingContract.balanceOf(user);
        uint256 earned = stakingContract.earned(user);
        uint256 rewardBalance = rewardsToken.balanceOf(user);
        
        console.log("%s", name);
        console.log("   Staked: %d STAKE", staked / 1e18);
        console.log("   Earned (unclaimed): %d REWARD", earned / 1e18);
        console.log("   Reward Balance: %d REWARD", rewardBalance / 1e18);
        console.log("   Total Value: %d tokens", (staked + earned) / 1e18);
    }
    
    function displayAllUsers() internal view {
        console.log(" ALL USERS STATUS:");
        displayUserStatus(alice, "Alice");
        displayUserStatus(bob, "Bob");
        displayUserStatus(charlie, "Charlie");
        console.log("Total Staked in Contract: %d STAKE", stakingContract.totalSupply() / 1e18);
        console.log("");
    }
    
    function displayFinalAPYAnalysis() internal view {
        console.log("\n========================================");
        console.log("          FINAL APY ANALYSIS          ");
        console.log("========================================");
        
        uint256 aliceRewards = rewardsToken.balanceOf(alice);
        uint256 bobRewards = rewardsToken.balanceOf(bob);
        uint256 charlieRewards = rewardsToken.balanceOf(charlie);
        
        // Calculate effective APY for each user based on their actual rewards
        // This is simplified and assumes they held their average stake for the full period
        console.log("Alice realized APY: ~%d%%", (aliceRewards * 100) / STAKE_AMOUNT);
        console.log("Bob realized APY: ~%d%%", (bobRewards * 200) / STAKE_AMOUNT); // Bob staked half
        console.log("Charlie realized APY: ~%d%%", (charlieRewards * 50) / STAKE_AMOUNT); // Charlie staked double
        console.log("");
        console.log(" APY varies based on:");
        console.log("   - When you stake/unstake");
        console.log("   - Total pool size changes");
        console.log("   - Reward claiming timing");
        console.log("========================================");
    }

    // Additional test for quick APY verification
    function testAPYCalculation() public pure {
        console.log("\n=== APY CALCULATION TEST ===");
        // Test different scenarios
        displayAPY(1000 * 1e18, 1000 * 1e18, 120); // 100% over 2 minutes
        displayAPY(100 * 1e18, 1000 * 1e18, 86400); // 10% over 1 day  
        displayAPY(1000 * 1e18, 10000 * 1e18, 604800); // 10% over 1 week
    }

    // Test individual staking mechanics
    function testBasicStaking() public {
        console.log("\n=== BASIC STAKING TEST ===");
        
        // Set up rewards
        vm.prank(owner);
        stakingContract.setRewardsDuration(60); // 1 minute
        
        vm.prank(rewardsDistributor);
        stakingContract.notifyRewardAmount(100 * 1e18);
        
        // Alice stakes
        vm.prank(alice);
        stakingContract.stake(1000 * 1e18);
        
        assertEq(stakingContract.balanceOf(alice), 1000 * 1e18);
        assertEq(stakingContract.totalSupply(), 1000 * 1e18);
        
        // Wait and check earnings
        vm.warp(block.timestamp + 30); // Half the reward period
        
        uint256 earned = stakingContract.earned(alice);
        console.log("Alice earned after 30 seconds: %d REWARD", earned / 1e18);
        
        // Should be approximately 50 tokens (half of 100)
        assertApproxEqRel(earned, 50 * 1e18, 0.01e18); // 1% tolerance
    }
}
</file>

<file path="packages/database/src/client.ts">
import { PrismaClient } from "../generated/prisma/edge";
import { withAccelerate } from "@prisma/extension-accelerate";

// const globalForPrisma = global as unknown as { prisma: PrismaClient };

export const prisma = new PrismaClient().$extends(withAccelerate());

// if (process.env.NODE_ENV !== "production") globalForPrisma.prisma = prisma;
</file>

<file path="packages/database/src/index.ts">
export { prisma } from "./client";
export * from "../generated/prisma/edge";
</file>

<file path="package.json">
{
  "name": "with-vue-nuxt",
  "private": true,
  "scripts": {
    "build": "turbo run build",
    "dev": "turbo run dev",
    "lint": "turbo run lint",
    "format": "prettier --write \"**/*.{ts,tsx,md}\""
  },
  "devDependencies": {
    "prettier": "^3.2.5",
    "turbo": "^2.5.3"
  },
  "packageManager": "pnpm@8.15.6"
}
</file>

<file path="README.md">
# ๐ Distant Finance v2
## *Where Traditional Finance Meets Crypto Magic* โจ

> **"Bridging continents, currencies, and communities through decentralized innovation"**

[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](https://choosealicense.com/licenses/mit/)
[![Node.js](https://img.shields.io/badge/Node.js-16%2B-brightgreen)](https://nodejs.org/)
[![Nuxt 3](https://img.shields.io/badge/Nuxt-3-00C58E)](https://nuxt.com/)
[![TurboRepo](https://img.shields.io/badge/TurboRepo-Enabled-FF6154)](https://turbo.build/)

---

## ๐ฏ **What Makes Us Different?**

Distant Finance v2 isn't just another DeFi platform โ it's a **financial bridge** connecting emerging markets to the global crypto economy. We're making DeFi as easy as sending a text message! ๐

### ๐ก **The Vision**
Transform how people in Africa, Asia, and Latin America interact with digital finance by removing barriers, reducing costs, and maximizing opportunities.

---

## โก **Superpowers at Your Fingertips**

<table>
<tr>
<td width="50%">

### ๐ **Fiat โ๏ธ Crypto Swaps**
- **Instant conversions** between NGN, USD, KES โ USDC, USDT
- **Powered by Paystack** for seamless local payments
- **Zero hassle**, maximum speed

### ๐๏ธ **Yield Powerhouse**
- **Liquidity pools** that work while you sleep
- **Compound interest** on steroids
- **Multiple strategies** for every risk appetite

</td>
<td width="50%">

### ๐จ **NFT Marketplace**
- **Mint, trade, collect** unique digital assets
- **Creator-friendly** with low fees
- **Multi-chain support** for global reach

### ๐ **Merkle Rewards**
- **Smart distribution** of tokens and rewards
- **Gas-efficient** claiming system
- **Fair and transparent** allocation

</td>
</tr>
</table>

---

## ๐๏ธ **Architecture That Scales**

```ascii
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 DISTANT FINANCE v2               โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโค
โ   ๐ฅ๏ธ Frontend    โ   โ๏ธ Packages   โ   ๐ Scripts    โ
โ                 โ                 โ                 โ
โ โโ Nuxt 3 App   โ โโ Smart       โ โโ Deploy       โ
โ โโ Reown Kit    โ โ   Contracts   โ โโ Test         โ
โ โโ TailwindCSS  โ โโ UI Lib      โ โโ Utils        โ
โ โโ TypeScript   โ โโ Utils       โ                 โ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโ
```

### ๐๏ธ **Project Structure**
```bash
distant-finance-v2/
โโโ ๐ apps/
โ   โโโ web/                    # Nuxt 3 powerhouse
โ       โโโ components/         # Reusable UI magic
โ       โโโ pages/             # Route definitions
โ       โโโ plugins/           # Third-party integrations
โ       โโโ composables/       # Business logic
โโโ ๐ฆ packages/
โ   โโโ contracts/             # Solidity smart contracts
โ   โ   โโโ src/              # Contract source files
โ   โ   โโโ test/             # Comprehensive tests
โ   โ   โโโ scripts/          # Deployment scripts
โ   โโโ ui/                   # Shared component library
โโโ ๐ง scripts/               # Automation & deployment
โโโ ๐ docs/                  # Comprehensive documentation
โโโ โ๏ธ turbo.json             # Monorepo configuration
```

---

## ๐ **Quick Start Guide**

### ๐ **Prerequisites**
- **Node.js** `>= 18.x` (LTS recommended)
- **Yarn** `>= 1.22.x` or **pnpm** `>= 7.x`
- **Git** (obviously! ๐)
- **MetaMask** or compatible Web3 wallet

### ๐ฅ **Lightning Setup**

```bash
# 1๏ธโฃ Clone the magic
git clone https://github.com/yourusername/distant-finance-v2.git
cd distant-finance-v2

# 2๏ธโฃ Install dependencies (grab a coffee โ)
yarn install

# 3๏ธโฃ Start the development server
cd apps/web && yarn dev

# ๐ Open http://localhost:3000 and witness the future!
```

### ๐ **Environment Configuration**

Create your `.env` file with these secrets:

```bash
# ๐ณ Paystack Integration
PAYSTACK_PUBLIC_KEY=pk_test_xxxxxxxxxxxxx
PAYSTACK_SECRET_KEY=sk_test_xxxxxxxxxxxxx

# ๐ Blockchain Networks
NEXT_PUBLIC_REOWN_PROJECT_ID=your_reown_project_id
NEXT_PUBLIC_ALCHEMY_API_KEY=your_alchemy_key

# ๐ API Endpoints
NEXT_PUBLIC_API_BASE_URL=https://api.distantfinance.com
```

---

## ๐ **Smart Contract Deployment**

### ๐๏ธ **Development**
```bash
cd packages/contracts

# Compile contracts
npx hardhat compile

# Run tests
npx hardhat test

# Deploy to localhost
npx hardhat node
npx hardhat run scripts/deploy.js --network localhost
```

### ๐ **Production Deployment**
```bash
# Testnet deployment
npx hardhat run scripts/deploy.js --network sepolia

# Mainnet deployment (when ready! ๐จ)
npx hardhat run scripts/deploy.js --network mainnet
```

---

## ๐จ **Design System**

Our UI follows a **modern, accessible, and mobile-first** approach:

- **๐จ Tailwind CSS** for rapid styling
- **๐ Dark/Light mode** support
- **๐ฑ Responsive design** across all devices
- **โฟ WCAG 2.1 compliance** for accessibility

### ๐ฏ **Brand Colors**
```css
--primary: #007CF0    /* Electric Blue */
--secondary: #7928CA  /* Purple */
--accent: #FF0080     /* Hot Pink */
--success: #50E3C2    /* Mint Green */
--warning: #F5A623    /* Orange */
--error: #D0021B      /* Red */
```

---

## ๐งช **Testing Strategy**

We believe in **quality over quantity**:

```bash
# Unit tests
yarn test:unit

# Integration tests
yarn test:integration

# E2E tests
yarn test:e2e

# Smart contract tests
cd packages/contracts && npx hardhat test

# Coverage reports
yarn test:coverage
```

---

## ๐ **Performance Metrics**

| Metric | Target | Current |
|--------|--------|---------|
| **Lighthouse Score** | 95+ | 98 โ |
| **Bundle Size** | <500KB | 420KB โ |
| **Time to Interactive** | <3s | 2.1s โ |
| **Gas Optimization** | <50K | 45K โ |

---

## ๐ค **Contributing to the Future**

We love contributors! Here's how to join the revolution:

1. **๐ด Fork** the repository
2. **๐ฟ Create** a feature branch (`git checkout -b feature/amazing-feature`)
3. **๐ป Commit** your changes (`git commit -m 'Add some amazing feature'`)
4. **๐ Push** to the branch (`git push origin feature/amazing-feature`)
5. **๐ Open** a Pull Request

### ๐ฏ **Contribution Guidelines**
- Follow our **code style** (Prettier + ESLint)
- Write **comprehensive tests**
- Update **documentation** when needed
- Be **respectful** and **inclusive**

---

## ๐บ๏ธ **Roadmap to Revolution**

- [ ] **Q1 2024**: Beta launch in Nigeria ๐ณ๐ฌ
- [ ] **Q2 2024**: Expand to Kenya ๐ฐ๐ช and Ghana ๐ฌ๐ญ
- [ ] **Q3 2024**: Multi-chain support (Polygon, Arbitrum)
- [ ] **Q4 2024**: Mobile app release ๐ฑ
- [ ] **2025**: Global expansion ๐

---

## ๐๏ธ **Acknowledgments**

Special thanks to our amazing contributors and supporters:

- **Paystack** for payment infrastructure
- **Reown** for Web3 connectivity
- **Nuxt.js** team for the incredible framework
- **Our community** for continuous feedback

---

## ๐ **Let's Connect!**

- **๐ง Email**: hello@distantfinance.com
- **๐ฆ Twitter**: [@DistantFinance](https://twitter.com/distantfinance)
- **๐ฌ Discord**: [Join our community](https://discord.gg/distantfinance)
- **๐ฑ Telegram**: [Daily updates](https://t.me/distantfinance)

---

<div align="center">

### ๐ **Built with โค๏ธ for Emerging Markets**

**[Live Demo](https://app.distantfinance.com)** โข **[Documentation](https://docs.distantfinance.com)** โข **[API Reference](https://api.distantfinance.com)**

---

*"The future of finance is distant, but we're bringing it closer."* ๐

</div>
</file>

<file path="renovate.json">
{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ]
}
</file>

<file path="turbo.json">
{
  "$schema": "https://turborepo.com/schema.json",
  "tasks": {
    "build": {
      "dependsOn": ["^build"],
      "inputs": ["$TURBO_DEFAULT$", ".env*"],
      "outputs": [".nuxt/**", ".output/**", "dist/**"],
      "env": ["DATABASE_URL_OFFCHAIN_WORKER"]
    },
    "lint": {},
    "dev": {
      "cache": false,
      "persistent": true
    },
    "db:generate": {
      "cache": false
    },
    "db:migrate": {
      "cache": false,
      "persistent": true
    },
    "db:deploy": {
      "cache": false
    }
  }
}
</file>

<file path="apis/offchain-worker/src/lib/auth.ts">
import { betterAuth } from "better-auth";
import { prisma } from "@distant/db";
import { prismaAdapter } from "better-auth/adapters/prisma";
import { emailOTP } from "better-auth/plugins";
export const auth = (env: CloudflareBindings): ReturnType<typeof betterAuth> => {
  return betterAuth({
    secret: env.BETTER_AUTH_SECRET,
    database: prismaAdapter(prisma, { provider: "postgresql" }),
    socialProviders: {
      google: {
        clientId: env.GOOGLE_CLIENT_ID,
        clientSecret: env.GOOGLE_CLIENT_SECRET,
      },
    },
    plugins: [
      emailOTP({
        async sendVerificationOTP({ email, otp, type }) {
          console.log("Sending OTP to", email, otp, type);
        },
      }),
    ],
  });
};
</file>

<file path="apis/offchain-worker/tsconfig.json">
{
  "compilerOptions": {
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "Bundler",
    "strict": true,
    "skipLibCheck": true,
    "lib": ["ESNext"],
    "jsx": "react-jsx",
    "jsxImportSource": "hono/jsx",
    "types": ["./worker-configuration.d.ts"]
  }
}
</file>

<file path="apis/offchain-worker/wrangler.jsonc">
{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "offchain-worker",
  "main": "src/index.ts",
  "compatibility_date": "2025-06-06",
  "compatibility_flags": ["nodejs_compat"],
  // "kv_namespaces": [
  //   {
  //     "binding": "MY_KV_NAMESPACE",
  //     "id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
  //   }
  // ],
  // "r2_buckets": [
  //   {
  //     "binding": "MY_BUCKET",
  //     "bucket_name": "my-bucket"
  //   }
  // ],
  // "d1_databases": [
  //   {
  //     "binding": "MY_DB",
  //     "database_name": "my-database",
  //     "database_id": ""
  //   }
  // ],
  // "ai": {
  //   "binding": "AI"
  // },
  // "observability": {
  //   "enabled": true,
  //   "head_sampling_rate": 1
  // }
}
</file>

<file path="apps/web/app/components/pool/Table.vue">
<script setup lang="ts">
import { h } from "vue";
import type { TableColumn } from "@nuxt/ui";
import type { Column } from "@tanstack/vue-table";
// import { findToken } from "@/utils/tokens";
import { pools, type Pool } from "@/utils/pool";
import { getChainLogo, type SUPPORTED_CHAINS } from "@/utils/reown-config";
// import {pools} from "@utils/poo"
type FilterId = "all" | "stablecoin" | "fiat";

const UAvatar = resolveComponent("UAvatar");
const UButton = resolveComponent("UButton");
const UDropdownMenu = resolveComponent("UDropdownMenu");
const UIcon = resolveComponent("UIcon");

const filters = [
	{ id: "all", label: "All" },
	{ id: "stablecoin", label: "Stablecoins" },
	{ id: "fiat", label: "Fiat" },
];
const activeFilter = ref<FilterId>("all");

const filteredPools = computed(() => {
	if (activeFilter.value === "all") return pools.value;
	return pools.value.filter((pool) => pool.type === activeFilter.value);
});

const columns: TableColumn<Pool>[] = [
	{
		accessorKey: "poolAddress",
		header: ({ column }) => getHeader(column, "Pool"),
		cell: ({ row }) => {
			return h("div", { class: "flex items-center gap-1" }, [
				h("div", { class: "relative" }, [
					h(UAvatar, {
						src: row.original.token.logoURI,
						size: "2xl",
					}),
					h(UAvatar, {
						src: getChainLogo(row.original.token.chainId as SUPPORTED_CHAINS),
						size: "2xs",
						class: "absolute bottom-0 right-0 bg-white",
					}),
				]),

				h("div", undefined, [
					h("p", { class: "text-sm" }, `${row.original.token.name}`),
				]),
			]);
		},
	},
	{
		accessorKey: "volume",
		header: ({ column }) => getHeader(column, "Volume"),
		cell: ({ row }) =>
			new Intl.NumberFormat("en-US").format(row.getValue<number>("volume")),
	},
	{
		accessorKey: "fees",
		header: ({ column }) => getHeader(column, "Fees"),
		cell: ({ row }) =>
			new Intl.NumberFormat("en-US").format(row.getValue<number>("fees")),
	},
	{
		accessorKey: "tvl",
		header: ({ column }) => getHeader(column, "TVL"),
		cell: ({ row }) =>
			new Intl.NumberFormat("en-US", {
				style: "currency",
				currency: "USD",
			}).format(row.getValue<number>("tvl")),
	},
	{
		accessorKey: "apr",
		header: ({ column }) =>
			h("div", { class: "text-right" }, getHeader(column, "APR")),
		cell: ({ row }) =>
			h(
				"div",
				{ class: "text-right font-medium" },
				`${row.getValue<number>("apr").toFixed(2)}%`,
			),
	},
	{
		id: "action",
		cell: ({ row }) =>
			h(
				UButton,
				{
					class: "text-right font-medium",
					variant: "solid",
					onClick: () => navigateTo(getPoolRoute(row.original)),
				},
				`Add Liquidity`,
			),
	},
];

function getHeader(column: Column<Pool>, label: string) {
	const isSorted = column.getIsSorted();

	return h(
		UDropdownMenu,
		{
			content: {
				align: "start",
			},
			"aria-label": "Actions dropdown",
			items: [
				{
					label: "Asc",
					type: "checkbox",
					icon: "i-lucide-arrow-up-narrow-wide",
					checked: isSorted === "asc",
					onSelect: () => {
						if (isSorted === "asc") {
							column.clearSorting();
						} else {
							column.toggleSorting(false);
						}
					},
				},
				{
					label: "Desc",
					icon: "i-lucide-arrow-down-wide-narrow",
					type: "checkbox",
					checked: isSorted === "desc",
					onSelect: () => {
						if (isSorted === "desc") {
							column.clearSorting();
						} else {
							column.toggleSorting(true);
						}
					},
				},
			],
		},
		() =>
			h(UButton, {
				color: "neutral",
				variant: "ghost",
				label,
				icon: isSorted
					? isSorted === "asc"
						? "i-lucide-arrow-up-narrow-wide"
						: "i-lucide-arrow-down-wide-narrow"
					: "i-lucide-arrow-up-down",
				class: "-mx-2.5 data-[state=open]:bg-elevated",
				"aria-label": `Sort by ${isSorted === "asc" ? "descending" : "ascending"}`,
			}),
	);
}

const sorting = ref([
	{
		id: "id",
		desc: false,
	},
]);

const getPoolRoute = (pool: Pool) =>
	pool.type === "fiat"
		? `/pool/fiat/${pool.poolAddress}`
		: `/pool/stables/${pool.poolAddress}`;
</script>

<template>
	<!-- Pool Type Filters -->
	<div class="mb-6 flex flex-wrap gap-2">
		<UButton
			v-for="filter in filters"
			:key="filter.id"
			variant="outline"
			class="px-6"
			@click="activeFilter = filter.id as FilterId">
			{{ filter.label }}
			<template #trailing>
				<UIcon
					:name="
						activeFilter === filter.id ? 'i-lucide-check' : 'i-lucide-plus'
					"
					class="ml-2" />
			</template>
		</UButton>
	</div>

	<UTable
		v-model:sorting="sorting"
		:data="filteredPools"
		:columns="columns"
		class="flex-1" />
</template>
</file>

<file path="apps/web/app/components/swap/ConfirmButton.vue">
<template>
  <div class="w-full space-y-2">
    <UButton
      :loading="props.loading"
      :disabled="props.disabled || props.loading"
      block
      size="lg"
      color="primary"
      :icon="loading ? 'i-lucide-loader-2' : 'i-lucide-swap'"
      :loading-icon="'i-lucide-loader-2'"
      :loading-aria-label="'Swapping'"
      class="transition-colors"
      @click="props.onClick"
    >
      {{ loading ? 'Swapping...' : 'Swap' }}
    </UButton>
    
    <div v-if="props.error" class="text-xs text-red-500 dark:text-red-400 text-center">
      <UIcon name="i-lucide-alert-circle" class="mr-1" />
      {{ error }}
    </div>
    
    <div v-if="props.success" class="text-xs text-green-500 dark:text-green-400 text-center">
      <UIcon name="i-lucide-check-circle" class="mr-1" />
      {{ success }}
    </div>
  </div>
</template>

<script setup lang="ts">
const props = defineProps<{
  loading: boolean;
  error: string | null;
  success: string | null;
  disabled?: boolean;
  onClick: () => void;
}>();
</script>
</file>

<file path="apps/web/app/components/swap/TokenSelector.vue">
<template>
  <div>
    <UModal v-model:open="isOpen">
      <UButton
        color="neutral"
        variant="outline"
        class="rounded-full"
        @click="isOpen = true"
      >
        <div class="flex items-center gap-1 relative">
          <div class=" relative">
            <UAvatar
              v-if="modelValue?.logoURI"
              :src="modelValue.logoURI"
              size="md"
            />
            <!-- Small chain logo at bottom-right -->
            <UAvatar
              v-if="getChainLogo(modelValue?.chainId as SUPPORTED_CHAINS)"
              :src="getChainLogo(modelValue?.chainId as SUPPORTED_CHAINS)"
              size="3xs"
              class="bg-gray-200 absolute -bottom-1 -right-1 z-20 ring-1 ring-white dark:ring-gray-900 rounded-full"
            />
          </div>
          <span class="mx-1 whitespace-nowrap">{{
            modelValue?.symbol || "Select Token"
          }}</span>
        </div>
        <UIcon name="i-lucide-chevron-down" class="size-5" />
      </UButton>

      <template #content>
        <div class="py-4 px-2">
          <div>
            <h3 class="text-lg font-medium">Select Currency/Token</h3>
          </div>
          <UInput
            v-model="searchQuery"
            placeholder="Search name or paste address"
            icon="i-heroicons-magnifying-glass"
            class="mb-4 w-full rounded-lg"
          />

          <div class="max-h-96 overflow-y-auto px-4">
            <div
              v-if="filteredTokens.length === 0"
              class="text-center py-8 text-gray-500"
            >
              No tokens found
            </div>

            <div v-else>
              <div
                v-for="token in filteredTokens"
                :key="token.tokenId"
                class="flex items-center p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer"
                @click="selectToken(token)"
              >
                <UAvatar :src="token.logoURI" size="sm" />
                <div class="ml-3 flex-1">
                  <div class="font-medium">{{ token.symbol }}</div>
                  <div class="text-xs text-gray-500">{{ token.name }}</div>
                </div>
                <div
                  v-if="token.type === 'crypto'"
                  class="text-xs text-gray-400"
                >
                  Chain: {{ getChainName(token.chainId as number) }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>
    </UModal>
  </div>
</template>

<script setup lang="ts">
import { ALL_TOKENS, type Token } from "@/utils/tokens";
import { SUPPORTED_CHAINS } from "@/utils/reown-config";
const props = defineProps<{
  modelValue?: Token;
  disabledTokens?: string[];
}>();

const emit = defineEmits<{
  "update:modelValue": [value: Token | undefined];
}>();

const isOpen = ref(false);

const searchQuery = ref("");
console.log({ searchQuery: searchQuery.value });

const filteredTokens = computed(() => {
  let tokens = ALL_TOKENS;

  // Filter out disabled tokens
  if (props.disabledTokens?.length) {
    tokens = tokens.filter((t) => !props.disabledTokens?.includes(t.tokenId));
  }

  // Filter by search query
  if (searchQuery.value) {
    const query = searchQuery.value.toLowerCase();
    tokens = tokens.filter(
      (t) =>
        t.name.toLowerCase().includes(query) ||
        t.symbol.toLowerCase().includes(query) ||
        (typeof t.address === "string" &&
          t.address.toLowerCase().includes(query))
    );
  }

  return tokens;
});

const getChainName = (chainId: number): string => {
  const chainEntry = Object.entries(SUPPORTED_CHAINS).find(
    ([_, id]) => id === chainId
  );
  return chainEntry ? chainEntry[0] : `Chain ${chainId}`;
};

function selectToken(token: Token) {
  emit("update:modelValue", token);
  isOpen.value = false;
  searchQuery.value = "";
}
</script>
</file>

<file path="apps/web/app/lib/auth.ts">
import { createAuthClient } from "better-auth/vue";
export const { useSession, signIn, signOut } = createAuthClient({
  baseURL: "http://127.0.0.1:8787",
  
});
</file>

<file path="packages/database/package.json">
{
  "name": "@distant/db",
  "version": "0.0.0",
  "scripts": {
    "db:generate": "prisma generate",
    "db:migrate": "prisma migrate dev --skip-generate",
    "db:deploy": "prisma migrate deploy"
  },
  "devDependencies": {
    "prisma": "^6.9.0"
  },
  "dependencies": {
    "@prisma/client": "^6.9.0",
    "@prisma/extension-accelerate": "^2.0.1"
  },
  "exports": {
    ".": "./src/index.ts"
  }
}
</file>

<file path=".gitmodules">
[submodule "contracts/test-staking/lib/openzeppelin-contracts"]
	path = contracts/test-staking/lib/openzeppelin-contracts
	url = https://github.com/OpenZeppelin/openzeppelin-contracts
[submodule "contracts/marketplace-contract/lib/forge-std"]
	path = contracts/marketplace-contract/lib/forge-std
	url = https://github.com/foundry-rs/forge-std
[submodule "contracts/marketplace-contract/lib/openzeppelin-contracts"]
	path = contracts/marketplace-contract/lib/openzeppelin-contracts
	url = https://github.com/OpenZeppelin/openzeppelin-contracts
</file>

<file path="pnpm-workspace.yaml">
packages:
  - "apps/*"
  - "apis/*"
  - "contracts/*" 
  - "packages/*"
</file>

<file path="apis/offchain-worker/src/index.ts">
import { Hono } from "hono";
import cors from "./middleware/cors";
import { auth } from "./lib/auth";

const app = new Hono<{
  Bindings: CloudflareBindings;
  Variables: {
    user: Awaited<ReturnType<typeof auth>>["$Infer"]["Session"]["user"] | null;
    session:
      | Awaited<ReturnType<typeof auth>>["$Infer"]["Session"]["session"]
      | null;
  };
}>();

// middleware/Contexts
app.use(cors);
app.use("*", async (c, next) => {
  const session = await auth(c.env).api.getSession({
    headers: c.req.raw.headers,
  });

  if (!session) {
    c.set("user", null);
    c.set("session", null);
    return next();
  }

  c.set("user", session.user);
  c.set("session", session.session);
  return next();
});

app.on(["POST", "GET"], "/api/auth/*", (c) => {
  return auth(c.env).handler(c.req.raw);
});
export default app;
</file>

<file path="apps/web/app/components/Footer.vue">
<script setup lang="ts"></script>

<template>
  <footer>
    <USeparator class="h-px z-20" />
    <div class="container font-mono py-4">
      <div class="flex justify-between items-center flex-col lg:flex-row gap-3">
        <div class="text-xs tracking-tight">
          <span class="text-muted">
            ยฉ {{ new Date().getFullYear() }} - Made by
          </span>
          <ULink target="_blank" to="https://ibrahimijai.dev/" class="italic">
            distantlab
          </ULink>
        </div>
        <nav>
          <ul class="flex space-x-4 text-sm">
            <li><a href="/">Roadmap</a></li>
            <li><a href="/">Docs</a></li>
          </ul>
        </nav>
        <div class="flex items-center gap-2">
          <UButton
            icon="i-simple-icons-x"
            color="neutral"
            variant="ghost"
            to="https://x.com/distantfinance"
            target="_blank"
            aria-label="X"
            size="sm"
          />
          <UButton
            icon="i-simple-icons-github"
            color="neutral"
            variant="ghost"
            to="https://github.com/ibrahimijai/distantfinancev2"
            target="_blank"
            aria-label="GitHub"
            size="sm"
          />
          <ThemeToggle size="sm" />
        </div>
      </div>
    </div>
  </footer>
</template>
</file>

<file path="apps/web/app/components/SiteHeader.vue">
<template>
  <header>
    <div
      class="container max-w-6xl mx-auto bg-default py-3 px-4 fixed top-0 inset-x-0 border-b border-default"
    >
      <div class="flex justify-between items-center">
        <!-- Logo -->
        <div>
          <svg
            width="26"
            height="26"
            viewBox="0 0 26 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11 2C9.9 3.1 9 4.435 9 4.966C9 5.497 6.975 10.061 4.5 15.109C2.025 20.156 0 24.447 0 24.643C0 25.512 15.946 24.896 16.497 24.005C16.835 23.458 18.099 22.528 19.306 21.938C21.196 21.014 21.154 21.149 19 22.911L16.5 24.956L21.25 24.978C23.862 24.99 26 24.7 26 24.334C26 22.799 14.606 0 13.838 0C13.377 0 12.1 0.9 11 2ZM13.19 15.407C10.565 21.016 9.722 22 7.539 22C4.642 22 4.367 23.127 10.657 9.223L13.496 2.946L14.886 5.881C16.168 8.588 16.036 9.325 13.19 15.407ZM19 17.385C19 17.597 17.875 18.507 16.5 19.408C13.661 21.268 13.248 20.895 15.571 18.571C17.006 17.137 19 16.447 19 17.385Z"
              fill="#2DB9D3"
            />
          </svg>
        </div>
        <UNavigationMenu
          :items="items"
          class="w-full justify-center hidden lg:inline-flex"
          color="neutral"
          :ui="{
            viewport: 'sm:w-(--reka-navigation-menu-viewport-width)',
            content: 'sm:w-auto',
            childList: 'sm:w-96',
            childLinkDescription: 'text-balance line-clamp-2',
          }"
        >
          <template #nft-content="{ item }">
            <ul
              class="grid gap-2 p-4 lg:w-[500px] lg:grid-cols-[minmax(0,.75fr)_minmax(0,1fr)]"
            >
              <li class="row-span-3">
                <Placeholder class="size-full min-h-48" />
              </li>

              <li v-for="child in item.children" :key="child.label">
                <ULink
                  class="text-sm text-left rounded-md p-3 transition-colors hover:bg-elevated/50 cursor-pointer"
                >
                  <p class="font-medium text-highlighted">
                    {{ child.label }}
                  </p>
                  <p class="text-muted line-clamp-2">
                    {{ child.description }}
                  </p>
                </ULink>
              </li>
            </ul>
          </template>
        </UNavigationMenu>
        <div class="flex items-center gap-2">
          <UDropdownMenu
            class="lg:hidden"
            :items="dropdownn_items"
            :ui="{
              content: 'w-48',
            }"
          >
            <UButton icon="i-lucide-menu" color="neutral" variant="outline" />
          </UDropdownMenu>
          <ConnectButton />
          <Web2SigninButton />
        </div>
      </div>
    </div>
  </header>
</template>
<script setup lang="ts">
import type { NavigationMenuItem } from "@nuxt/ui";

const items = [
  {
    label: "Swap",
    to: "/swap",
  },
  {
    label: "Pool",
    to: "/pool",
  },
  {
    label: "NFTs",
    slot: "nft" as const,
    children: [
      {
        label: "Marketplace",
        description:
          " Discover, buy, and sell unique digital assets on our NFT marketplace.",
        to: "/nfts",
      },
      {
        label: "P2P Lending",
        description: "Lend or borrow against your NFT assets",
        to: "/nfts",
      },
    ],
  },
] satisfies NavigationMenuItem[];

import type { DropdownMenuItem } from "@nuxt/ui";

const dropdownn_items = ref<DropdownMenuItem[][]>([
  [
    {
      label: "swap",
      type: "label",
      to: "/swap",
    },
    {
      label: "pool",
      type: "label",
      to: "/pool",
    },
  ],
  [
    {
      label: "nft",
    },
    {
      label: "marketplace",
      to: "/nft",
    },
    {
      label: "p2p lending",
      to: "/nft",
    },
  ],
]);
</script>
</file>

<file path="apps/web/app/pages/pool/index.vue">
<template>
  <div class="min-h-screen">
    <div class="px-4 py-8">
      <!-- Header -->
      <div class="mb-8">
        <h1 class="text-3xl font-bold mb-2">Liquidity Pools</h1>
        <p class="text-muted-foreground text-sm">
          Stake in pools to earn yield from onramp and offramp transaction fees
        </p>
      </div>

   
      <PoolTable />

    
   
    </div>
  </div>
</template>

<script setup lang="ts">



</script>
</file>

<file path="apps/web/app/utils/tokens.ts">
import { SUPPORTED_CHAINS } from "./reown-config";

export interface Token {
	tokenId: string;
	name: string;
	symbol: string;
	decimals: number | "fiat";
	chainId: SUPPORTED_CHAINS;
	address: string;
	logoURI: string;
	type: "crypto" | "fiat";
}

const TOKEN_ADDRESSES = {
	xNGN: {
		[SUPPORTED_CHAINS.BASE]: "0x1111111111111111111111111111111111111111",
		[SUPPORTED_CHAINS.LISK]: "0x2222222222222222222222222222222222222222",
		[SUPPORTED_CHAINS.CELO]: "0x3333333333333333333333333333333333333333",
	},
	USDC: {
		[SUPPORTED_CHAINS.BASE]: "0x4444444444444444444444444444444444444444",
		[SUPPORTED_CHAINS.LISK]: "0x5555555555555555555555555555555555555555",
		[SUPPORTED_CHAINS.CELO]: "0x6666666666666666666666666666666666666666",
	},
	USDT: {
		[SUPPORTED_CHAINS.BASE]: "0x7777777777777777777777777777777777777777",
		[SUPPORTED_CHAINS.LISK]: "0x8888888888888888888888888888888888888888",
		[SUPPORTED_CHAINS.CELO]: "0x9999999999999999999999999999999999999999",
	},
} as const;

// Create tokens for all supported chains
const createCryptoTokens = (): Token[] => {
	const tokens: Token[] = [];
	// xNGN tokens
	Object.entries(TOKEN_ADDRESSES.xNGN).forEach(([chainId, address]) => {
		tokens.push({
			tokenId: `${address}:${chainId}`,
			name: "xNGN",
			symbol: "xNGN",
			decimals: 6,
			chainId: chainId as SUPPORTED_CHAINS,
			address,
			logoURI: "/tokens/nigerian.svg",
			type: "crypto",
		});
	});

	// USDC tokens
	Object.entries(TOKEN_ADDRESSES.USDC).forEach(([chainId, address]) => {
		tokens.push({
			tokenId: `${address}:${chainId}`,
			name: "USD Coin",
			symbol: "USDC",
			decimals: 6,
			chainId: chainId as SUPPORTED_CHAINS,
			address,
			logoURI: "/tokens/usdc.png",
			type: "crypto",
		});
	});

	// USDT tokens
	Object.entries(TOKEN_ADDRESSES.USDT).forEach(([chainId, address]) => {
		tokens.push({
			tokenId: `${address}:${chainId}`,
			name: "Tether USD",
			symbol: "USDT",
			decimals: 6,
			chainId: chainId as SUPPORTED_CHAINS,
			address,
			logoURI: "/tokens/usdt.jpg",
			type: "crypto",
		});
	});

	return tokens;
};

const FIAT_TOKENS: Token[] = [
	{
		tokenId: "ngn",
		name: "Nigerian Naira",
		symbol: "NGN",
		decimals: "fiat",
		chainId: SUPPORTED_CHAINS.BASE,
		address: "fiat",
		logoURI: "/tokens/nigerian.svg",
		type: "fiat",
	},
	{
		tokenId: "ngn",
		name: "Nigerian Naira",
		symbol: "NGN",
		decimals: "fiat",
		chainId: SUPPORTED_CHAINS.CELO,
		address: "fiat",
		logoURI: "/tokens/nigerian.svg",
		type: "fiat",
	},
	{
		tokenId: "kes",
		name: "Kenyan Shilling",
		symbol: "KES",
		decimals: "fiat",
		chainId: SUPPORTED_CHAINS.BASE,
		address: "fiat",
		logoURI: "/tokens/kenya.svg",
		type: "fiat",
	},
];

export const ALL_TOKENS: Token[] = [...createCryptoTokens(), ...FIAT_TOKENS];

// Utility functions
export const findToken = (
	address: string,
	chainId: number,
): Token | undefined => {
	console.log("Searching for address:", address, "chainId:", chainId);
	console.log("ALL_TOKENS:", ALL_TOKENS);
	const normAddress = address.toLowerCase();
	return ALL_TOKENS.find(
		(token) =>
			token.address.toLowerCase() === normAddress &&
			token.chainId.toString() === chainId.toString(),
	);
};

export const findTokenById = (tokenId: string): Token | undefined => {
	return ALL_TOKENS.find((token) => token.tokenId === tokenId);
};

export const getTokensBySymbol = (symbol: string): Token[] => {
	return ALL_TOKENS.filter((token) => token.symbol === symbol);
};

export const getFiatTokens = (): Token[] => {
	return ALL_TOKENS.filter((token) => token.type === "fiat");
};

export const getCryptoTokens = (): Token[] => {
	return ALL_TOKENS.filter((token) => token.type === "crypto");
};
</file>

<file path="packages/database/prisma/schema.prisma">
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL_OFFCHAIN_WORKER")
}

model User {
  id            String    @id
  email         String    @unique
  name          String?
  emailVerified Boolean
  image         String?
  createdAt     DateTime
  updatedAt     DateTime
  sessions      Session[]
  accounts      Account[]

  @@map("user")
}

model Session {
  id        String   @id
  expiresAt DateTime
  token     String
  createdAt DateTime
  updatedAt DateTime
  ipAddress String?
  userAgent String?
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([token])
  @@map("session")
}

model Account {
  id                    String    @id
  accountId             String
  providerId            String
  userId                String
  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  accessToken           String?
  refreshToken          String?
  idToken               String?
  accessTokenExpiresAt  DateTime?
  refreshTokenExpiresAt DateTime?
  scope                 String?
  password              String?
  createdAt             DateTime
  updatedAt             DateTime

  @@map("account")
}

model Verification {
  id         String    @id
  identifier String
  value      String
  expiresAt  DateTime
  createdAt  DateTime?
  updatedAt  DateTime?

  @@map("verification")
}
</file>

<file path="apps/web/app/assets/css/main.css">
@import "tailwindcss";
@import "@nuxt/ui";
@import "./animations.css";
/* @source "../../../content"; */

@theme {
  --font-sans: "Geist", sans-serif;
  --font-mono: "JetBrains Mono", monospace;
  --font-serif: "Newsreader", serif;

  --animate-ripple-1: ripple 2.5s var(--ease-smooth) infinite 0.15s;
  --animate-ripple-2: ripple 2.5s var(--ease-smooth) infinite 0.4s;
  --animate-ripple-3: ripple 2.5s var(--ease-smooth) infinite 0.65s;
}

::-webkit-scrollbar {
  width: 5px;
  height: 2px;
}

::-webkit-scrollbar-thumb {
  background: var(--ui-bg-inverted);
  border-radius: 5px;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

:root {
  --ease-smooth: cubic-bezier(0.45, 0, 0.55, 1);

  --ui-primary: black;
  --ui-bg: var(--color-white);
  --ui-bg-muted: var(--color-neutral-50);

  ::selection {
    color: #282a30;
    background-color: #c8c8c8;
  }

  .default {
    --ui-container: var(--container-5xl);
    /* --ui-border: var(--ui-color-neutral-500); */
  }
}

html,
body,
#__nuxt,
#__layout {
  width: 100%;
  height: 100%;
  scroll-behavior: smooth;
}

.dark {
  --ui-primary: white;
  --ui-bg: #02020a;
  --ui-bg-muted: var(--color-neutral-900);
  
  ::selection {
    color: #ffffff;
    background-color: #02020a;
  }
}

.main-gradient {
  @apply bg-gradient-to-r from-inverted/45 to-inverted to-50% bg-clip-text text-transparent;
}

.writing {
  pre {
    @apply text-sm sm:text-base text-zinc-900 dark:text-zinc-100 my-4 p-4 bg-neutral-100 dark:bg-neutral-800 rounded-lg overflow-x-auto;
  }

  code {
    @apply text-zinc-900 dark:text-zinc-100 text-sm px-1.5 py-0.5 bg-neutral-100 dark:bg-neutral-800 rounded;
  }

  blockquote {
    @apply pl-4 border-l-4 border-neutral-300 dark:border-neutral-700 my-4 italic;
  }

  hr {
    @apply my-8 border-neutral-200 dark:border-neutral-800;
  }

  img {
    @apply my-4 rounded-lg max-w-full;
  }

  figure {
    @apply my-4;
  }

  figcaption {
    @apply text-sm text-neutral-500 dark:text-neutral-400 mt-2;
  }
}
</file>

<file path="apps/web/app/utils/reown-config.ts">
import {
  lisk,
  base,
  celo,
  solana,
  solanaTestnet,
  type AppKitNetwork,
} from "@reown/appkit/networks";

export const chains: [AppKitNetwork, ...AppKitNetwork[]] = [
  lisk,
  base,
  celo,
  solana,
  solanaTestnet,
];

export const SUPPORTED_CHAINS = {
  BASE: base.id,
  LISK: lisk.id,
  CELO: celo.id,
  SOLANA: solana.id,
  SOLANA_TESTNET: solanaTestnet.id,
} as const;



export type SUPPORTED_CHAINS =
  (typeof SUPPORTED_CHAINS)[keyof typeof SUPPORTED_CHAINS];


  export const CHAIN_METADATA: Record<
    SUPPORTED_CHAINS,
    { name: string; logo: string }
  > = {
    [SUPPORTED_CHAINS.BASE]: { name: "Base", logo: "/chains/base.svg" },
    [SUPPORTED_CHAINS.LISK]: { name: "Lisk", logo: "/chains/lisk.svg" },
    [SUPPORTED_CHAINS.CELO]: { name: "Celo", logo: "/chains/celo.svg" },
    [SUPPORTED_CHAINS.SOLANA]: { name: "Solana", logo: "/chains/solana.svg" },
    [SUPPORTED_CHAINS.SOLANA_TESTNET]: {
      name: "Solana Testnet",
      logo: "/chains/solana.svg",
    },
  };
export function getChainName(chainId: SUPPORTED_CHAINS): string {
  return CHAIN_METADATA[chainId]?.name || `Chain ${chainId}`;
}

export function getChainLogo(chainId: SUPPORTED_CHAINS): string {
  return CHAIN_METADATA[chainId]?.logo;
}
</file>

<file path="apps/web/app/app.config.ts">
export default defineAppConfig({
  ui: {
    colors: {
      primary: "sky",
      neutral: "neutral",
    },
    button: {
      slots: {
        base: "cursor-pointer",
      },
      defaultVariants: {
        color: "neutral",
      },
    },
    card: {
      slots: {
        root: "rounded-lg space-y-2 p-4 ",
        header: "sm:px-1 p-0 border-none",
        body: "sm:p-1 px-4 p-0 border-none",
        footer: "p-0 border-none",
      },
    },
    prose: {
      h1: {
        base: "text-2xl sm:text-3xl font-serif italic font-[500]",
      },
      hr: {
        base: "my-2",
      },
      strong: {
        base: "text-(--ui-text-highlighted) font-[450]",
      },
      icon: {
        base: "text-(--ui-text-highlighted)",
      },
      p: {
        base: "text-(--ui-text-muted)",
      },
      li: {
        base: "text-(--ui-text-muted)",
      },
      a: {
        base: "italic border-b border-(--color-accent) text-(--ui-text-highlighted) font-medium",
      },
    },
  },

  seo: {
    title: "Distant Finance",
    description: "Distant Finance",
    url: "https://distant.finance",
    lang: "en",
  },
  socials: {
    github: "https://github.com/ibrahimijai/distantfinancev2",
    twitter: "https://x.com/distantfinance",
  },
});
</file>

<file path="apis/offchain-worker/package.json">
{
  "name": "offchain-worker",
  "scripts": {
    "dev": "wrangler dev",
    "deploy": "wrangler deploy --minify",
    "cf-typegen": "wrangler types --env-interface CloudflareBindings"
  },
  "dependencies": {
    "@distant/db": "workspace:*",
    "better-auth": "^1.2.12",
    "hono": "^4.7.11"
  },
  "devDependencies": {
    "wrangler": "^4.19.1"
  }
}
</file>

<file path="apps/web/app/app.vue">
<template>
  <Html :lang="seo.lang">
    <UApp>
      <NuxtLoadingIndicator color="var(--ui-primary)" :height="2" />
      <NuxtLayout>
        <Toaster position="bottom-right" close-button />
        <SiteHeader />
        <div class="min-h-[calc(100dvh-150px)] pt-[105px]"><NuxtPage /></div>
          <Footer />
      </NuxtLayout>
    </UApp>
  </Html>
</template>

<script setup lang="ts">
import { Toaster } from "vue-sonner";
const colorMode = useColorMode();

const color = computed(() =>
  colorMode.value === "dark" ? "#020618" : "white"
);

const { seo } = useAppConfig();

useHead({
  meta: [
    { charset: "utf-8" },
    { name: "viewport", content: "width=device-width, initial-scale=1" },
    { key: "theme-color", name: "theme-color", content: color },
  ],
  link: [{ rel: "icon", href: "/favicon.png" }],
  htmlAttrs: {
    lang: "en",
  },
});

useSeoMeta({
  titleTemplate: "Distant Finance",
  ogImage:
    "https://assets.hub.nuxt.com/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJodHRwczovL3BvcnRmb2xpby10ZW1wbGF0ZS5udXh0LmRldiIsImlhdCI6MTc0NTkzNDczMX0.XDWnQoyVy3XVtKQD6PLQ8RFUwr4yr1QnVwPxRrjCrro.jpg?theme=light",
  twitterImage:
    "https://assets.hub.nuxt.com/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJodHRwczovL3BvcnRmb2xpby10ZW1wbGF0ZS5udXh0LmRldiIsImlhdCI6MTc0NTkzNDczMX0.XDWnQoyVy3XVtKQD6PLQ8RFUwr4yr1QnVwPxRrjCrro.jpg?theme=light",
  twitterCard: "summary_large_image",
});
import { createAppKit } from "@reown/appkit/vue";
import { WagmiAdapter } from "@reown/appkit-adapter-wagmi";
import { SolanaAdapter } from "@reown/appkit-adapter-solana";
import { type AppKitNetwork } from "@reown/appkit/networks";
import { chains } from "@/utils/reown-config";

const projectId = "5cd2d3b8b3b2053438e35181fe3af516"; //distant-finance DO NOT USE, SIMPLY CREATE YOURS๐๐

const metadata = {
  name: "Distant Finance",
  description: "Distant Finance",
  url: "https://distantfinance.com",
  icons: ["https://avatars.githubusercontent.com/u/179229932"],
};

const networks: [AppKitNetwork, ...AppKitNetwork[]] = chains;

const wagmiAdapter = new WagmiAdapter({
  networks,
  projectId,
});

const solanaWeb3JsAdapter = new SolanaAdapter();

const modal = createAppKit({
  adapters: [wagmiAdapter, solanaWeb3JsAdapter],
  networks,
  projectId,
  metadata,
  features: {
    analytics: true,
  },
});
</script>
</file>

<file path="apps/web/app/pages/swap.vue">
<template>
  <div>
    <div
      class="max-w-md mx-auto mt-10 space-y-4 border border-default rounded-xl p-2.5"
    >
      <div>
        <h1 class="text-xl font-bold text-left">Swap</h1>
      </div>
      <SwapSelectPanel
        v-model="swapState.fromAmount"
        :field-type="'from'"
        :selected-token="swapState.fromToken"
        :disabled-tokens="getDisabledTokens('from')"
        :loading="swapState.loading"
        @update:selected-token="handleFromTokenChange"
        @input="handleFromAmountChange"
      />
      <!-- Swap Direction Toggle -->
      <div
        class="flex justify-center items-center border border-default w-fit mx-auto rounded-full p-1.5 cursor-pointer hover:bg-muted/70"
      >
        <UIcon
          name="i-lucide-chevron-down"
          class="size-7"
          color="primary"
          @click="swapTokens"
        />
      </div>
      <SwapSelectPanel
        v-model="swapState.toAmount"
        :field-type="'to'"
        :selected-token="swapState.toToken"
        :disabled-tokens="getDisabledTokens('to')"
        :loading="swapState.loading"
        :disabled="true"
        @update:selected-token="handleToTokenChange"
      />

      <SwapConfirmButton
        :loading="swapState.loading"
        :error="swapState.error"
        :success="swapState.success"
        :disabled="!isValidSwap"
        @click="handleSwap"
      />
    </div>
  </div>
</template>

<script setup lang="ts">
import { toast } from "vue-sonner";
import { useDebounceFn } from "@vueuse/core";
import type { Token } from "@/utils/tokens";

const swapState = reactive({
  fromAmount: "",
  toAmount: "",
  fromToken: undefined as Token | undefined,
  toToken: undefined as Token | undefined,
  loading: false,
  error: null as string | null,
  success: null as string | null,
});

// Get disabled tokens for each field
const getDisabledTokens = (fieldType: "from" | "to"): string[] => {
  const otherToken =
    fieldType === "from" ? swapState.toToken : swapState.fromToken;
  return otherToken ? [otherToken.tokenId] : [];
};

// Computed properties
const isValidSwap = computed(() => {
  return (
    parseFloat(swapState.fromAmount) > 0 &&
    parseFloat(swapState.toAmount) > 0 &&
    swapState.fromToken !== undefined &&
    swapState.toToken !== undefined &&
    !swapState.loading &&
    // !swapState.isSwapping &&
    swapState.fromToken.type !== swapState.toToken.type
  );
});

const fetchExchangeRate = useDebounceFn(
  async (amount: string, fromToken: Token, toToken: Token) => {
    // If inputs are invalid, clear 'toAmount' and return.
    if (!amount || parseFloat(amount) <= 0 || !fromToken || !toToken) {
      swapState.toAmount = "";
      swapState.loading = false; // Ensure loading state is reset
      return;
    }

    // New check: if types are the same, do not fetch rate and show an error
    if (fromToken.type === toToken.type) {
      swapState.toAmount = "";
      swapState.loading = false;
      swapState.error =
        "Cannot swap between tokens of the same type (e.g., crypto to crypto or fiat to fiat).";
      toast.error("Invalid Swap Pair", {
        description:
          "Only fiat-to-crypto or crypto-to-fiat swaps are supported.",
      });
      return;
    }

    swapState.loading = true; // Set loading true while fetching rate
    swapState.error = null; // Clear any previous errors
    swapState.success = null; // Clear any previous success messages

    try {
      // Simulate an API call delay for fetching the exchange rate
      await new Promise((resolve) => setTimeout(resolve, 1000));

      // Mock exchange rate calculation based on token types.
      let mockRate;
      if (fromToken.type === "fiat" && toToken.type === "crypto") {
        mockRate = 0.0012; // Example: 1 NGN = 0.0012 USDC
      } else if (fromToken.type === "crypto" && toToken.type === "fiat") {
        mockRate = 800; // Example: 1 USDC = 800 NGN
      } else {
        // This case should ideally be prevented by the UI filtering and initial type check,
        // but included as a safe fallback.
        mockRate = 1;
      }

      const outputAmount = parseFloat(amount) * mockRate;
      swapState.toAmount = outputAmount.toFixed(6); // Format to 6 decimal places
    } catch (error) {
      console.error("Error fetching exchange rate:", error);
      swapState.error = "Failed to fetch exchange rate.";
      toast.error("Exchange Rate Error", {
        description: "An error occurred while fetching the exchange rate.",
      });
      swapState.toAmount = ""; // Clear output amount on error
    } finally {
      swapState.loading = false; // Reset loading state
    }
  },
  2000 // Debounce for 2 seconds
);

// Event handlers
// const handleFromTokenChange = (token: Token | undefined) => {
//   if (!token) return;
//   if (token.tokenId === swapState.toToken?.tokenId) {
//     toast.error("Invalid Selection", {
//       description: "Cannot select same token for both fields",
//     });
//     return;
//   }

//   swapState.fromToken = token;

//   // Recalculate if we have an amount
//   if (swapState.fromAmount && swapState.toToken) {
//     fetchExchangeRate(swapState.fromAmount, token, swapState.toToken);
//   }
// };
const handleFromTokenChange = (token: Token | undefined) => {
  if (!token) return;

  if (token.tokenId === swapState.toToken?.tokenId) {
    toast.error("Invalid Selection", {
      description: "Cannot select the same token for both fields.",
    });
    return;
  }

  swapState.fromToken = token;
  if (
    swapState.fromAmount &&
    parseFloat(swapState.fromAmount) > 0 &&
    swapState.toToken
  ) {
    fetchExchangeRate(swapState.fromAmount, token, swapState.toToken);
  } else {
    swapState.toAmount = "";
    swapState.loading = false;
    swapState.error = null;
  }
};

// const handleToTokenChange = (token: Token | undefined) => {
//   if (!token) return;
//   if (token.tokenId === swapState.fromToken?.tokenId) {
//     toast.error("Invalid Selection", {
//       description: "Cannot select same token for both fields",
//     });
//     return;
//   }

//   swapState.toToken = token;

//   // Recalculate if we have an amount
//   if (swapState.fromAmount && swapState.fromToken) {
//     fetchExchangeRate(swapState.fromAmount, swapState.fromToken, token);
//   }
// };

const handleToTokenChange = (token: Token | undefined) => {
  if (!token) return;

  if (token.tokenId === swapState.fromToken?.tokenId) {
    toast.error("Invalid Selection", {
      description: "Cannot select the same token for both fields.",
    });
    return;
  }

  swapState.toToken = token;
  if (
    swapState.fromAmount &&
    parseFloat(swapState.fromAmount) > 0 &&
    swapState.fromToken
  ) {
    fetchExchangeRate(swapState.fromAmount, swapState.fromToken, token);
  } else {
    swapState.toAmount = "";
    swapState.loading = false;
    swapState.error = null;
  }
};

const handleFromAmountChange = (value: string) => {
  swapState.fromAmount = value;

  if (value && swapState.fromToken && swapState.toToken) {
    fetchExchangeRate(value, swapState.fromToken, swapState.toToken);
  } else {
    swapState.toAmount = "";
  }
};

const swapTokens = () => {
  swapState.error = null;
  swapState.success = null;

  const tempToken = swapState.fromToken;
  const tempAmount = swapState.fromAmount;

  swapState.fromToken = swapState.toToken;
  swapState.toToken = tempToken;

  swapState.fromAmount = swapState.toAmount;
  swapState.toAmount = tempAmount;

  if (
    swapState.fromAmount &&
    parseFloat(swapState.fromAmount) > 0 &&
    swapState.fromToken &&
    swapState.toToken
  ) {
    fetchExchangeRate(
      swapState.fromAmount,
      swapState.fromToken,
      swapState.toToken
    );
  } else {
    swapState.loading = false;
    swapState.toAmount = "";
  }
};

const handleSwap = async () => {
  if (!isValidSwap.value) {
    toast.warning("Swap Not Valid", {
      description: "Please enter valid amounts and select tokens to proceed.",
    });
    return;
  }

  // swapState.isSwapping = true; 
  swapState.error = null; 
  swapState.success = null; 

  try {
    const swapPromise = new Promise((resolve, reject) => {
      setTimeout(() => {
        const success = Math.random() > 0.3; 
        if (success) {
          resolve("Your swap was successful!");
        } else {
          reject(
            new Error(
              "Insufficient balance or network error. Please try again."
            )
          );
        }
      }, 2500); 
    });

    await toast.promise(swapPromise as Promise<string>, {
      loading: "Initiating swap...",
      success: (message:string) => {
        swapState.success = message;
        swapState.fromAmount = "";
        swapState.toAmount = "";
        swapState.fromToken = undefined;
        swapState.toToken = undefined;
        return message;
      },
      error: (error: Error) => {
        swapState.error =
          error instanceof Error
            ? error.message
            : "An unexpected error occurred";
        return `Swap failed: ${swapState.error}`;
      },
    });
  } catch (err) {
    console.error("An unexpected error occurred during swap:", err);
  } finally {
    if (swapState.success) {
      setTimeout(() => {
        swapState.success = null;
      }, 5000);
    }
    if (swapState.error) {
      setTimeout(() => {
        swapState.error = null;
      }, 5000);
    }
  }
};
</script>
</file>

<file path="apps/web/nuxt.config.ts">
// https://nuxt.com/docs/api/configuration/nuxt-config

export default defineNuxtConfig({
  devtools: { enabled: true },
  future: {
    compatibilityVersion: 4,
  },
  modules: [
    "@nuxt/ui",
    "@nuxtjs/seo",
    "@nuxt/eslint",
    "@vueuse/nuxt",
    "@nuxt/image",
    "motion-v/nuxt",
    "@nuxtjs/supabase",
  ],
  ui: {
    theme: {
      colors: ["primary", "secondary", "success", "info", "warning", "error"],
      transitions: true,
    },
  },

  $development: {
    runtimeConfig: {
      public: {
        offchainworkerApiUrl: "https://micro-built.onrender.com",
      },
    },
  },

  $production: {
    runtimeConfig: {
      public: {
        offchainworkerApiUrl: "https://distatfiapi.workers.dev",
      },
    },
  },

  colorMode: {
    preference: "dark",
    fallback: "dark",
  },

  imports: {
    presets: [
      {
        from: "vue-sonner",
        imports: ["toast"],
      },
    ],
  },
  site: {
    url: "https://distant.finance",
  },
  css: ["~/assets/css/main.css"],
  compatibilityDate: "2025-01-03",
  nitro: {
    prerender: {
      crawlLinks: false,
      routes: ["/", "/sitemap.xml"],
      failOnError: false, // Don't fail build on prerender errors
    },
    logLevel: 'verbose', // Enable verbose logging
  },

  supabase: {
    redirectOptions: {
      login: "/auth/login",
      callback: "/auth/confirm",
      include: undefined,
      exclude: ["/**"],
      saveRedirectToCookie: false,
    },
  },
});
</file>

<file path="apps/web/app/pages/index.vue">
<template>
  <div class="pt-[5px] px-4 space-y-8">
    <!-- Heros -->
    <div class="py-3">
      <h1
        class="font-normal main-gradient text-3xl sm:text-4xl lg:text-5xl lg:w-2/5"
      >
        Swap, Deposit Bridge the Distances
      </h1>
      <p class="lg:w-3/5 mt-4 text-muted">
        Execute seamless fiat-to-crypto swaps, deposit tokens or fiat to support
        liquidity pools and earn in fees, and actively participate in
        cross-border financial infrastructure.
      </p>
    </div>

    <!-- Swap template -->
    <div class="mt-10">
      <UCard variant="subtle" class="w-fit mx-auto">
        <template #header>
          <h2>Swap</h2>
        </template>

        <div
          class="min-w-[16rem] lg:min-w-[28rem] space-y-2 flex flex-col items-center"
        >
          <div class="space-y-2 w-full">
            <h2 class="text-xs">From</h2>
            <div
              class="flex w-full bg-default items-center justify-between rounded-lg px-2 py-3"
            >
              <div class="flex items-center gap-2 flex-col">
                <UAvatar size="xs" src="/tokens/usdc.png" />
                <span class="text-xs font-mono">USDC</span>
              </div>
              <div class="flex items-center gap-1/2 flex-col">
                <p>0.00</p>
                <span class="text-muted text-xs">~$0.00</span>
              </div>
            </div>
          </div>
          <UButton
            icon="i-lucide-arrow-down"
            size="md"
            color="neutral"
            variant="solid"
            class="mx-auto my-4 rounded-full w-fit"
          />
          <div class="space-y-2 w-full">
            <h2 class="text-xs">To</h2>
            <div
              class="flex w-full bg-default items-center justify-between rounded-lg px-2 py-3"
            >
              <div class="flex items-center gap-2 flex-col">
                <UAvatar size="xs" src="/tokens/nigerian.svg" />
                <span class="text-xs font-mono">NGN</span>
              </div>
              <div class="flex items-center gap-1/2 flex-col">
                <p>0.00</p>
                <span class="text-muted text-xs">~$0.00</span>
              </div>
            </div>
          </div>
        </div>
      </UCard>
    </div>

    <!--Features  -->
    <div class="mt-16 space-y-6">
      <div class="flex flex-col items-center mx-auto gap-2">
        <UBadge color="neutral" variant="subtle">Core Features</UBadge>
        <h1 class="text-2xl font-semibold">
          Fiat-to-Stablecoin Conversions Made Simple
        </h1>
        <p class="text-muted text-sm text-center lg:max-w-4/5">
          Distant Finance enables instant conversions between Nigerian Naira,
          Kenyan Shilling, and major stablecoins through our dual-pool system.
          Deposit your fiat or crypto to support conversions and receive
          rewards.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 my-8">
        <UCard variant="subtle" class="border border-default">
          <template #header>
            <h1 class="text-lg font-semibold">Instant Currency Swaps</h1>
          </template>

          <p class="text-muted text-sm">
            Convert NGN, KES, and other African currencies to USDC, USDT, and
            DAI at live market rates. Real-time exchange rates with minimal
            fees. Support for all Paystack-supported currencies and major
            stablecoins.
          </p>
        </UCard>

        <UCard variant="subtle" class="border border-default">
          <template #header>
            <h1 class="text-lg font-semibold">Dual-Pool System</h1>
          </template>

          <p class="text-muted text-sm">
            Deposit to off-chain fiat pools or on-chain stablecoin pools to
            facilitate conversions for other users. NGN pool holders support
            off-ramping, USDC pool holders support on-ramping. Both receive
            transaction fees automatically.
          </p>

          <template #footer>
            <Placeholder class="h-8" />
          </template>
        </UCard>

        <UCard variant="subtle" class="border border-default">
          <template #header>
            <h1>Secure Transactions</h1>
          </template>

          <p class="text-muted text-sm">
            Off-chain fiat held in regulated escrow, on-chain assets secured by
            audited smart contracts. Bank-grade security for fiat deposits,
            blockchain security for crypto assets. Full transparency and audit
            trails.
          </p>

          <template #footer>
            <Placeholder class="h-8" />
          </template>
        </UCard>

        <UCard variant="subtle" class="border border-default">
          <template #header>
            <h1>NFT Marketplace/P2P Lending</h1>
          </template>

          <p class="text-muted text-sm">
            Complete NFT marketplace with integrated P2P lending, all connected
            to our fiat-crypto conversion system. Buy NFTs with NGN, borrow
            against your collection, or lend to others. Seamless integration
            with our currency pools for instant settlements in any supported
            currency.
          </p>
        </UCard>

        <UCard variant="subtle" class="border border-default">
          <template #header>
            <h1>Multi-Currency Wallets</h1>
          </template>

          <p class="text-muted text-sm">
            Hold NGN, KES, USDC, USDT, and other currencies in one unified
            account interface. Single dashboard for all your fiat and crypto
            balances. Easy transfers between currencies and instant conversion
            access.
          </p>
        </UCard>
      </div>
    </div>

    <!-- Stats -->
    <div class="mt-16">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold mb-2">Borderless Financial Ecosystem</h1>
        <p class="text-muted max-w-2xl mx-auto">
          Witness the power of decentralized finance with real-time metrics
          showcasing our growing impact across Africa's financial landscape.
        </p>
      </div>
      <div class="grid grid-cols-2 gap-6 sm:grid-cols-2 lg:grid-cols-6">
        <UCard class="border border-default p-3">
          <div class="flex items-center">
            <div
              class="h-2 w-2 rounded-full bg-primary mr-2 animate-pulse"
            ></div>
            <span class="text-2xl font-bold">โ</span>
          </div>
          <p class="mt-2 text-sm text-muted">Total Value Locked</p>
        </UCard>

        <UCard class="border border-default p-3">
          <div class="flex items-center">
            <div
              class="h-2 w-2 rounded-full bg-primary mr-2 animate-pulse"
            ></div>
            <span class="text-2xl font-bold">โ</span>
          </div>
          <p class="mt-2 text-sm text-muted">Active Users</p>
        </UCard>

        <UCard class="border border-default p-3">
          <div class="flex items-cent er">
            <div
              class="h-2 w-2 rounded-full bg-primary mr-2 animate-pulse"
            ></div>
            <span class="text-2xl font-bold">โ</span>
          </div>
          <p class="mt-2 text-sm text-muted">Supported Currencies</p>
        </UCard>

        <UCard class="border border-default p-3">
          <div class="flex items-center">
            <div
              class="h-2 w-2 rounded-full bg-primary mr-2 animate-pulse"
            ></div>
            <span class="text-2xl font-bold">โ</span>
          </div>
          <p class="mt-2 text-sm text-muted">Transactions</p>
        </UCard>

        <UCard class="border border-default p-3">
          <div class="flex items-center">
            <div
              class="h-2 w-2 rounded-full bg-primary mr-2 animate-pulse"
            ></div>
            <span class="text-2xl font-bold">โ</span>
          </div>
          <p class="mt-2 text-sm text-muted">Volume Processed</p>
        </UCard>

        <UCard class="border border-default p-3">
          <div class="flex items-center">
            <div
              class="h-2 w-2 rounded-full bg-primary mr-2 animate-pulse"
            ></div>
            <span class="text-2xl font-bold">โ</span>
          </div>
          <p class="mt-2 text-sm text-muted">Avg. Settlement Time</p>
        </UCard>
      </div>
    </div>

    <!-- NFT ECOSYSTEM -->
    <div class="mt-24">
      <div class="text-center mb-12">
        <UBadge variant="subtle" class="mb-4">NFT Ecosystem</UBadge>
        <h1 class="text-3xl font-bold mb-3">NFT Marketplace & P2P Lending</h1>
        <p class="text-muted max-w-2xl mx-auto">
          Trade unique digital assets or leverage them as collateral in our
          integrated NFT ecosystem.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
        <!-- NFT Marketplace Card -->
        <UCard class="h-full hover:shadow-lg transition-shadow duration-300">
          <template #header>
            <div class="flex items-center gap-3">
              <UIcon
                name="i-heroicons-shopping-bag"
                class="w-6 h-6 text-primary"
              />
              <h3 class="text-xl font-semibold">NFT Marketplace</h3>
            </div>
          </template>

          <div class="space-y-4">
            <div class="grid grid-cols-2 gap-3">
              <div
                v-for="(nft, index) in nftListings"
                :key="index"
                class="group cursor-pointer"
              >
                <div
                  class="aspect-square bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden mb-1.5"
                >
                  <div
                    class="w-full h-full flex items-center justify-center text-muted"
                  >
                    <UIcon name="i-heroicons-photo" class="w-10 h-10" />
                  </div>
                </div>
                <p class="text-sm font-medium truncate">{{ nft.name }}</p>
                <p class="text-xs text-muted">{{ nft.price }} ETH</p>
              </div>
            </div>

            <div
              class="flex justify-between text-sm pt-2 border-t border-gray-100 dark:border-gray-800"
            >
              <span class="text-muted">Total Volume</span>
              <span class="font-medium">3.6 ETH</span>
            </div>

            <UButton block class="mt-4">
              Explore Marketplace
              <UIcon name="i-heroicons-arrow-right" class="w-4 h-4 ml-2" />
            </UButton>
          </div>
        </UCard>

        <!-- P2P Lending Card -->
        <UCard class="h-full hover:shadow-lg transition-shadow duration-300">
          <template #header>
            <div class="flex items-center gap-3">
              <UIcon
                name="i-heroicons-banknotes"
                class="w-6 h-6 text-primary"
              />
              <h3 class="text-xl font-semibold">P2P Lending</h3>
            </div>
          </template>

          <div class="flex flex-col h-full min-h-0">
            <div class="flex-1 overflow-auto space-y-4">
              <div
                v-for="(loan, index) in lendingListings"
                :key="index"
                class="p-3 border border-default rounded-lg"
              >
                <div class="flex items-center gap-3 mb-2">
                  <div
                    class="w-10 h-10 rounded-full bg-neutral flex items-center justify-center text-muted"
                  >
                    <UIcon name="i-heroicons-photo" class="w-5 h-5" />
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium">{{ loan.name }}</p>
                    <p class="text-xs text-muted">
                      Collateral: {{ loan.collateral }} ETH
                    </p>
                  </div>
                  <div class="text-right">
                    <p class="text-sm font-medium">{{ loan.apy }}% APY</p>
                    <p class="text-xs text-muted">{{ loan.duration }} days</p>
                  </div>
                </div>
              </div>

              <div
                class="flex justify-between text-sm pt-2 border-t border-default"
              >
                <span class="text-muted">Total Volume</span>
                <span class="font-medium">5.5 ETH</span>
              </div>
            </div>
            <div class="pt-4">
              <UButton block variant="outline">
                Explore Lending
                <UIcon name="i-heroicons-arrow-right" class="w-4 h-4 ml-2" />
              </UButton>
            </div>
          </div>
        </UCard>
      </div>
    </div>

    <!-- FAQ SECTION -->
    <section class="w-full py-12">
      <div class="container px-4 md:px-6">
        <div
          class="flex flex-col items-center justify-center space-y-4 text-center"
        >
          <div class="space-y-2">
            <UBadge variant="subtle" class="mb-4">FAQ</UBadge>
            <h2 class="text-3xl font-bold tracking-tighter md:text-4xl/tight">
              Frequently Asked Questions
            </h2>
            <p class="mx-auto max-w-[700px] text-muted">
              Find answers to common questions about Distant Finance and how our
              platform works.
            </p>
          </div>
        </div>
        <div class="mx-auto mt-12 max-w-3xl">
          <UAccordion
            :items="faqItems"
            class="w-full"
            :ui="{
              item: 'border-b border-gray-200 dark:border-gray-800',
              content: 'text-muted',
            }"
          />
        </div>
      </div>
    </section>
    <!-- <TextField
      v-model="numberValue"
      type="number"
      :max-decimals="2"
      icon="i-heroicons-calculator"
      @value-change="handleValueChange"
    /> -->
  </div>
</template>

<script setup lang="ts">
// // Demo component to showcase TextField usage
// const textValue = ref("");
// const numberValue = ref("");
// const percentValue = ref("");
// const outlineValue = ref("");
// const errorValue = ref("");
// const smallValue = ref("");
// const currencyValue = ref("");

// const handleValueChange = (value: string) => {
//   console.log("Value changed:", value);
// };
// Sample data
const nftListings = [
  { name: "CryptoPunk #1234", price: "1.2" },
  { name: "Bored Ape #5678", price: "0.8" },
  { name: "Doodles #9012", price: "0.5" },
  { name: "Azuki #3456", price: "1.1" },
];

const lendingListings = [
  { name: "CryptoPunk #1234", collateral: "2.5", apy: "15", duration: "30" },
  { name: "Bored Ape #5678", collateral: "1.8", apy: "22", duration: "60" },
  { name: "Azuki #3456", collateral: "1.2", apy: "18", duration: "45" },
];

const faqItems = [
  {
    label: "How does the fiat-to-stablecoin conversion work?",
    content:
      "Our platform facilitates conversions between fiat currencies and stablecoins using liquidity pools. When you initiate a conversion, the system sources the best rates from our pools, ensuring minimal slippage and competitive exchange rates. The process is automated and typically completes within minutes, depending on the blockchain network congestion.",
    defaultOpen: false,
  },
  {
    label: "What currencies are supported on Distant Finance?",
    content:
      "We support a wide range of fiat currencies, including Nigerian Naira (NGN), Kenyan Shilling (KES), and all Paystack-supported currencies. For stablecoins, we support USDC, USDT, DAI, BUSD, and several others. We're continuously expanding our supported currencies based on user demand and market conditions.",
    defaultOpen: false,
  },
  {
    label: "How do I earn from providing liquidity?",
    content:
      "When you provide liquidity to our pools, you earn a portion of the transaction fees generated from currency conversions. The fee distribution is proportional to your share of the pool. Additionally, we offer incentive programs for liquidity providers, which can boost your returns. You can track your earnings in real-time through your dashboard.",
    defaultOpen: false,
  },
  {
    label: "What are the fees for using Distant Finance?",
    content:
      "Our fee structure is designed to be transparent and competitive. For currency conversions, we charge a 0.3% fee, which is distributed to liquidity providers. NFT marketplace transactions have a 2.5% fee. P2P lending fees vary based on the loan terms but typically range from 0.5% to 1%. There are no hidden fees or charges on our platform.",
    defaultOpen: false,
  },
  {
    label: "How does P2P NFT lending work?",
    content:
      "Our P2P NFT lending feature allows you to use your NFTs as collateral for loans or earn interest by lending to others. As a borrower, you can set your desired loan terms or browse available offers. As a lender, you can create loan offers specifying the interest rate and duration. All transactions are secured by smart contracts, ensuring that NFTs are returned upon loan repayment or transferred to the lender in case of default.",
    defaultOpen: false,
  },
  {
    label: "Is Distant Finance secure?",
    content:
      "Security is our top priority. We employ industry-leading security measures, including multi-signature wallets, regular security audits, and insurance coverage for funds held on the platform. Our smart contracts have been audited by reputable security firms, and we maintain a bug bounty program to continuously improve our security posture. Additionally, we offer various account security features, including two-factor authentication and withdrawal address whitelisting.",
    defaultOpen: false,
  },
];
</script>

<script lang="ts"></script>
</file>

<file path="apps/web/package.json">
{
  "name": "nuxt-app",
  "private": true,
  "type": "module",
  "scripts": {
    "build": "nuxt build",
    "dev": "nuxt dev",
    "generate": "nuxt generate",
    "preview": "nuxt preview",
    "postinstall": "nuxt prepare"
  },
  "devDependencies": {
    "@nuxt/devtools": "latest",
    "@nuxt/eslint": "^0.7.4",
    "@nuxt/image": "1.8.1",
    "@nuxt/scripts": "^0.11.0",
    "@nuxt/ui": "3.1.3",
    "@nuxtjs/supabase": "1.5.3",
    "eslint": "^9.17.0",
    "nuxt": "^3.17.5",
    "pinia": "^2.3.0",
    "vue": "latest"
  },
  "packageManager": "pnpm@9.12.3+sha512.cce0f9de9c5a7c95bef944169cc5dfe8741abfb145078c0d508b868056848a87c81e626246cb60967cbd7fd29a6c062ef73ff840d96b3c86c40ac92cf4a813ee",
  "dependencies": {
    "@iconify-json/lucide": "^1.2.46",
    "@nuxtjs/seo": "^3.0.1",
    "@paystack/inline-js": "^2.22.6",
    "@reown/appkit": "^1.7.8",
    "@reown/appkit-adapter-solana": "^1.7.8",
    "@reown/appkit-adapter-wagmi": "^1.7.8",
    "@studio-freight/lenis": "^1.0.42",
    "@tanstack/vue-query": "^5.79.2",
    "@vueuse/core": "^13.3.0",
    "@vueuse/nuxt": "^12.3.0",
    "@wagmi/vue": "^0.1.20",
    "better-auth": "^1.2.12",
    "clsx": "^2.1.1",
    "motion-v": "^1.2.0",
    "tailwindcss": "4.0.14",
    "viem": "^2.30.6",
    "vue-sonner": "^1.3.0"
  }
}
</file>

</files>
